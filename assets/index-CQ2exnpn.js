function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
function AE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var Hs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Z0={exports:{}},ih={},ek={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cl=Symbol.for("react.element"),DE=Symbol.for("react.portal"),PE=Symbol.for("react.fragment"),RE=Symbol.for("react.strict_mode"),LE=Symbol.for("react.profiler"),OE=Symbol.for("react.provider"),HE=Symbol.for("react.context"),$E=Symbol.for("react.forward_ref"),jE=Symbol.for("react.suspense"),GE=Symbol.for("react.memo"),BE=Symbol.for("react.lazy"),Yw=Symbol.iterator;function WE(e){return e===null||typeof e!="object"?null:(e=Yw&&e[Yw]||e["@@iterator"],typeof e=="function"?e:null)}var tk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nk=Object.assign,rk={};function Xi(e,t,n){this.props=e,this.context=t,this.refs=rk,this.updater=n||tk}Xi.prototype.isReactComponent={};Xi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ok(){}ok.prototype=Xi.prototype;function Ep(e,t,n){this.props=e,this.context=t,this.refs=rk,this.updater=n||tk}var Tp=Ep.prototype=new ok;Tp.constructor=Ep;nk(Tp,Xi.prototype);Tp.isPureReactComponent=!0;var Jw=Array.isArray,ak=Object.prototype.hasOwnProperty,Np={current:null},ik={key:!0,ref:!0,__self:!0,__source:!0};function sk(e,t,n){var r,o={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)ak.call(t,r)&&!ik.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:Cl,type:e,key:a,ref:i,props:o,_owner:Np.current}}function zE(e,t){return{$$typeof:Cl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Mp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cl}function qE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Uw=/\/+/g;function hf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qE(""+e.key):t.toString(36)}function Bc(e,t,n,r,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Cl:case DE:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+hf(i,0):r,Jw(o)?(n="",e!=null&&(n=e.replace(Uw,"$&/")+"/"),Bc(o,t,n,"",function(c){return c})):o!=null&&(Mp(o)&&(o=zE(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Uw,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",Jw(e))for(var s=0;s<e.length;s++){a=e[s];var l=r+hf(a,s);i+=Bc(a,t,n,l,o)}else if(l=WE(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=r+hf(a,s++),i+=Bc(a,t,n,l,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function uc(e,t,n){if(e==null)return e;var r=[],o=0;return Bc(e,r,"","",function(a){return t.call(n,a,o++)}),r}function FE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wn={current:null},Wc={transition:null},VE={ReactCurrentDispatcher:wn,ReactCurrentBatchConfig:Wc,ReactCurrentOwner:Np};rt.Children={map:uc,forEach:function(e,t,n){uc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return uc(e,function(){t++}),t},toArray:function(e){return uc(e,function(t){return t})||[]},only:function(e){if(!Mp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};rt.Component=Xi;rt.Fragment=PE;rt.Profiler=LE;rt.PureComponent=Ep;rt.StrictMode=RE;rt.Suspense=jE;rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VE;rt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=nk({},e.props),o=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Np.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)ak.call(t,l)&&!ik.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Cl,type:e.type,key:o,ref:a,props:r,_owner:i}};rt.createContext=function(e){return e={$$typeof:HE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:OE,_context:e},e.Consumer=e};rt.createElement=sk;rt.createFactory=function(e){var t=sk.bind(null,e);return t.type=e,t};rt.createRef=function(){return{current:null}};rt.forwardRef=function(e){return{$$typeof:$E,render:e}};rt.isValidElement=Mp;rt.lazy=function(e){return{$$typeof:BE,_payload:{_status:-1,_result:e},_init:FE}};rt.memo=function(e,t){return{$$typeof:GE,type:e,compare:t===void 0?null:t}};rt.startTransition=function(e){var t=Wc.transition;Wc.transition={};try{e()}finally{Wc.transition=t}};rt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};rt.useCallback=function(e,t){return wn.current.useCallback(e,t)};rt.useContext=function(e){return wn.current.useContext(e)};rt.useDebugValue=function(){};rt.useDeferredValue=function(e){return wn.current.useDeferredValue(e)};rt.useEffect=function(e,t){return wn.current.useEffect(e,t)};rt.useId=function(){return wn.current.useId()};rt.useImperativeHandle=function(e,t,n){return wn.current.useImperativeHandle(e,t,n)};rt.useInsertionEffect=function(e,t){return wn.current.useInsertionEffect(e,t)};rt.useLayoutEffect=function(e,t){return wn.current.useLayoutEffect(e,t)};rt.useMemo=function(e,t){return wn.current.useMemo(e,t)};rt.useReducer=function(e,t,n){return wn.current.useReducer(e,t,n)};rt.useRef=function(e){return wn.current.useRef(e)};rt.useState=function(e){return wn.current.useState(e)};rt.useSyncExternalStore=function(e,t,n){return wn.current.useSyncExternalStore(e,t,n)};rt.useTransition=function(){return wn.current.useTransition()};rt.version="18.2.0";ek.exports=rt;var E=ek.exports;const P=Sl(E),lk=AE({__proto__:null,default:P},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE=E,JE=Symbol.for("react.element"),UE=Symbol.for("react.fragment"),KE=Object.prototype.hasOwnProperty,XE=YE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QE={key:!0,ref:!0,__self:!0,__source:!0};function ck(e,t,n){var r,o={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)KE.call(t,r)&&!QE.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:JE,type:e,key:a,ref:i,props:o,_owner:XE.current}}ih.Fragment=UE;ih.jsx=ck;ih.jsxs=ck;Z0.exports=ih;var I=Z0.exports,sm={},uk={exports:{}},Vn={},hk={exports:{}},dk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,R){var V=N.length;N.push(R);e:for(;0<V;){var W=V-1>>>1,oe=N[W];if(0<o(oe,R))N[W]=R,N[V]=oe,V=W;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var R=N[0],V=N.pop();if(V!==R){N[0]=V;e:for(var W=0,oe=N.length,le=oe>>>1;W<le;){var Q=2*(W+1)-1,ce=N[Q],ge=Q+1,Ee=N[ge];if(0>o(ce,V))ge<oe&&0>o(Ee,ce)?(N[W]=Ee,N[ge]=V,W=ge):(N[W]=ce,N[Q]=V,W=Q);else if(ge<oe&&0>o(Ee,V))N[W]=Ee,N[ge]=V,W=ge;else break e}}return R}function o(N,R){var V=N.sortIndex-R.sortIndex;return V!==0?V:N.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var l=[],c=[],u=1,h=null,d=3,f=!1,w=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(N){for(var R=n(c);R!==null;){if(R.callback===null)r(c);else if(R.startTime<=N)r(c),R.sortIndex=R.expirationTime,t(l,R);else break;R=n(c)}}function _(N){if(m=!1,b(N),!w)if(n(l)!==null)w=!0,S(x);else{var R=n(c);R!==null&&H(_,R.startTime-N)}}function x(N,R){w=!1,m&&(m=!1,p(D),D=-1),f=!0;var V=d;try{for(b(R),h=n(l);h!==null&&(!(h.expirationTime>R)||N&&!K());){var W=h.callback;if(typeof W=="function"){h.callback=null,d=h.priorityLevel;var oe=W(h.expirationTime<=R);R=e.unstable_now(),typeof oe=="function"?h.callback=oe:h===n(l)&&r(l),b(R)}else r(l);h=n(l)}if(h!==null)var le=!0;else{var Q=n(c);Q!==null&&H(_,Q.startTime-R),le=!1}return le}finally{h=null,d=V,f=!1}}var C=!1,O=null,D=-1,q=5,J=-1;function K(){return!(e.unstable_now()-J<q)}function B(){if(O!==null){var N=e.unstable_now();J=N;var R=!0;try{R=O(!0,N)}finally{R?Z():(C=!1,O=null)}}else C=!1}var Z;if(typeof y=="function")Z=function(){y(B)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,$=M.port2;M.port1.onmessage=B,Z=function(){$.postMessage(null)}}else Z=function(){g(B,0)};function S(N){O=N,C||(C=!0,Z())}function H(N,R){D=g(function(){N(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){w||f||(w=!0,S(x))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(N){switch(d){case 1:case 2:case 3:var R=3;break;default:R=d}var V=d;d=R;try{return N()}finally{d=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,R){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var V=d;d=N;try{return R()}finally{d=V}},e.unstable_scheduleCallback=function(N,R,V){var W=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?W+V:W):V=W,N){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=V+oe,N={id:u++,callback:R,priorityLevel:N,startTime:V,expirationTime:oe,sortIndex:-1},V>W?(N.sortIndex=V,t(c,N),n(l)===null&&N===n(c)&&(m?(p(D),D=-1):m=!0,H(_,V-W))):(N.sortIndex=oe,t(l,N),w||f||(w=!0,S(x))),N},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(N){var R=d;return function(){var V=d;d=R;try{return N.apply(this,arguments)}finally{d=V}}}})(dk);hk.exports=dk;var ZE=hk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fk=E,Wn=ZE;function _e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mk=new Set,nl={};function Ba(e,t){Li(e,t),Li(e+"Capture",t)}function Li(e,t){for(nl[e]=t,e=0;e<t.length;e++)mk.add(t[e])}var lo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lm=Object.prototype.hasOwnProperty,eT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kw={},Xw={};function tT(e){return lm.call(Xw,e)?!0:lm.call(Kw,e)?!1:eT.test(e)?Xw[e]=!0:(Kw[e]=!0,!1)}function nT(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rT(e,t,n,r){if(t===null||typeof t>"u"||nT(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vn(e,t,n,r,o,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rn[e]=new vn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rn[t]=new vn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rn[e]=new vn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rn[e]=new vn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rn[e]=new vn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rn[e]=new vn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rn[e]=new vn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rn[e]=new vn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rn[e]=new vn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ap=/[\-:]([a-z])/g;function Dp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ap,Dp);rn[t]=new vn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ap,Dp);rn[t]=new vn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ap,Dp);rn[t]=new vn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rn[e]=new vn(e,1,!1,e.toLowerCase(),null,!1,!1)});rn.xlinkHref=new vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rn[e]=new vn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pp(e,t,n,r){var o=rn.hasOwnProperty(t)?rn[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rT(t,n,o,r)&&(n=null),r||o===null?tT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var po=fk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hc=Symbol.for("react.element"),hi=Symbol.for("react.portal"),di=Symbol.for("react.fragment"),Rp=Symbol.for("react.strict_mode"),cm=Symbol.for("react.profiler"),pk=Symbol.for("react.provider"),gk=Symbol.for("react.context"),Lp=Symbol.for("react.forward_ref"),um=Symbol.for("react.suspense"),hm=Symbol.for("react.suspense_list"),Op=Symbol.for("react.memo"),Ro=Symbol.for("react.lazy"),yk=Symbol.for("react.offscreen"),Qw=Symbol.iterator;function xs(e){return e===null||typeof e!="object"?null:(e=Qw&&e[Qw]||e["@@iterator"],typeof e=="function"?e:null)}var Pt=Object.assign,df;function $s(e){if(df===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);df=t&&t[1]||""}return`
`+df+e}var ff=!1;function mf(e,t){if(!e||ff)return"";ff=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),a=r.stack.split(`
`),i=o.length-1,s=a.length-1;1<=i&&0<=s&&o[i]!==a[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==a[s]){if(i!==1||s!==1)do if(i--,s--,0>s||o[i]!==a[s]){var l=`
`+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=s);break}}}finally{ff=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$s(e):""}function oT(e){switch(e.tag){case 5:return $s(e.type);case 16:return $s("Lazy");case 13:return $s("Suspense");case 19:return $s("SuspenseList");case 0:case 2:case 15:return e=mf(e.type,!1),e;case 11:return e=mf(e.type.render,!1),e;case 1:return e=mf(e.type,!0),e;default:return""}}function dm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case di:return"Fragment";case hi:return"Portal";case cm:return"Profiler";case Rp:return"StrictMode";case um:return"Suspense";case hm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gk:return(e.displayName||"Context")+".Consumer";case pk:return(e._context.displayName||"Context")+".Provider";case Lp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Op:return t=e.displayName||null,t!==null?t:dm(e.type)||"Memo";case Ro:t=e._payload,e=e._init;try{return dm(e(t))}catch{}}return null}function aT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dm(t);case 8:return t===Rp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ko(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iT(e){var t=wk(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dc(e){e._valueTracker||(e._valueTracker=iT(e))}function vk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=wk(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function du(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fm(e,t){var n=t.checked;return Pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Zw(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ko(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bk(e,t){t=t.checked,t!=null&&Pp(e,"checked",t,!1)}function mm(e,t){bk(e,t);var n=Ko(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pm(e,t.type,n):t.hasOwnProperty("defaultValue")&&pm(e,t.type,Ko(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ev(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function pm(e,t,n){(t!=="number"||du(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var js=Array.isArray;function Si(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ko(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function gm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_e(91));return Pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_e(92));if(js(n)){if(1<n.length)throw Error(_e(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ko(n)}}function kk(e,t){var n=Ko(t.value),r=Ko(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function nv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ym(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fc,_k=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fc=fc||document.createElement("div"),fc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sT=["Webkit","ms","Moz","O"];Object.keys(Fs).forEach(function(e){sT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fs[t]=Fs[e]})});function Ik(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Fs.hasOwnProperty(e)&&Fs[e]?(""+t).trim():t+"px"}function Sk(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Ik(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var lT=Pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wm(e,t){if(t){if(lT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_e(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_e(62))}}function vm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bm=null;function Hp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var km=null,Ci=null,Ei=null;function rv(e){if(e=Nl(e)){if(typeof km!="function")throw Error(_e(280));var t=e.stateNode;t&&(t=hh(t),km(e.stateNode,e.type,t))}}function Ck(e){Ci?Ei?Ei.push(e):Ei=[e]:Ci=e}function Ek(){if(Ci){var e=Ci,t=Ei;if(Ei=Ci=null,rv(e),t)for(e=0;e<t.length;e++)rv(t[e])}}function Tk(e,t){return e(t)}function Nk(){}var pf=!1;function Mk(e,t,n){if(pf)return e(t,n);pf=!0;try{return Tk(e,t,n)}finally{pf=!1,(Ci!==null||Ei!==null)&&(Nk(),Ek())}}function ol(e,t){var n=e.stateNode;if(n===null)return null;var r=hh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_e(231,t,typeof n));return n}var xm=!1;if(lo)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){xm=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{xm=!1}function cT(e,t,n,r,o,a,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Vs=!1,fu=null,mu=!1,_m=null,uT={onError:function(e){Vs=!0,fu=e}};function hT(e,t,n,r,o,a,i,s,l){Vs=!1,fu=null,cT.apply(uT,arguments)}function dT(e,t,n,r,o,a,i,s,l){if(hT.apply(this,arguments),Vs){if(Vs){var c=fu;Vs=!1,fu=null}else throw Error(_e(198));mu||(mu=!0,_m=c)}}function Wa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ak(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ov(e){if(Wa(e)!==e)throw Error(_e(188))}function fT(e){var t=e.alternate;if(!t){if(t=Wa(e),t===null)throw Error(_e(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return ov(o),e;if(a===r)return ov(o),t;a=a.sibling}throw Error(_e(188))}if(n.return!==r.return)n=o,r=a;else{for(var i=!1,s=o.child;s;){if(s===n){i=!0,n=o,r=a;break}if(s===r){i=!0,r=o,n=a;break}s=s.sibling}if(!i){for(s=a.child;s;){if(s===n){i=!0,n=a,r=o;break}if(s===r){i=!0,r=a,n=o;break}s=s.sibling}if(!i)throw Error(_e(189))}}if(n.alternate!==r)throw Error(_e(190))}if(n.tag!==3)throw Error(_e(188));return n.stateNode.current===n?e:t}function Dk(e){return e=fT(e),e!==null?Pk(e):null}function Pk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pk(e);if(t!==null)return t;e=e.sibling}return null}var Rk=Wn.unstable_scheduleCallback,av=Wn.unstable_cancelCallback,mT=Wn.unstable_shouldYield,pT=Wn.unstable_requestPaint,jt=Wn.unstable_now,gT=Wn.unstable_getCurrentPriorityLevel,$p=Wn.unstable_ImmediatePriority,Lk=Wn.unstable_UserBlockingPriority,pu=Wn.unstable_NormalPriority,yT=Wn.unstable_LowPriority,Ok=Wn.unstable_IdlePriority,sh=null,jr=null;function wT(e){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(sh,e,void 0,(e.current.flags&128)===128)}catch{}}var br=Math.clz32?Math.clz32:kT,vT=Math.log,bT=Math.LN2;function kT(e){return e>>>=0,e===0?32:31-(vT(e)/bT|0)|0}var mc=64,pc=4194304;function Gs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var s=i&~o;s!==0?r=Gs(s):(a&=i,a!==0&&(r=Gs(a)))}else i=n&~o,i!==0?r=Gs(i):a!==0&&(r=Gs(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-br(t),o=1<<n,r|=e[n],t&=~o;return r}function xT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _T(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-br(a),s=1<<i,l=o[i];l===-1?(!(s&n)||s&r)&&(o[i]=xT(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function Im(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Hk(){var e=mc;return mc<<=1,!(mc&4194240)&&(mc=64),e}function gf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function El(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-br(t),e[t]=n}function IT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-br(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}function jp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-br(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var wt=0;function $k(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jk,Gp,Gk,Bk,Wk,Sm=!1,gc=[],Go=null,Bo=null,Wo=null,al=new Map,il=new Map,Oo=[],ST="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iv(e,t){switch(e){case"focusin":case"focusout":Go=null;break;case"dragenter":case"dragleave":Bo=null;break;case"mouseover":case"mouseout":Wo=null;break;case"pointerover":case"pointerout":al.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(t.pointerId)}}function Is(e,t,n,r,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},t!==null&&(t=Nl(t),t!==null&&Gp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function CT(e,t,n,r,o){switch(t){case"focusin":return Go=Is(Go,e,t,n,r,o),!0;case"dragenter":return Bo=Is(Bo,e,t,n,r,o),!0;case"mouseover":return Wo=Is(Wo,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return al.set(a,Is(al.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,il.set(a,Is(il.get(a)||null,e,t,n,r,o)),!0}return!1}function zk(e){var t=va(e.target);if(t!==null){var n=Wa(t);if(n!==null){if(t=n.tag,t===13){if(t=Ak(n),t!==null){e.blockedOn=t,Wk(e.priority,function(){Gk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);bm=r,n.target.dispatchEvent(r),bm=null}else return t=Nl(n),t!==null&&Gp(t),e.blockedOn=n,!1;t.shift()}return!0}function sv(e,t,n){zc(e)&&n.delete(t)}function ET(){Sm=!1,Go!==null&&zc(Go)&&(Go=null),Bo!==null&&zc(Bo)&&(Bo=null),Wo!==null&&zc(Wo)&&(Wo=null),al.forEach(sv),il.forEach(sv)}function Ss(e,t){e.blockedOn===t&&(e.blockedOn=null,Sm||(Sm=!0,Wn.unstable_scheduleCallback(Wn.unstable_NormalPriority,ET)))}function sl(e){function t(o){return Ss(o,e)}if(0<gc.length){Ss(gc[0],e);for(var n=1;n<gc.length;n++){var r=gc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Go!==null&&Ss(Go,e),Bo!==null&&Ss(Bo,e),Wo!==null&&Ss(Wo,e),al.forEach(t),il.forEach(t),n=0;n<Oo.length;n++)r=Oo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Oo.length&&(n=Oo[0],n.blockedOn===null);)zk(n),n.blockedOn===null&&Oo.shift()}var Ti=po.ReactCurrentBatchConfig,yu=!0;function TT(e,t,n,r){var o=wt,a=Ti.transition;Ti.transition=null;try{wt=1,Bp(e,t,n,r)}finally{wt=o,Ti.transition=a}}function NT(e,t,n,r){var o=wt,a=Ti.transition;Ti.transition=null;try{wt=4,Bp(e,t,n,r)}finally{wt=o,Ti.transition=a}}function Bp(e,t,n,r){if(yu){var o=Cm(e,t,n,r);if(o===null)Cf(e,t,r,wu,n),iv(e,r);else if(CT(o,e,t,n,r))r.stopPropagation();else if(iv(e,r),t&4&&-1<ST.indexOf(e)){for(;o!==null;){var a=Nl(o);if(a!==null&&jk(a),a=Cm(e,t,n,r),a===null&&Cf(e,t,r,wu,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else Cf(e,t,r,null,n)}}var wu=null;function Cm(e,t,n,r){if(wu=null,e=Hp(r),e=va(e),e!==null)if(t=Wa(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ak(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wu=e,null}function qk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gT()){case $p:return 1;case Lk:return 4;case pu:case yT:return 16;case Ok:return 536870912;default:return 16}default:return 16}}var $o=null,Wp=null,qc=null;function Fk(){if(qc)return qc;var e,t=Wp,n=t.length,r,o="value"in $o?$o.value:$o.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[a-r];r++);return qc=o.slice(e,1<r?1-r:void 0)}function Fc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yc(){return!0}function lv(){return!1}function Yn(e){function t(n,r,o,a,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?yc:lv,this.isPropagationStopped=lv,this}return Pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yc)},persist:function(){},isPersistent:yc}),t}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zp=Yn(Qi),Tl=Pt({},Qi,{view:0,detail:0}),MT=Yn(Tl),yf,wf,Cs,lh=Pt({},Tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cs&&(Cs&&e.type==="mousemove"?(yf=e.screenX-Cs.screenX,wf=e.screenY-Cs.screenY):wf=yf=0,Cs=e),yf)},movementY:function(e){return"movementY"in e?e.movementY:wf}}),cv=Yn(lh),AT=Pt({},lh,{dataTransfer:0}),DT=Yn(AT),PT=Pt({},Tl,{relatedTarget:0}),vf=Yn(PT),RT=Pt({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),LT=Yn(RT),OT=Pt({},Qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),HT=Yn(OT),$T=Pt({},Qi,{data:0}),uv=Yn($T),jT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=BT[e])?!!t[e]:!1}function qp(){return WT}var zT=Pt({},Tl,{key:function(e){if(e.key){var t=jT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?GT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qp,charCode:function(e){return e.type==="keypress"?Fc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qT=Yn(zT),FT=Pt({},lh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hv=Yn(FT),VT=Pt({},Tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qp}),YT=Yn(VT),JT=Pt({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),UT=Yn(JT),KT=Pt({},lh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),XT=Yn(KT),QT=[9,13,27,32],Fp=lo&&"CompositionEvent"in window,Ys=null;lo&&"documentMode"in document&&(Ys=document.documentMode);var ZT=lo&&"TextEvent"in window&&!Ys,Vk=lo&&(!Fp||Ys&&8<Ys&&11>=Ys),dv=" ",fv=!1;function Yk(e,t){switch(e){case"keyup":return QT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fi=!1;function eN(e,t){switch(e){case"compositionend":return Jk(t);case"keypress":return t.which!==32?null:(fv=!0,dv);case"textInput":return e=t.data,e===dv&&fv?null:e;default:return null}}function tN(e,t){if(fi)return e==="compositionend"||!Fp&&Yk(e,t)?(e=Fk(),qc=Wp=$o=null,fi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vk&&t.locale!=="ko"?null:t.data;default:return null}}var nN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nN[e.type]:t==="textarea"}function Uk(e,t,n,r){Ck(r),t=vu(t,"onChange"),0<t.length&&(n=new zp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Js=null,ll=null;function rN(e){i1(e,0)}function ch(e){var t=gi(e);if(vk(t))return e}function oN(e,t){if(e==="change")return t}var Kk=!1;if(lo){var bf;if(lo){var kf="oninput"in document;if(!kf){var pv=document.createElement("div");pv.setAttribute("oninput","return;"),kf=typeof pv.oninput=="function"}bf=kf}else bf=!1;Kk=bf&&(!document.documentMode||9<document.documentMode)}function gv(){Js&&(Js.detachEvent("onpropertychange",Xk),ll=Js=null)}function Xk(e){if(e.propertyName==="value"&&ch(ll)){var t=[];Uk(t,ll,e,Hp(e)),Mk(rN,t)}}function aN(e,t,n){e==="focusin"?(gv(),Js=t,ll=n,Js.attachEvent("onpropertychange",Xk)):e==="focusout"&&gv()}function iN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ch(ll)}function sN(e,t){if(e==="click")return ch(t)}function lN(e,t){if(e==="input"||e==="change")return ch(t)}function cN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sr=typeof Object.is=="function"?Object.is:cN;function cl(e,t){if(Sr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!lm.call(t,o)||!Sr(e[o],t[o]))return!1}return!0}function yv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wv(e,t){var n=yv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yv(n)}}function Qk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zk(){for(var e=window,t=du();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=du(e.document)}return t}function Vp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uN(e){var t=Zk(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Qk(n.ownerDocument.documentElement,n)){if(r!==null&&Vp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=wv(n,a);var i=wv(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hN=lo&&"documentMode"in document&&11>=document.documentMode,mi=null,Em=null,Us=null,Tm=!1;function vv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tm||mi==null||mi!==du(r)||(r=mi,"selectionStart"in r&&Vp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Us&&cl(Us,r)||(Us=r,r=vu(Em,"onSelect"),0<r.length&&(t=new zp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mi)))}function wc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pi={animationend:wc("Animation","AnimationEnd"),animationiteration:wc("Animation","AnimationIteration"),animationstart:wc("Animation","AnimationStart"),transitionend:wc("Transition","TransitionEnd")},xf={},e1={};lo&&(e1=document.createElement("div").style,"AnimationEvent"in window||(delete pi.animationend.animation,delete pi.animationiteration.animation,delete pi.animationstart.animation),"TransitionEvent"in window||delete pi.transitionend.transition);function uh(e){if(xf[e])return xf[e];if(!pi[e])return e;var t=pi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in e1)return xf[e]=t[n];return e}var t1=uh("animationend"),n1=uh("animationiteration"),r1=uh("animationstart"),o1=uh("transitionend"),a1=new Map,bv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ra(e,t){a1.set(e,t),Ba(t,[e])}for(var _f=0;_f<bv.length;_f++){var If=bv[_f],dN=If.toLowerCase(),fN=If[0].toUpperCase()+If.slice(1);ra(dN,"on"+fN)}ra(t1,"onAnimationEnd");ra(n1,"onAnimationIteration");ra(r1,"onAnimationStart");ra("dblclick","onDoubleClick");ra("focusin","onFocus");ra("focusout","onBlur");ra(o1,"onTransitionEnd");Li("onMouseEnter",["mouseout","mouseover"]);Li("onMouseLeave",["mouseout","mouseover"]);Li("onPointerEnter",["pointerout","pointerover"]);Li("onPointerLeave",["pointerout","pointerover"]);Ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ba("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bs));function kv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,dT(r,t,void 0,e),e.currentTarget=null}function i1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&o.isPropagationStopped())break e;kv(o,s,c),a=l}else for(i=0;i<r.length;i++){if(s=r[i],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&o.isPropagationStopped())break e;kv(o,s,c),a=l}}}if(mu)throw e=_m,mu=!1,_m=null,e}function _t(e,t){var n=t[Pm];n===void 0&&(n=t[Pm]=new Set);var r=e+"__bubble";n.has(r)||(s1(t,e,2,!1),n.add(r))}function Sf(e,t,n){var r=0;t&&(r|=4),s1(n,e,r,t)}var vc="_reactListening"+Math.random().toString(36).slice(2);function ul(e){if(!e[vc]){e[vc]=!0,mk.forEach(function(n){n!=="selectionchange"&&(mN.has(n)||Sf(n,!1,e),Sf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vc]||(t[vc]=!0,Sf("selectionchange",!1,t))}}function s1(e,t,n,r){switch(qk(t)){case 1:var o=TT;break;case 4:o=NT;break;default:o=Bp}n=o.bind(null,t,n,e),o=void 0,!xm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Cf(e,t,n,r,o){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var s=r.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;s!==null;){if(i=va(s),i===null)return;if(l=i.tag,l===5||l===6){r=a=i;continue e}s=s.parentNode}}r=r.return}Mk(function(){var c=a,u=Hp(n),h=[];e:{var d=a1.get(e);if(d!==void 0){var f=zp,w=e;switch(e){case"keypress":if(Fc(n)===0)break e;case"keydown":case"keyup":f=qT;break;case"focusin":w="focus",f=vf;break;case"focusout":w="blur",f=vf;break;case"beforeblur":case"afterblur":f=vf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=cv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=DT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=YT;break;case t1:case n1:case r1:f=LT;break;case o1:f=UT;break;case"scroll":f=MT;break;case"wheel":f=XT;break;case"copy":case"cut":case"paste":f=HT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=hv}var m=(t&4)!==0,g=!m&&e==="scroll",p=m?d!==null?d+"Capture":null:d;m=[];for(var y=c,b;y!==null;){b=y;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,p!==null&&(_=ol(y,p),_!=null&&m.push(hl(y,_,b)))),g)break;y=y.return}0<m.length&&(d=new f(d,w,null,n,u),h.push({event:d,listeners:m}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",d&&n!==bm&&(w=n.relatedTarget||n.fromElement)&&(va(w)||w[co]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(w=n.relatedTarget||n.toElement,f=c,w=w?va(w):null,w!==null&&(g=Wa(w),w!==g||w.tag!==5&&w.tag!==6)&&(w=null)):(f=null,w=c),f!==w)){if(m=cv,_="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=hv,_="onPointerLeave",p="onPointerEnter",y="pointer"),g=f==null?d:gi(f),b=w==null?d:gi(w),d=new m(_,y+"leave",f,n,u),d.target=g,d.relatedTarget=b,_=null,va(u)===c&&(m=new m(p,y+"enter",w,n,u),m.target=b,m.relatedTarget=g,_=m),g=_,f&&w)t:{for(m=f,p=w,y=0,b=m;b;b=oi(b))y++;for(b=0,_=p;_;_=oi(_))b++;for(;0<y-b;)m=oi(m),y--;for(;0<b-y;)p=oi(p),b--;for(;y--;){if(m===p||p!==null&&m===p.alternate)break t;m=oi(m),p=oi(p)}m=null}else m=null;f!==null&&xv(h,d,f,m,!1),w!==null&&g!==null&&xv(h,g,w,m,!0)}}e:{if(d=c?gi(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var x=oN;else if(mv(d))if(Kk)x=lN;else{x=iN;var C=aN}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=sN);if(x&&(x=x(e,c))){Uk(h,x,n,u);break e}C&&C(e,d,c),e==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&pm(d,"number",d.value)}switch(C=c?gi(c):window,e){case"focusin":(mv(C)||C.contentEditable==="true")&&(mi=C,Em=c,Us=null);break;case"focusout":Us=Em=mi=null;break;case"mousedown":Tm=!0;break;case"contextmenu":case"mouseup":case"dragend":Tm=!1,vv(h,n,u);break;case"selectionchange":if(hN)break;case"keydown":case"keyup":vv(h,n,u)}var O;if(Fp)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else fi?Yk(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(Vk&&n.locale!=="ko"&&(fi||D!=="onCompositionStart"?D==="onCompositionEnd"&&fi&&(O=Fk()):($o=u,Wp="value"in $o?$o.value:$o.textContent,fi=!0)),C=vu(c,D),0<C.length&&(D=new uv(D,e,null,n,u),h.push({event:D,listeners:C}),O?D.data=O:(O=Jk(n),O!==null&&(D.data=O)))),(O=ZT?eN(e,n):tN(e,n))&&(c=vu(c,"onBeforeInput"),0<c.length&&(u=new uv("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=O))}i1(h,t)})}function hl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vu(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=ol(e,n),a!=null&&r.unshift(hl(e,a,o)),a=ol(e,t),a!=null&&r.push(hl(e,a,o))),e=e.return}return r}function oi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xv(e,t,n,r,o){for(var a=t._reactName,i=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,o?(l=ol(n,a),l!=null&&i.unshift(hl(n,l,s))):o||(l=ol(n,a),l!=null&&i.push(hl(n,l,s)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var pN=/\r\n?/g,gN=/\u0000|\uFFFD/g;function _v(e){return(typeof e=="string"?e:""+e).replace(pN,`
`).replace(gN,"")}function bc(e,t,n){if(t=_v(t),_v(e)!==t&&n)throw Error(_e(425))}function bu(){}var Nm=null,Mm=null;function Am(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dm=typeof setTimeout=="function"?setTimeout:void 0,yN=typeof clearTimeout=="function"?clearTimeout:void 0,Iv=typeof Promise=="function"?Promise:void 0,wN=typeof queueMicrotask=="function"?queueMicrotask:typeof Iv<"u"?function(e){return Iv.resolve(null).then(e).catch(vN)}:Dm;function vN(e){setTimeout(function(){throw e})}function Ef(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),sl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);sl(t)}function zo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),Hr="__reactFiber$"+Zi,dl="__reactProps$"+Zi,co="__reactContainer$"+Zi,Pm="__reactEvents$"+Zi,bN="__reactListeners$"+Zi,kN="__reactHandles$"+Zi;function va(e){var t=e[Hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[co]||n[Hr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Sv(e);e!==null;){if(n=e[Hr])return n;e=Sv(e)}return t}e=n,n=e.parentNode}return null}function Nl(e){return e=e[Hr]||e[co],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_e(33))}function hh(e){return e[dl]||null}var Rm=[],yi=-1;function oa(e){return{current:e}}function It(e){0>yi||(e.current=Rm[yi],Rm[yi]=null,yi--)}function kt(e,t){yi++,Rm[yi]=e.current,e.current=t}var Xo={},un=oa(Xo),Tn=oa(!1),Aa=Xo;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Xo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Nn(e){return e=e.childContextTypes,e!=null}function ku(){It(Tn),It(un)}function Cv(e,t,n){if(un.current!==Xo)throw Error(_e(168));kt(un,t),kt(Tn,n)}function l1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(_e(108,aT(e)||"Unknown",o));return Pt({},n,r)}function xu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xo,Aa=un.current,kt(un,e),kt(Tn,Tn.current),!0}function Ev(e,t,n){var r=e.stateNode;if(!r)throw Error(_e(169));n?(e=l1(e,t,Aa),r.__reactInternalMemoizedMergedChildContext=e,It(Tn),It(un),kt(un,e)):It(Tn),kt(Tn,n)}var eo=null,dh=!1,Tf=!1;function c1(e){eo===null?eo=[e]:eo.push(e)}function xN(e){dh=!0,c1(e)}function aa(){if(!Tf&&eo!==null){Tf=!0;var e=0,t=wt;try{var n=eo;for(wt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}eo=null,dh=!1}catch(o){throw eo!==null&&(eo=eo.slice(e+1)),Rk($p,aa),o}finally{wt=t,Tf=!1}}return null}var wi=[],vi=0,_u=null,Iu=0,Kn=[],Xn=0,Da=null,to=1,no="";function pa(e,t){wi[vi++]=Iu,wi[vi++]=_u,_u=e,Iu=t}function u1(e,t,n){Kn[Xn++]=to,Kn[Xn++]=no,Kn[Xn++]=Da,Da=e;var r=to;e=no;var o=32-br(r)-1;r&=~(1<<o),n+=1;var a=32-br(t)+o;if(30<a){var i=o-o%5;a=(r&(1<<i)-1).toString(32),r>>=i,o-=i,to=1<<32-br(t)+o|n<<o|r,no=a+e}else to=1<<a|n<<o|r,no=e}function Yp(e){e.return!==null&&(pa(e,1),u1(e,1,0))}function Jp(e){for(;e===_u;)_u=wi[--vi],wi[vi]=null,Iu=wi[--vi],wi[vi]=null;for(;e===Da;)Da=Kn[--Xn],Kn[Xn]=null,no=Kn[--Xn],Kn[Xn]=null,to=Kn[--Xn],Kn[Xn]=null}var Gn=null,jn=null,St=!1,mr=null;function h1(e,t){var n=Qn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Tv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gn=e,jn=zo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gn=e,jn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Da!==null?{id:to,overflow:no}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Qn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Gn=e,jn=null,!0):!1;default:return!1}}function Lm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Om(e){if(St){var t=jn;if(t){var n=t;if(!Tv(e,t)){if(Lm(e))throw Error(_e(418));t=zo(n.nextSibling);var r=Gn;t&&Tv(e,t)?h1(r,n):(e.flags=e.flags&-4097|2,St=!1,Gn=e)}}else{if(Lm(e))throw Error(_e(418));e.flags=e.flags&-4097|2,St=!1,Gn=e}}}function Nv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gn=e}function kc(e){if(e!==Gn)return!1;if(!St)return Nv(e),St=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Am(e.type,e.memoizedProps)),t&&(t=jn)){if(Lm(e))throw d1(),Error(_e(418));for(;t;)h1(e,t),t=zo(t.nextSibling)}if(Nv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){jn=zo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}jn=null}}else jn=Gn?zo(e.stateNode.nextSibling):null;return!0}function d1(){for(var e=jn;e;)e=zo(e.nextSibling)}function Hi(){jn=Gn=null,St=!1}function Up(e){mr===null?mr=[e]:mr.push(e)}var _N=po.ReactCurrentBatchConfig;function dr(e,t){if(e&&e.defaultProps){t=Pt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Su=oa(null),Cu=null,bi=null,Kp=null;function Xp(){Kp=bi=Cu=null}function Qp(e){var t=Su.current;It(Su),e._currentValue=t}function Hm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ni(e,t){Cu=e,Kp=bi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Cn=!0),e.firstContext=null)}function nr(e){var t=e._currentValue;if(Kp!==e)if(e={context:e,memoizedValue:t,next:null},bi===null){if(Cu===null)throw Error(_e(308));bi=e,Cu.dependencies={lanes:0,firstContext:e}}else bi=bi.next=e;return t}var ba=null;function Zp(e){ba===null?ba=[e]:ba.push(e)}function f1(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Zp(t)):(n.next=o.next,o.next=n),t.interleaved=n,uo(e,r)}function uo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Lo=!1;function eg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,lt&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,uo(e,n)}return o=r.interleaved,o===null?(t.next=t,Zp(r)):(t.next=o.next,o.next=t),r.interleaved=t,uo(e,n)}function Vc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jp(e,n)}}function Mv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Eu(e,t,n,r){var o=e.updateQueue;Lo=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var l=s,c=l.next;l.next=null,i===null?a=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==i&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(a!==null){var h=o.baseState;i=0,u=c=l=null,s=a;do{var d=s.lane,f=s.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var w=e,m=s;switch(d=t,f=n,m.tag){case 1:if(w=m.payload,typeof w=="function"){h=w.call(f,h,d);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=m.payload,d=typeof w=="function"?w.call(f,h,d):w,d==null)break e;h=Pt({},h,d);break e;case 2:Lo=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,i|=d;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;d=s,s=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(u===null&&(l=h),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);Ra|=i,e.lanes=i,e.memoizedState=h}}function Av(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(_e(191,o));o.call(r)}}}var p1=new fk.Component().refs;function $m(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var fh={isMounted:function(e){return(e=e._reactInternals)?Wa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=yn(),o=Vo(e),a=ao(r,o);a.payload=t,n!=null&&(a.callback=n),t=qo(e,a,o),t!==null&&(kr(t,e,o,r),Vc(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=yn(),o=Vo(e),a=ao(r,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=qo(e,a,o),t!==null&&(kr(t,e,o,r),Vc(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=yn(),r=Vo(e),o=ao(n,r);o.tag=2,t!=null&&(o.callback=t),t=qo(e,o,r),t!==null&&(kr(t,e,r,n),Vc(t,e,r))}};function Dv(e,t,n,r,o,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!cl(n,r)||!cl(o,a):!0}function g1(e,t,n){var r=!1,o=Xo,a=t.contextType;return typeof a=="object"&&a!==null?a=nr(a):(o=Nn(t)?Aa:un.current,r=t.contextTypes,a=(r=r!=null)?Oi(e,o):Xo),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function Pv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fh.enqueueReplaceState(t,t.state,null)}function jm(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=p1,eg(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=nr(a):(a=Nn(t)?Aa:un.current,o.context=Oi(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&($m(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&fh.enqueueReplaceState(o,o.state,null),Eu(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Es(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_e(309));var r=n.stateNode}if(!r)throw Error(_e(147,e));var o=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var s=o.refs;s===p1&&(s=o.refs={}),i===null?delete s[a]:s[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(_e(284));if(!n._owner)throw Error(_e(290,e))}return e}function xc(e,t){throw e=Object.prototype.toString.call(t),Error(_e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rv(e){var t=e._init;return t(e._payload)}function y1(e){function t(p,y){if(e){var b=p.deletions;b===null?(p.deletions=[y],p.flags|=16):b.push(y)}}function n(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function r(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function o(p,y){return p=Yo(p,y),p.index=0,p.sibling=null,p}function a(p,y,b){return p.index=b,e?(b=p.alternate,b!==null?(b=b.index,b<y?(p.flags|=2,y):b):(p.flags|=2,y)):(p.flags|=1048576,y)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function s(p,y,b,_){return y===null||y.tag!==6?(y=Lf(b,p.mode,_),y.return=p,y):(y=o(y,b),y.return=p,y)}function l(p,y,b,_){var x=b.type;return x===di?u(p,y,b.props.children,_,b.key):y!==null&&(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ro&&Rv(x)===y.type)?(_=o(y,b.props),_.ref=Es(p,y,b),_.return=p,_):(_=Qc(b.type,b.key,b.props,null,p.mode,_),_.ref=Es(p,y,b),_.return=p,_)}function c(p,y,b,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Of(b,p.mode,_),y.return=p,y):(y=o(y,b.children||[]),y.return=p,y)}function u(p,y,b,_,x){return y===null||y.tag!==7?(y=Ca(b,p.mode,_,x),y.return=p,y):(y=o(y,b),y.return=p,y)}function h(p,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Lf(""+y,p.mode,b),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case hc:return b=Qc(y.type,y.key,y.props,null,p.mode,b),b.ref=Es(p,null,y),b.return=p,b;case hi:return y=Of(y,p.mode,b),y.return=p,y;case Ro:var _=y._init;return h(p,_(y._payload),b)}if(js(y)||xs(y))return y=Ca(y,p.mode,b,null),y.return=p,y;xc(p,y)}return null}function d(p,y,b,_){var x=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return x!==null?null:s(p,y,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case hc:return b.key===x?l(p,y,b,_):null;case hi:return b.key===x?c(p,y,b,_):null;case Ro:return x=b._init,d(p,y,x(b._payload),_)}if(js(b)||xs(b))return x!==null?null:u(p,y,b,_,null);xc(p,b)}return null}function f(p,y,b,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(b)||null,s(y,p,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case hc:return p=p.get(_.key===null?b:_.key)||null,l(y,p,_,x);case hi:return p=p.get(_.key===null?b:_.key)||null,c(y,p,_,x);case Ro:var C=_._init;return f(p,y,b,C(_._payload),x)}if(js(_)||xs(_))return p=p.get(b)||null,u(y,p,_,x,null);xc(y,_)}return null}function w(p,y,b,_){for(var x=null,C=null,O=y,D=y=0,q=null;O!==null&&D<b.length;D++){O.index>D?(q=O,O=null):q=O.sibling;var J=d(p,O,b[D],_);if(J===null){O===null&&(O=q);break}e&&O&&J.alternate===null&&t(p,O),y=a(J,y,D),C===null?x=J:C.sibling=J,C=J,O=q}if(D===b.length)return n(p,O),St&&pa(p,D),x;if(O===null){for(;D<b.length;D++)O=h(p,b[D],_),O!==null&&(y=a(O,y,D),C===null?x=O:C.sibling=O,C=O);return St&&pa(p,D),x}for(O=r(p,O);D<b.length;D++)q=f(O,p,D,b[D],_),q!==null&&(e&&q.alternate!==null&&O.delete(q.key===null?D:q.key),y=a(q,y,D),C===null?x=q:C.sibling=q,C=q);return e&&O.forEach(function(K){return t(p,K)}),St&&pa(p,D),x}function m(p,y,b,_){var x=xs(b);if(typeof x!="function")throw Error(_e(150));if(b=x.call(b),b==null)throw Error(_e(151));for(var C=x=null,O=y,D=y=0,q=null,J=b.next();O!==null&&!J.done;D++,J=b.next()){O.index>D?(q=O,O=null):q=O.sibling;var K=d(p,O,J.value,_);if(K===null){O===null&&(O=q);break}e&&O&&K.alternate===null&&t(p,O),y=a(K,y,D),C===null?x=K:C.sibling=K,C=K,O=q}if(J.done)return n(p,O),St&&pa(p,D),x;if(O===null){for(;!J.done;D++,J=b.next())J=h(p,J.value,_),J!==null&&(y=a(J,y,D),C===null?x=J:C.sibling=J,C=J);return St&&pa(p,D),x}for(O=r(p,O);!J.done;D++,J=b.next())J=f(O,p,D,J.value,_),J!==null&&(e&&J.alternate!==null&&O.delete(J.key===null?D:J.key),y=a(J,y,D),C===null?x=J:C.sibling=J,C=J);return e&&O.forEach(function(B){return t(p,B)}),St&&pa(p,D),x}function g(p,y,b,_){if(typeof b=="object"&&b!==null&&b.type===di&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case hc:e:{for(var x=b.key,C=y;C!==null;){if(C.key===x){if(x=b.type,x===di){if(C.tag===7){n(p,C.sibling),y=o(C,b.props.children),y.return=p,p=y;break e}}else if(C.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ro&&Rv(x)===C.type){n(p,C.sibling),y=o(C,b.props),y.ref=Es(p,C,b),y.return=p,p=y;break e}n(p,C);break}else t(p,C);C=C.sibling}b.type===di?(y=Ca(b.props.children,p.mode,_,b.key),y.return=p,p=y):(_=Qc(b.type,b.key,b.props,null,p.mode,_),_.ref=Es(p,y,b),_.return=p,p=_)}return i(p);case hi:e:{for(C=b.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(p,y.sibling),y=o(y,b.children||[]),y.return=p,p=y;break e}else{n(p,y);break}else t(p,y);y=y.sibling}y=Of(b,p.mode,_),y.return=p,p=y}return i(p);case Ro:return C=b._init,g(p,y,C(b._payload),_)}if(js(b))return w(p,y,b,_);if(xs(b))return m(p,y,b,_);xc(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(p,y.sibling),y=o(y,b),y.return=p,p=y):(n(p,y),y=Lf(b,p.mode,_),y.return=p,p=y),i(p)):n(p,y)}return g}var $i=y1(!0),w1=y1(!1),Ml={},Gr=oa(Ml),fl=oa(Ml),ml=oa(Ml);function ka(e){if(e===Ml)throw Error(_e(174));return e}function tg(e,t){switch(kt(ml,t),kt(fl,e),kt(Gr,Ml),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ym(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ym(t,e)}It(Gr),kt(Gr,t)}function ji(){It(Gr),It(fl),It(ml)}function v1(e){ka(ml.current);var t=ka(Gr.current),n=ym(t,e.type);t!==n&&(kt(fl,e),kt(Gr,n))}function ng(e){fl.current===e&&(It(Gr),It(fl))}var Nt=oa(0);function Tu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nf=[];function rg(){for(var e=0;e<Nf.length;e++)Nf[e]._workInProgressVersionPrimary=null;Nf.length=0}var Yc=po.ReactCurrentDispatcher,Mf=po.ReactCurrentBatchConfig,Pa=0,Dt=null,Ft=null,Ut=null,Nu=!1,Ks=!1,pl=0,IN=0;function on(){throw Error(_e(321))}function og(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Sr(e[n],t[n]))return!1;return!0}function ag(e,t,n,r,o,a){if(Pa=a,Dt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yc.current=e===null||e.memoizedState===null?TN:NN,e=n(r,o),Ks){a=0;do{if(Ks=!1,pl=0,25<=a)throw Error(_e(301));a+=1,Ut=Ft=null,t.updateQueue=null,Yc.current=MN,e=n(r,o)}while(Ks)}if(Yc.current=Mu,t=Ft!==null&&Ft.next!==null,Pa=0,Ut=Ft=Dt=null,Nu=!1,t)throw Error(_e(300));return e}function ig(){var e=pl!==0;return pl=0,e}function Lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Dt.memoizedState=Ut=e:Ut=Ut.next=e,Ut}function rr(){if(Ft===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=Ft.next;var t=Ut===null?Dt.memoizedState:Ut.next;if(t!==null)Ut=t,Ft=e;else{if(e===null)throw Error(_e(310));Ft=e,e={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Ut===null?Dt.memoizedState=Ut=e:Ut=Ut.next=e}return Ut}function gl(e,t){return typeof t=="function"?t(e):t}function Af(e){var t=rr(),n=t.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=e;var r=Ft,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var i=o.next;o.next=a.next,a.next=i}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var s=i=null,l=null,c=a;do{var u=c.lane;if((Pa&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=h,i=r):l=l.next=h,Dt.lanes|=u,Ra|=u}c=c.next}while(c!==null&&c!==a);l===null?i=r:l.next=s,Sr(r,t.memoizedState)||(Cn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do a=o.lane,Dt.lanes|=a,Ra|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Df(e){var t=rr(),n=t.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do a=e(a,i.action),i=i.next;while(i!==o);Sr(a,t.memoizedState)||(Cn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function b1(){}function k1(e,t){var n=Dt,r=rr(),o=t(),a=!Sr(r.memoizedState,o);if(a&&(r.memoizedState=o,Cn=!0),r=r.queue,sg(I1.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Ut!==null&&Ut.memoizedState.tag&1){if(n.flags|=2048,yl(9,_1.bind(null,n,r,o,t),void 0,null),Kt===null)throw Error(_e(349));Pa&30||x1(n,t,o)}return o}function x1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Dt.updateQueue,t===null?(t={lastEffect:null,stores:null},Dt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _1(e,t,n,r){t.value=n,t.getSnapshot=r,S1(t)&&C1(e)}function I1(e,t,n){return n(function(){S1(t)&&C1(e)})}function S1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Sr(e,n)}catch{return!0}}function C1(e){var t=uo(e,1);t!==null&&kr(t,e,1,-1)}function Lv(e){var t=Lr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:e},t.queue=e,e=e.dispatch=EN.bind(null,Dt,e),[t.memoizedState,e]}function yl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Dt.updateQueue,t===null?(t={lastEffect:null,stores:null},Dt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function E1(){return rr().memoizedState}function Jc(e,t,n,r){var o=Lr();Dt.flags|=e,o.memoizedState=yl(1|t,n,void 0,r===void 0?null:r)}function mh(e,t,n,r){var o=rr();r=r===void 0?null:r;var a=void 0;if(Ft!==null){var i=Ft.memoizedState;if(a=i.destroy,r!==null&&og(r,i.deps)){o.memoizedState=yl(t,n,a,r);return}}Dt.flags|=e,o.memoizedState=yl(1|t,n,a,r)}function Ov(e,t){return Jc(8390656,8,e,t)}function sg(e,t){return mh(2048,8,e,t)}function T1(e,t){return mh(4,2,e,t)}function N1(e,t){return mh(4,4,e,t)}function M1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function A1(e,t,n){return n=n!=null?n.concat([e]):null,mh(4,4,M1.bind(null,t,e),n)}function lg(){}function D1(e,t){var n=rr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&og(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function P1(e,t){var n=rr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&og(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function R1(e,t,n){return Pa&21?(Sr(n,t)||(n=Hk(),Dt.lanes|=n,Ra|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Cn=!0),e.memoizedState=n)}function SN(e,t){var n=wt;wt=n!==0&&4>n?n:4,e(!0);var r=Mf.transition;Mf.transition={};try{e(!1),t()}finally{wt=n,Mf.transition=r}}function L1(){return rr().memoizedState}function CN(e,t,n){var r=Vo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},O1(e))H1(t,n);else if(n=f1(e,t,n,r),n!==null){var o=yn();kr(n,e,r,o),$1(n,t,r)}}function EN(e,t,n){var r=Vo(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(O1(e))H1(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,s=a(i,n);if(o.hasEagerState=!0,o.eagerState=s,Sr(s,i)){var l=t.interleaved;l===null?(o.next=o,Zp(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=f1(e,t,o,r),n!==null&&(o=yn(),kr(n,e,r,o),$1(n,t,r))}}function O1(e){var t=e.alternate;return e===Dt||t!==null&&t===Dt}function H1(e,t){Ks=Nu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jp(e,n)}}var Mu={readContext:nr,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},TN={readContext:nr,useCallback:function(e,t){return Lr().memoizedState=[e,t===void 0?null:t],e},useContext:nr,useEffect:Ov,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Jc(4194308,4,M1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jc(4,2,e,t)},useMemo:function(e,t){var n=Lr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Lr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=CN.bind(null,Dt,e),[r.memoizedState,e]},useRef:function(e){var t=Lr();return e={current:e},t.memoizedState=e},useState:Lv,useDebugValue:lg,useDeferredValue:function(e){return Lr().memoizedState=e},useTransition:function(){var e=Lv(!1),t=e[0];return e=SN.bind(null,e[1]),Lr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Dt,o=Lr();if(St){if(n===void 0)throw Error(_e(407));n=n()}else{if(n=t(),Kt===null)throw Error(_e(349));Pa&30||x1(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Ov(I1.bind(null,r,a,e),[e]),r.flags|=2048,yl(9,_1.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Lr(),t=Kt.identifierPrefix;if(St){var n=no,r=to;n=(r&~(1<<32-br(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=pl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=IN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},NN={readContext:nr,useCallback:D1,useContext:nr,useEffect:sg,useImperativeHandle:A1,useInsertionEffect:T1,useLayoutEffect:N1,useMemo:P1,useReducer:Af,useRef:E1,useState:function(){return Af(gl)},useDebugValue:lg,useDeferredValue:function(e){var t=rr();return R1(t,Ft.memoizedState,e)},useTransition:function(){var e=Af(gl)[0],t=rr().memoizedState;return[e,t]},useMutableSource:b1,useSyncExternalStore:k1,useId:L1,unstable_isNewReconciler:!1},MN={readContext:nr,useCallback:D1,useContext:nr,useEffect:sg,useImperativeHandle:A1,useInsertionEffect:T1,useLayoutEffect:N1,useMemo:P1,useReducer:Df,useRef:E1,useState:function(){return Df(gl)},useDebugValue:lg,useDeferredValue:function(e){var t=rr();return Ft===null?t.memoizedState=e:R1(t,Ft.memoizedState,e)},useTransition:function(){var e=Df(gl)[0],t=rr().memoizedState;return[e,t]},useMutableSource:b1,useSyncExternalStore:k1,useId:L1,unstable_isNewReconciler:!1};function Gi(e,t){try{var n="",r=t;do n+=oT(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function Pf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Gm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var AN=typeof WeakMap=="function"?WeakMap:Map;function j1(e,t,n){n=ao(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Du||(Du=!0,Km=r),Gm(e,t)},n}function G1(e,t,n){n=ao(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Gm(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Gm(e,t),typeof r!="function"&&(Fo===null?Fo=new Set([this]):Fo.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Hv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new AN;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=FN.bind(null,e,t,n),t.then(e,e))}function $v(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jv(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ao(-1,1),t.tag=2,qo(n,t,1))),n.lanes|=1),e)}var DN=po.ReactCurrentOwner,Cn=!1;function mn(e,t,n,r){t.child=e===null?w1(t,null,n,r):$i(t,e.child,n,r)}function Gv(e,t,n,r,o){n=n.render;var a=t.ref;return Ni(t,o),r=ag(e,t,n,r,a,o),n=ig(),e!==null&&!Cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ho(e,t,o)):(St&&n&&Yp(t),t.flags|=1,mn(e,t,r,o),t.child)}function Bv(e,t,n,r,o){if(e===null){var a=n.type;return typeof a=="function"&&!gg(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,B1(e,t,a,r,o)):(e=Qc(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:cl,n(i,r)&&e.ref===t.ref)return ho(e,t,o)}return t.flags|=1,e=Yo(a,r),e.ref=t.ref,e.return=t,t.child=e}function B1(e,t,n,r,o){if(e!==null){var a=e.memoizedProps;if(cl(a,r)&&e.ref===t.ref)if(Cn=!1,t.pendingProps=r=a,(e.lanes&o)!==0)e.flags&131072&&(Cn=!0);else return t.lanes=e.lanes,ho(e,t,o)}return Bm(e,t,n,r,o)}function W1(e,t,n){var r=t.pendingProps,o=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(xi,$n),$n|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kt(xi,$n),$n|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,kt(xi,$n),$n|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,kt(xi,$n),$n|=r;return mn(e,t,o,n),t.child}function z1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Bm(e,t,n,r,o){var a=Nn(n)?Aa:un.current;return a=Oi(t,a),Ni(t,o),n=ag(e,t,n,r,a,o),r=ig(),e!==null&&!Cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ho(e,t,o)):(St&&r&&Yp(t),t.flags|=1,mn(e,t,n,o),t.child)}function Wv(e,t,n,r,o){if(Nn(n)){var a=!0;xu(t)}else a=!1;if(Ni(t,o),t.stateNode===null)Uc(e,t),g1(t,n,r),jm(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=nr(c):(c=Nn(n)?Aa:un.current,c=Oi(t,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==r||l!==c)&&Pv(t,i,r,c),Lo=!1;var d=t.memoizedState;i.state=d,Eu(t,r,i,o),l=t.memoizedState,s!==r||d!==l||Tn.current||Lo?(typeof u=="function"&&($m(t,n,u,r),l=t.memoizedState),(s=Lo||Dv(t,n,s,r,d,l,c))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,m1(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:dr(t.type,s),i.props=c,h=t.pendingProps,d=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=nr(l):(l=Nn(n)?Aa:un.current,l=Oi(t,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==h||d!==l)&&Pv(t,i,r,l),Lo=!1,d=t.memoizedState,i.state=d,Eu(t,r,i,o);var w=t.memoizedState;s!==h||d!==w||Tn.current||Lo?(typeof f=="function"&&($m(t,n,f,r),w=t.memoizedState),(c=Lo||Dv(t,n,c,r,d,w,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Wm(e,t,n,r,a,o)}function Wm(e,t,n,r,o,a){z1(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&Ev(t,n,!1),ho(e,t,a);r=t.stateNode,DN.current=t;var s=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=$i(t,e.child,null,a),t.child=$i(t,null,s,a)):mn(e,t,s,a),t.memoizedState=r.state,o&&Ev(t,n,!0),t.child}function q1(e){var t=e.stateNode;t.pendingContext?Cv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cv(e,t.context,!1),tg(e,t.containerInfo)}function zv(e,t,n,r,o){return Hi(),Up(o),t.flags|=256,mn(e,t,n,r),t.child}var zm={dehydrated:null,treeContext:null,retryLane:0};function qm(e){return{baseLanes:e,cachePool:null,transitions:null}}function F1(e,t,n){var r=t.pendingProps,o=Nt.current,a=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),kt(Nt,o&1),e===null)return Om(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=yh(i,r,0,null),e=Ca(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=qm(n),t.memoizedState=zm,e):cg(t,i));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return PN(e,t,i,r,s,o,n);if(a){a=r.fallback,i=t.mode,o=e.child,s=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Yo(o,l),r.subtreeFlags=o.subtreeFlags&14680064),s!==null?a=Yo(s,a):(a=Ca(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?qm(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=zm,r}return a=e.child,e=a.sibling,r=Yo(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function cg(e,t){return t=yh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _c(e,t,n,r){return r!==null&&Up(r),$i(t,e.child,null,n),e=cg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function PN(e,t,n,r,o,a,i){if(n)return t.flags&256?(t.flags&=-257,r=Pf(Error(_e(422))),_c(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=yh({mode:"visible",children:r.children},o,0,null),a=Ca(a,o,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&$i(t,e.child,null,i),t.child.memoizedState=qm(i),t.memoizedState=zm,a);if(!(t.mode&1))return _c(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(_e(419)),r=Pf(a,r,void 0),_c(e,t,i,r)}if(s=(i&e.childLanes)!==0,Cn||s){if(r=Kt,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,uo(e,o),kr(r,e,o,-1))}return pg(),r=Pf(Error(_e(421))),_c(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=VN.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,jn=zo(o.nextSibling),Gn=t,St=!0,mr=null,e!==null&&(Kn[Xn++]=to,Kn[Xn++]=no,Kn[Xn++]=Da,to=e.id,no=e.overflow,Da=t),t=cg(t,r.children),t.flags|=4096,t)}function qv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Hm(e.return,t,n)}function Rf(e,t,n,r,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function V1(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(mn(e,t,r.children,n),r=Nt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qv(e,n,t);else if(e.tag===19)qv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(kt(Nt,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Tu(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Rf(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Tu(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Rf(t,!0,n,null,a);break;case"together":Rf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Uc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ho(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ra|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_e(153));if(t.child!==null){for(e=t.child,n=Yo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function RN(e,t,n){switch(t.tag){case 3:q1(t),Hi();break;case 5:v1(t);break;case 1:Nn(t.type)&&xu(t);break;case 4:tg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;kt(Su,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(kt(Nt,Nt.current&1),t.flags|=128,null):n&t.child.childLanes?F1(e,t,n):(kt(Nt,Nt.current&1),e=ho(e,t,n),e!==null?e.sibling:null);kt(Nt,Nt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return V1(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),kt(Nt,Nt.current),r)break;return null;case 22:case 23:return t.lanes=0,W1(e,t,n)}return ho(e,t,n)}var Y1,Fm,J1,U1;Y1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fm=function(){};J1=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ka(Gr.current);var a=null;switch(n){case"input":o=fm(e,o),r=fm(e,r),a=[];break;case"select":o=Pt({},o,{value:void 0}),r=Pt({},r,{value:void 0}),a=[];break;case"textarea":o=gm(e,o),r=gm(e,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bu)}wm(n,r);var i;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var s=o[c];for(i in s)s.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(nl.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(nl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_t("scroll",e),a||s===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};U1=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ts(e,t){if(!St)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function an(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function LN(e,t,n){var r=t.pendingProps;switch(Jp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(t),null;case 1:return Nn(t.type)&&ku(),an(t),null;case 3:return r=t.stateNode,ji(),It(Tn),It(un),rg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(kc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mr!==null&&(Zm(mr),mr=null))),Fm(e,t),an(t),null;case 5:ng(t);var o=ka(ml.current);if(n=t.type,e!==null&&t.stateNode!=null)J1(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_e(166));return an(t),null}if(e=ka(Gr.current),kc(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Hr]=t,r[dl]=a,e=(t.mode&1)!==0,n){case"dialog":_t("cancel",r),_t("close",r);break;case"iframe":case"object":case"embed":_t("load",r);break;case"video":case"audio":for(o=0;o<Bs.length;o++)_t(Bs[o],r);break;case"source":_t("error",r);break;case"img":case"image":case"link":_t("error",r),_t("load",r);break;case"details":_t("toggle",r);break;case"input":Zw(r,a),_t("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},_t("invalid",r);break;case"textarea":tv(r,a),_t("invalid",r)}wm(n,a),o=null;for(var i in a)if(a.hasOwnProperty(i)){var s=a[i];i==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&bc(r.textContent,s,e),o=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&bc(r.textContent,s,e),o=["children",""+s]):nl.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&_t("scroll",r)}switch(n){case"input":dc(r),ev(r,a,!0);break;case"textarea":dc(r),nv(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=bu)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xk(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Hr]=t,e[dl]=r,Y1(e,t,!1,!1),t.stateNode=e;e:{switch(i=vm(n,r),n){case"dialog":_t("cancel",e),_t("close",e),o=r;break;case"iframe":case"object":case"embed":_t("load",e),o=r;break;case"video":case"audio":for(o=0;o<Bs.length;o++)_t(Bs[o],e);o=r;break;case"source":_t("error",e),o=r;break;case"img":case"image":case"link":_t("error",e),_t("load",e),o=r;break;case"details":_t("toggle",e),o=r;break;case"input":Zw(e,r),o=fm(e,r),_t("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Pt({},r,{value:void 0}),_t("invalid",e);break;case"textarea":tv(e,r),o=gm(e,r),_t("invalid",e);break;default:o=r}wm(n,o),s=o;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?Sk(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_k(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&rl(e,l):typeof l=="number"&&rl(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(nl.hasOwnProperty(a)?l!=null&&a==="onScroll"&&_t("scroll",e):l!=null&&Pp(e,a,l,i))}switch(n){case"input":dc(e),ev(e,r,!1);break;case"textarea":dc(e),nv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ko(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Si(e,!!r.multiple,a,!1):r.defaultValue!=null&&Si(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=bu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return an(t),null;case 6:if(e&&t.stateNode!=null)U1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_e(166));if(n=ka(ml.current),ka(Gr.current),kc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Hr]=t,(a=r.nodeValue!==n)&&(e=Gn,e!==null))switch(e.tag){case 3:bc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bc(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hr]=t,t.stateNode=r}return an(t),null;case 13:if(It(Nt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(St&&jn!==null&&t.mode&1&&!(t.flags&128))d1(),Hi(),t.flags|=98560,a=!1;else if(a=kc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(_e(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(_e(317));a[Hr]=t}else Hi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;an(t),a=!1}else mr!==null&&(Zm(mr),mr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Nt.current&1?Vt===0&&(Vt=3):pg())),t.updateQueue!==null&&(t.flags|=4),an(t),null);case 4:return ji(),Fm(e,t),e===null&&ul(t.stateNode.containerInfo),an(t),null;case 10:return Qp(t.type._context),an(t),null;case 17:return Nn(t.type)&&ku(),an(t),null;case 19:if(It(Nt),a=t.memoizedState,a===null)return an(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)Ts(a,!1);else{if(Vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Tu(e),i!==null){for(t.flags|=128,Ts(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return kt(Nt,Nt.current&1|2),t.child}e=e.sibling}a.tail!==null&&jt()>Bi&&(t.flags|=128,r=!0,Ts(a,!1),t.lanes=4194304)}else{if(!r)if(e=Tu(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ts(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!St)return an(t),null}else 2*jt()-a.renderingStartTime>Bi&&n!==1073741824&&(t.flags|=128,r=!0,Ts(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=jt(),t.sibling=null,n=Nt.current,kt(Nt,r?n&1|2:n&1),t):(an(t),null);case 22:case 23:return mg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?$n&1073741824&&(an(t),t.subtreeFlags&6&&(t.flags|=8192)):an(t),null;case 24:return null;case 25:return null}throw Error(_e(156,t.tag))}function ON(e,t){switch(Jp(t),t.tag){case 1:return Nn(t.type)&&ku(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ji(),It(Tn),It(un),rg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ng(t),null;case 13:if(It(Nt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_e(340));Hi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return It(Nt),null;case 4:return ji(),null;case 10:return Qp(t.type._context),null;case 22:case 23:return mg(),null;case 24:return null;default:return null}}var Ic=!1,sn=!1,HN=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function ki(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Lt(e,t,r)}else n.current=null}function Vm(e,t,n){try{n()}catch(r){Lt(e,t,r)}}var Fv=!1;function $N(e,t){if(Nm=yu,e=Zk(),Vp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,s=-1,l=-1,c=0,u=0,h=e,d=null;t:for(;;){for(var f;h!==n||o!==0&&h.nodeType!==3||(s=i+o),h!==a||r!==0&&h.nodeType!==3||(l=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===e)break t;if(d===n&&++c===o&&(s=i),d===a&&++u===r&&(l=i),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mm={focusedElem:e,selectionRange:n},yu=!1,Pe=t;Pe!==null;)if(t=Pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pe=e;else for(;Pe!==null;){t=Pe;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var m=w.memoizedProps,g=w.memoizedState,p=t.stateNode,y=p.getSnapshotBeforeUpdate(t.elementType===t.type?m:dr(t.type,m),g);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(_){Lt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Pe=e;break}Pe=t.return}return w=Fv,Fv=!1,w}function Xs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&Vm(t,n,a)}o=o.next}while(o!==r)}}function ph(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ym(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function K1(e){var t=e.alternate;t!==null&&(e.alternate=null,K1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Hr],delete t[dl],delete t[Pm],delete t[bN],delete t[kN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function X1(e){return e.tag===5||e.tag===3||e.tag===4}function Vv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||X1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bu));else if(r!==4&&(e=e.child,e!==null))for(Jm(e,t,n),e=e.sibling;e!==null;)Jm(e,t,n),e=e.sibling}function Um(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Um(e,t,n),e=e.sibling;e!==null;)Um(e,t,n),e=e.sibling}var en=null,fr=!1;function Do(e,t,n){for(n=n.child;n!==null;)Q1(e,t,n),n=n.sibling}function Q1(e,t,n){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(sh,n)}catch{}switch(n.tag){case 5:sn||ki(n,t);case 6:var r=en,o=fr;en=null,Do(e,t,n),en=r,fr=o,en!==null&&(fr?(e=en,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):en.removeChild(n.stateNode));break;case 18:en!==null&&(fr?(e=en,n=n.stateNode,e.nodeType===8?Ef(e.parentNode,n):e.nodeType===1&&Ef(e,n),sl(e)):Ef(en,n.stateNode));break;case 4:r=en,o=fr,en=n.stateNode.containerInfo,fr=!0,Do(e,t,n),en=r,fr=o;break;case 0:case 11:case 14:case 15:if(!sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Vm(n,t,i),o=o.next}while(o!==r)}Do(e,t,n);break;case 1:if(!sn&&(ki(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Lt(n,t,s)}Do(e,t,n);break;case 21:Do(e,t,n);break;case 22:n.mode&1?(sn=(r=sn)||n.memoizedState!==null,Do(e,t,n),sn=r):Do(e,t,n);break;default:Do(e,t,n)}}function Yv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new HN),t.forEach(function(r){var o=YN.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function hr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:en=s.stateNode,fr=!1;break e;case 3:en=s.stateNode.containerInfo,fr=!0;break e;case 4:en=s.stateNode.containerInfo,fr=!0;break e}s=s.return}if(en===null)throw Error(_e(160));Q1(a,i,o),en=null,fr=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){Lt(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Z1(t,e),t=t.sibling}function Z1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hr(t,e),Pr(e),r&4){try{Xs(3,e,e.return),ph(3,e)}catch(m){Lt(e,e.return,m)}try{Xs(5,e,e.return)}catch(m){Lt(e,e.return,m)}}break;case 1:hr(t,e),Pr(e),r&512&&n!==null&&ki(n,n.return);break;case 5:if(hr(t,e),Pr(e),r&512&&n!==null&&ki(n,n.return),e.flags&32){var o=e.stateNode;try{rl(o,"")}catch(m){Lt(e,e.return,m)}}if(r&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&bk(o,a),vm(s,i);var c=vm(s,a);for(i=0;i<l.length;i+=2){var u=l[i],h=l[i+1];u==="style"?Sk(o,h):u==="dangerouslySetInnerHTML"?_k(o,h):u==="children"?rl(o,h):Pp(o,u,h,c)}switch(s){case"input":mm(o,a);break;case"textarea":kk(o,a);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Si(o,!!a.multiple,f,!1):d!==!!a.multiple&&(a.defaultValue!=null?Si(o,!!a.multiple,a.defaultValue,!0):Si(o,!!a.multiple,a.multiple?[]:"",!1))}o[dl]=a}catch(m){Lt(e,e.return,m)}}break;case 6:if(hr(t,e),Pr(e),r&4){if(e.stateNode===null)throw Error(_e(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(m){Lt(e,e.return,m)}}break;case 3:if(hr(t,e),Pr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sl(t.containerInfo)}catch(m){Lt(e,e.return,m)}break;case 4:hr(t,e),Pr(e);break;case 13:hr(t,e),Pr(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(dg=jt())),r&4&&Yv(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(sn=(c=sn)||u,hr(t,e),sn=c):hr(t,e),Pr(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Pe=e,u=e.child;u!==null;){for(h=Pe=u;Pe!==null;){switch(d=Pe,f=d.child,d.tag){case 0:case 11:case 14:case 15:Xs(4,d,d.return);break;case 1:ki(d,d.return);var w=d.stateNode;if(typeof w.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(m){Lt(r,n,m)}}break;case 5:ki(d,d.return);break;case 22:if(d.memoizedState!==null){Uv(h);continue}}f!==null?(f.return=d,Pe=f):Uv(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{o=h.stateNode,c?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Ik("display",i))}catch(m){Lt(e,e.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Lt(e,e.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:hr(t,e),Pr(e),r&4&&Yv(e);break;case 21:break;default:hr(t,e),Pr(e)}}function Pr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(X1(n)){var r=n;break e}n=n.return}throw Error(_e(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(rl(o,""),r.flags&=-33);var a=Vv(e);Um(e,a,o);break;case 3:case 4:var i=r.stateNode.containerInfo,s=Vv(e);Jm(e,s,i);break;default:throw Error(_e(161))}}catch(l){Lt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jN(e,t,n){Pe=e,ex(e)}function ex(e,t,n){for(var r=(e.mode&1)!==0;Pe!==null;){var o=Pe,a=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||Ic;if(!i){var s=o.alternate,l=s!==null&&s.memoizedState!==null||sn;s=Ic;var c=sn;if(Ic=i,(sn=l)&&!c)for(Pe=o;Pe!==null;)i=Pe,l=i.child,i.tag===22&&i.memoizedState!==null?Kv(o):l!==null?(l.return=i,Pe=l):Kv(o);for(;a!==null;)Pe=a,ex(a),a=a.sibling;Pe=o,Ic=s,sn=c}Jv(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,Pe=a):Jv(e)}}function Jv(e){for(;Pe!==null;){var t=Pe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:sn||ph(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!sn)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:dr(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Av(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Av(t,i,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&sl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}sn||t.flags&512&&Ym(t)}catch(d){Lt(t,t.return,d)}}if(t===e){Pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,Pe=n;break}Pe=t.return}}function Uv(e){for(;Pe!==null;){var t=Pe;if(t===e){Pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Pe=n;break}Pe=t.return}}function Kv(e){for(;Pe!==null;){var t=Pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ph(4,t)}catch(l){Lt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){Lt(t,o,l)}}var a=t.return;try{Ym(t)}catch(l){Lt(t,a,l)}break;case 5:var i=t.return;try{Ym(t)}catch(l){Lt(t,i,l)}}}catch(l){Lt(t,t.return,l)}if(t===e){Pe=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Pe=s;break}Pe=t.return}}var GN=Math.ceil,Au=po.ReactCurrentDispatcher,ug=po.ReactCurrentOwner,Zn=po.ReactCurrentBatchConfig,lt=0,Kt=null,qt=null,nn=0,$n=0,xi=oa(0),Vt=0,wl=null,Ra=0,gh=0,hg=0,Qs=null,Sn=null,dg=0,Bi=1/0,Zr=null,Du=!1,Km=null,Fo=null,Sc=!1,jo=null,Pu=0,Zs=0,Xm=null,Kc=-1,Xc=0;function yn(){return lt&6?jt():Kc!==-1?Kc:Kc=jt()}function Vo(e){return e.mode&1?lt&2&&nn!==0?nn&-nn:_N.transition!==null?(Xc===0&&(Xc=Hk()),Xc):(e=wt,e!==0||(e=window.event,e=e===void 0?16:qk(e.type)),e):1}function kr(e,t,n,r){if(50<Zs)throw Zs=0,Xm=null,Error(_e(185));El(e,n,r),(!(lt&2)||e!==Kt)&&(e===Kt&&(!(lt&2)&&(gh|=n),Vt===4&&Ho(e,nn)),Mn(e,r),n===1&&lt===0&&!(t.mode&1)&&(Bi=jt()+500,dh&&aa()))}function Mn(e,t){var n=e.callbackNode;_T(e,t);var r=gu(e,e===Kt?nn:0);if(r===0)n!==null&&av(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&av(n),t===1)e.tag===0?xN(Xv.bind(null,e)):c1(Xv.bind(null,e)),wN(function(){!(lt&6)&&aa()}),n=null;else{switch($k(r)){case 1:n=$p;break;case 4:n=Lk;break;case 16:n=pu;break;case 536870912:n=Ok;break;default:n=pu}n=lx(n,tx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tx(e,t){if(Kc=-1,Xc=0,lt&6)throw Error(_e(327));var n=e.callbackNode;if(Mi()&&e.callbackNode!==n)return null;var r=gu(e,e===Kt?nn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ru(e,r);else{t=r;var o=lt;lt|=2;var a=rx();(Kt!==e||nn!==t)&&(Zr=null,Bi=jt()+500,Sa(e,t));do try{zN();break}catch(s){nx(e,s)}while(!0);Xp(),Au.current=a,lt=o,qt!==null?t=0:(Kt=null,nn=0,t=Vt)}if(t!==0){if(t===2&&(o=Im(e),o!==0&&(r=o,t=Qm(e,o))),t===1)throw n=wl,Sa(e,0),Ho(e,r),Mn(e,jt()),n;if(t===6)Ho(e,r);else{if(o=e.current.alternate,!(r&30)&&!BN(o)&&(t=Ru(e,r),t===2&&(a=Im(e),a!==0&&(r=a,t=Qm(e,a))),t===1))throw n=wl,Sa(e,0),Ho(e,r),Mn(e,jt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(_e(345));case 2:ga(e,Sn,Zr);break;case 3:if(Ho(e,r),(r&130023424)===r&&(t=dg+500-jt(),10<t)){if(gu(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){yn(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Dm(ga.bind(null,e,Sn,Zr),t);break}ga(e,Sn,Zr);break;case 4:if(Ho(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-br(r);a=1<<i,i=t[i],i>o&&(o=i),r&=~a}if(r=o,r=jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*GN(r/1960))-r,10<r){e.timeoutHandle=Dm(ga.bind(null,e,Sn,Zr),r);break}ga(e,Sn,Zr);break;case 5:ga(e,Sn,Zr);break;default:throw Error(_e(329))}}}return Mn(e,jt()),e.callbackNode===n?tx.bind(null,e):null}function Qm(e,t){var n=Qs;return e.current.memoizedState.isDehydrated&&(Sa(e,t).flags|=256),e=Ru(e,t),e!==2&&(t=Sn,Sn=n,t!==null&&Zm(t)),e}function Zm(e){Sn===null?Sn=e:Sn.push.apply(Sn,e)}function BN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!Sr(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ho(e,t){for(t&=~hg,t&=~gh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-br(t),r=1<<n;e[n]=-1,t&=~r}}function Xv(e){if(lt&6)throw Error(_e(327));Mi();var t=gu(e,0);if(!(t&1))return Mn(e,jt()),null;var n=Ru(e,t);if(e.tag!==0&&n===2){var r=Im(e);r!==0&&(t=r,n=Qm(e,r))}if(n===1)throw n=wl,Sa(e,0),Ho(e,t),Mn(e,jt()),n;if(n===6)throw Error(_e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ga(e,Sn,Zr),Mn(e,jt()),null}function fg(e,t){var n=lt;lt|=1;try{return e(t)}finally{lt=n,lt===0&&(Bi=jt()+500,dh&&aa())}}function La(e){jo!==null&&jo.tag===0&&!(lt&6)&&Mi();var t=lt;lt|=1;var n=Zn.transition,r=wt;try{if(Zn.transition=null,wt=1,e)return e()}finally{wt=r,Zn.transition=n,lt=t,!(lt&6)&&aa()}}function mg(){$n=xi.current,It(xi)}function Sa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,yN(n)),qt!==null)for(n=qt.return;n!==null;){var r=n;switch(Jp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ku();break;case 3:ji(),It(Tn),It(un),rg();break;case 5:ng(r);break;case 4:ji();break;case 13:It(Nt);break;case 19:It(Nt);break;case 10:Qp(r.type._context);break;case 22:case 23:mg()}n=n.return}if(Kt=e,qt=e=Yo(e.current,null),nn=$n=t,Vt=0,wl=null,hg=gh=Ra=0,Sn=Qs=null,ba!==null){for(t=0;t<ba.length;t++)if(n=ba[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=o,r.next=i}n.pending=r}ba=null}return e}function nx(e,t){do{var n=qt;try{if(Xp(),Yc.current=Mu,Nu){for(var r=Dt.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Nu=!1}if(Pa=0,Ut=Ft=Dt=null,Ks=!1,pl=0,ug.current=null,n===null||n.return===null){Vt=1,wl=t,qt=null;break}e:{var a=e,i=n.return,s=n,l=t;if(t=nn,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=$v(i);if(f!==null){f.flags&=-257,jv(f,i,s,a,t),f.mode&1&&Hv(a,c,t),t=f,l=c;var w=t.updateQueue;if(w===null){var m=new Set;m.add(l),t.updateQueue=m}else w.add(l);break e}else{if(!(t&1)){Hv(a,c,t),pg();break e}l=Error(_e(426))}}else if(St&&s.mode&1){var g=$v(i);if(g!==null){!(g.flags&65536)&&(g.flags|=256),jv(g,i,s,a,t),Up(Gi(l,s));break e}}a=l=Gi(l,s),Vt!==4&&(Vt=2),Qs===null?Qs=[a]:Qs.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=j1(a,l,t);Mv(a,p);break e;case 1:s=l;var y=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Fo===null||!Fo.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=G1(a,s,t);Mv(a,_);break e}}a=a.return}while(a!==null)}ax(n)}catch(x){t=x,qt===n&&n!==null&&(qt=n=n.return);continue}break}while(!0)}function rx(){var e=Au.current;return Au.current=Mu,e===null?Mu:e}function pg(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Kt===null||!(Ra&268435455)&&!(gh&268435455)||Ho(Kt,nn)}function Ru(e,t){var n=lt;lt|=2;var r=rx();(Kt!==e||nn!==t)&&(Zr=null,Sa(e,t));do try{WN();break}catch(o){nx(e,o)}while(!0);if(Xp(),lt=n,Au.current=r,qt!==null)throw Error(_e(261));return Kt=null,nn=0,Vt}function WN(){for(;qt!==null;)ox(qt)}function zN(){for(;qt!==null&&!mT();)ox(qt)}function ox(e){var t=sx(e.alternate,e,$n);e.memoizedProps=e.pendingProps,t===null?ax(e):qt=t,ug.current=null}function ax(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ON(n,t),n!==null){n.flags&=32767,qt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vt=6,qt=null;return}}else if(n=LN(n,t,$n),n!==null){qt=n;return}if(t=t.sibling,t!==null){qt=t;return}qt=t=e}while(t!==null);Vt===0&&(Vt=5)}function ga(e,t,n){var r=wt,o=Zn.transition;try{Zn.transition=null,wt=1,qN(e,t,n,r)}finally{Zn.transition=o,wt=r}return null}function qN(e,t,n,r){do Mi();while(jo!==null);if(lt&6)throw Error(_e(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_e(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(IT(e,a),e===Kt&&(qt=Kt=null,nn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sc||(Sc=!0,lx(pu,function(){return Mi(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Zn.transition,Zn.transition=null;var i=wt;wt=1;var s=lt;lt|=4,ug.current=null,$N(e,n),Z1(n,e),uN(Mm),yu=!!Nm,Mm=Nm=null,e.current=n,jN(n),pT(),lt=s,wt=i,Zn.transition=a}else e.current=n;if(Sc&&(Sc=!1,jo=e,Pu=o),a=e.pendingLanes,a===0&&(Fo=null),wT(n.stateNode),Mn(e,jt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Du)throw Du=!1,e=Km,Km=null,e;return Pu&1&&e.tag!==0&&Mi(),a=e.pendingLanes,a&1?e===Xm?Zs++:(Zs=0,Xm=e):Zs=0,aa(),null}function Mi(){if(jo!==null){var e=$k(Pu),t=Zn.transition,n=wt;try{if(Zn.transition=null,wt=16>e?16:e,jo===null)var r=!1;else{if(e=jo,jo=null,Pu=0,lt&6)throw Error(_e(331));var o=lt;for(lt|=4,Pe=e.current;Pe!==null;){var a=Pe,i=a.child;if(Pe.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(Pe=c;Pe!==null;){var u=Pe;switch(u.tag){case 0:case 11:case 15:Xs(8,u,a)}var h=u.child;if(h!==null)h.return=u,Pe=h;else for(;Pe!==null;){u=Pe;var d=u.sibling,f=u.return;if(K1(u),u===c){Pe=null;break}if(d!==null){d.return=f,Pe=d;break}Pe=f}}}var w=a.alternate;if(w!==null){var m=w.child;if(m!==null){w.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}Pe=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,Pe=i;else e:for(;Pe!==null;){if(a=Pe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Xs(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,Pe=p;break e}Pe=a.return}}var y=e.current;for(Pe=y;Pe!==null;){i=Pe;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,Pe=b;else e:for(i=y;Pe!==null;){if(s=Pe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:ph(9,s)}}catch(x){Lt(s,s.return,x)}if(s===i){Pe=null;break e}var _=s.sibling;if(_!==null){_.return=s.return,Pe=_;break e}Pe=s.return}}if(lt=o,aa(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(sh,e)}catch{}r=!0}return r}finally{wt=n,Zn.transition=t}}return!1}function Qv(e,t,n){t=Gi(n,t),t=j1(e,t,1),e=qo(e,t,1),t=yn(),e!==null&&(El(e,1,t),Mn(e,t))}function Lt(e,t,n){if(e.tag===3)Qv(e,e,n);else for(;t!==null;){if(t.tag===3){Qv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fo===null||!Fo.has(r))){e=Gi(n,e),e=G1(t,e,1),t=qo(t,e,1),e=yn(),t!==null&&(El(t,1,e),Mn(t,e));break}}t=t.return}}function FN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=yn(),e.pingedLanes|=e.suspendedLanes&n,Kt===e&&(nn&n)===n&&(Vt===4||Vt===3&&(nn&130023424)===nn&&500>jt()-dg?Sa(e,0):hg|=n),Mn(e,t)}function ix(e,t){t===0&&(e.mode&1?(t=pc,pc<<=1,!(pc&130023424)&&(pc=4194304)):t=1);var n=yn();e=uo(e,t),e!==null&&(El(e,t,n),Mn(e,n))}function VN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ix(e,n)}function YN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_e(314))}r!==null&&r.delete(t),ix(e,n)}var sx;sx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Tn.current)Cn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Cn=!1,RN(e,t,n);Cn=!!(e.flags&131072)}else Cn=!1,St&&t.flags&1048576&&u1(t,Iu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Uc(e,t),e=t.pendingProps;var o=Oi(t,un.current);Ni(t,n),o=ag(null,t,r,e,o,n);var a=ig();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nn(r)?(a=!0,xu(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,eg(t),o.updater=fh,t.stateNode=o,o._reactInternals=t,jm(t,r,e,n),t=Wm(null,t,r,!0,a,n)):(t.tag=0,St&&a&&Yp(t),mn(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Uc(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=UN(r),e=dr(r,e),o){case 0:t=Bm(null,t,r,e,n);break e;case 1:t=Wv(null,t,r,e,n);break e;case 11:t=Gv(null,t,r,e,n);break e;case 14:t=Bv(null,t,r,dr(r.type,e),n);break e}throw Error(_e(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:dr(r,o),Bm(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:dr(r,o),Wv(e,t,r,o,n);case 3:e:{if(q1(t),e===null)throw Error(_e(387));r=t.pendingProps,a=t.memoizedState,o=a.element,m1(e,t),Eu(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=Gi(Error(_e(423)),t),t=zv(e,t,r,n,o);break e}else if(r!==o){o=Gi(Error(_e(424)),t),t=zv(e,t,r,n,o);break e}else for(jn=zo(t.stateNode.containerInfo.firstChild),Gn=t,St=!0,mr=null,n=w1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hi(),r===o){t=ho(e,t,n);break e}mn(e,t,r,n)}t=t.child}return t;case 5:return v1(t),e===null&&Om(t),r=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,i=o.children,Am(r,o)?i=null:a!==null&&Am(r,a)&&(t.flags|=32),z1(e,t),mn(e,t,i,n),t.child;case 6:return e===null&&Om(t),null;case 13:return F1(e,t,n);case 4:return tg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=$i(t,null,r,n):mn(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:dr(r,o),Gv(e,t,r,o,n);case 7:return mn(e,t,t.pendingProps,n),t.child;case 8:return mn(e,t,t.pendingProps.children,n),t.child;case 12:return mn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,i=o.value,kt(Su,r._currentValue),r._currentValue=i,a!==null)if(Sr(a.value,i)){if(a.children===o.children&&!Tn.current){t=ho(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){i=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=ao(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Hm(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(_e(341));i.lanes|=n,s=i.alternate,s!==null&&(s.lanes|=n),Hm(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}mn(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ni(t,n),o=nr(o),r=r(o),t.flags|=1,mn(e,t,r,n),t.child;case 14:return r=t.type,o=dr(r,t.pendingProps),o=dr(r.type,o),Bv(e,t,r,o,n);case 15:return B1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:dr(r,o),Uc(e,t),t.tag=1,Nn(r)?(e=!0,xu(t)):e=!1,Ni(t,n),g1(t,r,o),jm(t,r,o,n),Wm(null,t,r,!0,e,n);case 19:return V1(e,t,n);case 22:return W1(e,t,n)}throw Error(_e(156,t.tag))};function lx(e,t){return Rk(e,t)}function JN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(e,t,n,r){return new JN(e,t,n,r)}function gg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function UN(e){if(typeof e=="function")return gg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lp)return 11;if(e===Op)return 14}return 2}function Yo(e,t){var n=e.alternate;return n===null?(n=Qn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qc(e,t,n,r,o,a){var i=2;if(r=e,typeof e=="function")gg(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case di:return Ca(n.children,o,a,t);case Rp:i=8,o|=8;break;case cm:return e=Qn(12,n,t,o|2),e.elementType=cm,e.lanes=a,e;case um:return e=Qn(13,n,t,o),e.elementType=um,e.lanes=a,e;case hm:return e=Qn(19,n,t,o),e.elementType=hm,e.lanes=a,e;case yk:return yh(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pk:i=10;break e;case gk:i=9;break e;case Lp:i=11;break e;case Op:i=14;break e;case Ro:i=16,r=null;break e}throw Error(_e(130,e==null?e:typeof e,""))}return t=Qn(i,n,t,o),t.elementType=e,t.type=r,t.lanes=a,t}function Ca(e,t,n,r){return e=Qn(7,e,r,t),e.lanes=n,e}function yh(e,t,n,r){return e=Qn(22,e,r,t),e.elementType=yk,e.lanes=n,e.stateNode={isHidden:!1},e}function Lf(e,t,n){return e=Qn(6,e,null,t),e.lanes=n,e}function Of(e,t,n){return t=Qn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function KN(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gf(0),this.expirationTimes=gf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gf(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function yg(e,t,n,r,o,a,i,s,l){return e=new KN(e,t,n,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Qn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eg(a),e}function XN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cx(e){if(!e)return Xo;e=e._reactInternals;e:{if(Wa(e)!==e||e.tag!==1)throw Error(_e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_e(171))}if(e.tag===1){var n=e.type;if(Nn(n))return l1(e,n,t)}return t}function ux(e,t,n,r,o,a,i,s,l){return e=yg(n,r,!0,e,o,a,i,s,l),e.context=cx(null),n=e.current,r=yn(),o=Vo(n),a=ao(r,o),a.callback=t??null,qo(n,a,o),e.current.lanes=o,El(e,o,r),Mn(e,r),e}function wh(e,t,n,r){var o=t.current,a=yn(),i=Vo(o);return n=cx(n),t.context===null?t.context=n:t.pendingContext=n,t=ao(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=qo(o,t,i),e!==null&&(kr(e,o,i,a),Vc(e,o,i)),i}function Lu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function wg(e,t){Zv(e,t),(e=e.alternate)&&Zv(e,t)}function QN(){return null}var hx=typeof reportError=="function"?reportError:function(e){console.error(e)};function vg(e){this._internalRoot=e}vh.prototype.render=vg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_e(409));wh(e,t,null,null)};vh.prototype.unmount=vg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;La(function(){wh(null,e,null,null)}),t[co]=null}};function vh(e){this._internalRoot=e}vh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Oo.length&&t!==0&&t<Oo[n].priority;n++);Oo.splice(n,0,e),n===0&&zk(e)}};function bg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function eb(){}function ZN(e,t,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var c=Lu(i);a.call(c)}}var i=ux(t,r,e,0,null,!1,!1,"",eb);return e._reactRootContainer=i,e[co]=i.current,ul(e.nodeType===8?e.parentNode:e),La(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var s=r;r=function(){var c=Lu(l);s.call(c)}}var l=yg(e,0,!1,null,null,!1,!1,"",eb);return e._reactRootContainer=l,e[co]=l.current,ul(e.nodeType===8?e.parentNode:e),La(function(){wh(t,l,n,r)}),l}function kh(e,t,n,r,o){var a=n._reactRootContainer;if(a){var i=a;if(typeof o=="function"){var s=o;o=function(){var l=Lu(i);s.call(l)}}wh(t,i,e,o)}else i=ZN(n,t,e,o,r);return Lu(i)}jk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Gs(t.pendingLanes);n!==0&&(jp(t,n|1),Mn(t,jt()),!(lt&6)&&(Bi=jt()+500,aa()))}break;case 13:La(function(){var r=uo(e,1);if(r!==null){var o=yn();kr(r,e,1,o)}}),wg(e,1)}};Gp=function(e){if(e.tag===13){var t=uo(e,134217728);if(t!==null){var n=yn();kr(t,e,134217728,n)}wg(e,134217728)}};Gk=function(e){if(e.tag===13){var t=Vo(e),n=uo(e,t);if(n!==null){var r=yn();kr(n,e,t,r)}wg(e,t)}};Bk=function(){return wt};Wk=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}};km=function(e,t,n){switch(t){case"input":if(mm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=hh(r);if(!o)throw Error(_e(90));vk(r),mm(r,o)}}}break;case"textarea":kk(e,n);break;case"select":t=n.value,t!=null&&Si(e,!!n.multiple,t,!1)}};Tk=fg;Nk=La;var eM={usingClientEntryPoint:!1,Events:[Nl,gi,hh,Ck,Ek,fg]},Ns={findFiberByHostInstance:va,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},tM={bundleType:Ns.bundleType,version:Ns.version,rendererPackageName:Ns.rendererPackageName,rendererConfig:Ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:po.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Dk(e),e===null?null:e.stateNode},findFiberByHostInstance:Ns.findFiberByHostInstance||QN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{sh=Cc.inject(tM),jr=Cc}catch{}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eM;Vn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bg(t))throw Error(_e(200));return XN(e,t,null,n)};Vn.createRoot=function(e,t){if(!bg(e))throw Error(_e(299));var n=!1,r="",o=hx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=yg(e,1,!1,null,null,n,!1,r,o),e[co]=t.current,ul(e.nodeType===8?e.parentNode:e),new vg(t)};Vn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_e(188)):(e=Object.keys(e).join(","),Error(_e(268,e)));return e=Dk(t),e=e===null?null:e.stateNode,e};Vn.flushSync=function(e){return La(e)};Vn.hydrate=function(e,t,n){if(!bh(t))throw Error(_e(200));return kh(null,e,t,!0,n)};Vn.hydrateRoot=function(e,t,n){if(!bg(e))throw Error(_e(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",i=hx;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=ux(t,null,e,1,n??null,o,!1,a,i),e[co]=t.current,ul(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new vh(t)};Vn.render=function(e,t,n){if(!bh(t))throw Error(_e(200));return kh(null,e,t,!1,n)};Vn.unmountComponentAtNode=function(e){if(!bh(e))throw Error(_e(40));return e._reactRootContainer?(La(function(){kh(null,null,e,!1,function(){e._reactRootContainer=null,e[co]=null})}),!0):!1};Vn.unstable_batchedUpdates=fg;Vn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bh(n))throw Error(_e(200));if(e==null||e._reactInternals===void 0)throw Error(_e(38));return kh(e,t,n,!1,r)};Vn.version="18.2.0-next-9e3b772b8-20220608";function dx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dx)}catch(e){console.error(e)}}dx(),uk.exports=Vn;var Al=uk.exports;const nM=Sl(Al);var tb=Al;sm.createRoot=tb.createRoot,sm.hydrateRoot=tb.hydrateRoot;const rM="modulepreload",oM=function(e){return"/"+e},nb={},ze=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link");o=Promise.all(n.map(i=>{if(i=oM(i),i in nb)return;nb[i]=!0;const s=i.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!r)for(let h=a.length-1;h>=0;h--){const d=a[h];if(d.href===i&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":rM,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((h,d)=>{u.addEventListener("load",h),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})}))}return o.then(()=>t()).catch(a=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a})},aM=(e,t)=>{const n=e[t];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((r,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+t)))})};var $r=function(){return $r=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},$r.apply(this,arguments)};function fx(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function iM(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Zc="right-scroll-bar-position",eu="width-before-scroll-bar",sM="with-scroll-bars-hidden",lM="--removed-body-scroll-bar-size";function Hf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function cM(e,t){var n=E.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var uM=typeof window<"u"?E.useLayoutEffect:E.useEffect,rb=new WeakMap;function hM(e,t){var n=cM(t||null,function(r){return e.forEach(function(o){return Hf(o,r)})});return uM(function(){var r=rb.get(n);if(r){var o=new Set(r),a=new Set(e),i=n.current;o.forEach(function(s){a.has(s)||Hf(s,null)}),a.forEach(function(s){o.has(s)||Hf(s,i)})}rb.set(n,e)},[e]),n}function dM(e){return e}function fM(e,t){t===void 0&&(t=dM);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,r);return n.push(i),function(){n=n.filter(function(s){return s!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(s){return a(s)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var s=n;n=[],s.forEach(a),i=n}var l=function(){var u=i;i=[],u.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){i.push(u),c()},filter:function(u){return i=i.filter(u),n}}}};return o}function mM(e){e===void 0&&(e={});var t=fM(null);return t.options=$r({async:!0,ssr:!1},e),t}var mx=function(e){var t=e.sideCar,n=fx(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,$r({},n))};mx.isSideCarExport=!0;function pM(e,t){return e.useMedium(t),mx}var px=mM(),$f=function(){},xh=E.forwardRef(function(e,t){var n=E.useRef(null),r=E.useState({onScrollCapture:$f,onWheelCapture:$f,onTouchMoveCapture:$f}),o=r[0],a=r[1],i=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,h=e.shards,d=e.sideCar,f=e.noIsolation,w=e.inert,m=e.allowPinchZoom,g=e.as,p=g===void 0?"div":g,y=e.gapMode,b=fx(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=d,x=hM([n,t]),C=$r($r({},b),o);return E.createElement(E.Fragment,null,u&&E.createElement(_,{sideCar:px,removeScrollBar:c,shards:h,noIsolation:f,inert:w,setCallbacks:a,allowPinchZoom:!!m,lockRef:n,gapMode:y}),i?E.cloneElement(E.Children.only(s),$r($r({},C),{ref:x})):E.createElement(p,$r({},C,{className:l,ref:x}),s))});xh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xh.classNames={fullWidth:eu,zeroRight:Zc};var gM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=gM();return t&&e.setAttribute("nonce",t),e}function wM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function vM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var bM=function(){var e=0,t=null;return{add:function(n){e==0&&(t=yM())&&(wM(t,n),vM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},kM=function(){var e=bM();return function(t,n){E.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},gx=function(){var e=kM(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},xM={left:0,top:0,right:0,gap:0},jf=function(e){return parseInt(e||"",10)||0},_M=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[jf(n),jf(r),jf(o)]},IM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return xM;var t=_M(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},SM=gx(),Ai="data-scroll-locked",CM=function(e,t,n,r){var o=e.left,a=e.top,i=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(sM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(Ai,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zc,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(eu,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Zc," .").concat(Zc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(eu," .").concat(eu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ai,`] {
    `).concat(lM,": ").concat(s,`px;
  }
`)},ob=function(){var e=parseInt(document.body.getAttribute(Ai)||"0",10);return isFinite(e)?e:0},EM=function(){E.useEffect(function(){return document.body.setAttribute(Ai,(ob()+1).toString()),function(){var e=ob()-1;e<=0?document.body.removeAttribute(Ai):document.body.setAttribute(Ai,e.toString())}},[])},TM=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;EM();var a=E.useMemo(function(){return IM(o)},[o]);return E.createElement(SM,{styles:CM(a,!t,o,n?"":"!important")})},ep=!1;if(typeof window<"u")try{var Ec=Object.defineProperty({},"passive",{get:function(){return ep=!0,!0}});window.addEventListener("test",Ec,Ec),window.removeEventListener("test",Ec,Ec)}catch{ep=!1}var ai=ep?{passive:!1}:!1,NM=function(e){return e.tagName==="TEXTAREA"},yx=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!NM(e)&&n[t]==="visible")},MM=function(e){return yx(e,"overflowY")},AM=function(e){return yx(e,"overflowX")},ab=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=wx(e,r);if(o){var a=vx(e,r),i=a[1],s=a[2];if(i>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},DM=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},PM=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},wx=function(e,t){return e==="v"?MM(t):AM(t)},vx=function(e,t){return e==="v"?DM(t):PM(t)},RM=function(e,t){return e==="h"&&t==="rtl"?-1:1},LM=function(e,t,n,r,o){var a=RM(e,window.getComputedStyle(t).direction),i=a*r,s=n.target,l=t.contains(s),c=!1,u=i>0,h=0,d=0;do{var f=vx(e,s),w=f[0],m=f[1],g=f[2],p=m-g-a*w;(w||p)&&wx(e,s)&&(h+=p,d+=w),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&(o&&Math.abs(h)<1||!o&&i>h)||!u&&(o&&Math.abs(d)<1||!o&&-i>d))&&(c=!0),c},Tc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ib=function(e){return[e.deltaX,e.deltaY]},sb=function(e){return e&&"current"in e?e.current:e},OM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},HM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},$M=0,ii=[];function jM(e){var t=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),o=E.useState($M++)[0],a=E.useState(gx)[0],i=E.useRef(e);E.useEffect(function(){i.current=e},[e]),E.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var m=iM([e.lockRef.current],(e.shards||[]).map(sb),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var s=E.useCallback(function(m,g){if("touches"in m&&m.touches.length===2)return!i.current.allowPinchZoom;var p=Tc(m),y=n.current,b="deltaX"in m?m.deltaX:y[0]-p[0],_="deltaY"in m?m.deltaY:y[1]-p[1],x,C=m.target,O=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&O==="h"&&C.type==="range")return!1;var D=ab(O,C);if(!D)return!0;if(D?x=O:(x=O==="v"?"h":"v",D=ab(O,C)),!D)return!1;if(!r.current&&"changedTouches"in m&&(b||_)&&(r.current=x),!x)return!0;var q=r.current||x;return LM(q,g,m,q==="h"?b:_,!0)},[]),l=E.useCallback(function(m){var g=m;if(!(!ii.length||ii[ii.length-1]!==a)){var p="deltaY"in g?ib(g):Tc(g),y=t.current.filter(function(x){return x.name===g.type&&(x.target===g.target||g.target===x.shadowParent)&&OM(x.delta,p)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var b=(i.current.shards||[]).map(sb).filter(Boolean).filter(function(x){return x.contains(g.target)}),_=b.length>0?s(g,b[0]):!i.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),c=E.useCallback(function(m,g,p,y){var b={name:m,delta:g,target:p,should:y,shadowParent:GM(p)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),u=E.useCallback(function(m){n.current=Tc(m),r.current=void 0},[]),h=E.useCallback(function(m){c(m.type,ib(m),m.target,s(m,e.lockRef.current))},[]),d=E.useCallback(function(m){c(m.type,Tc(m),m.target,s(m,e.lockRef.current))},[]);E.useEffect(function(){return ii.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:d}),document.addEventListener("wheel",l,ai),document.addEventListener("touchmove",l,ai),document.addEventListener("touchstart",u,ai),function(){ii=ii.filter(function(m){return m!==a}),document.removeEventListener("wheel",l,ai),document.removeEventListener("touchmove",l,ai),document.removeEventListener("touchstart",u,ai)}},[]);var f=e.removeScrollBar,w=e.inert;return E.createElement(E.Fragment,null,w?E.createElement(a,{styles:HM(o)}):null,f?E.createElement(TM,{gapMode:e.gapMode}):null)}function GM(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const BM=pM(px,jM);var bx=E.forwardRef(function(e,t){return E.createElement(xh,$r({},e,{ref:t,sideCar:BM}))});bx.classNames=xh.classNames;const WM=bx;function Br(e){return Object.keys(e)}function Gf(e){return e&&typeof e=="object"&&!Array.isArray(e)}function kg(e,t){const n={...e},r=t;return Gf(e)&&Gf(t)&&Object.keys(t).forEach(o=>{Gf(r[o])&&o in e?n[o]=kg(n[o],r[o]):n[o]=r[o]}),n}function zM(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function qM(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function FM(e){const t=qM(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function Bf(e){return`calc(${e} * var(--mantine-scale))`}function kx(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const o=`${r/16}${e}`;return t?Bf(o):o}if(typeof r=="string"){if(r.startsWith("calc(")||r.startsWith("var(")||r.startsWith("clamp("))return r;if(r.includes(" "))return r.split(" ").map(a=>n(a)).join(" ");if(r.includes(e))return t?Bf(r):r;const o=r.replace("px","");if(!Number.isNaN(Number(o))){const a=`${Number(o)/16}${e}`;return t?Bf(a):a}}return r}return n}const me=kx("rem",{shouldScale:!0}),lb=kx("em");function xg(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function xx(e){return typeof e=="number"?!0:typeof e=="string"?e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!==""?!0:/[0-9]/.test(e.trim().replace("-","")[0]):!1}function za(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==P.Fragment:!1}function qr(e){const t=E.createContext(null);return[({children:o,value:a})=>P.createElement(t.Provider,{value:a},o),()=>{const o=E.useContext(t);if(o===null)throw new Error(e);return o}]}function VM(e=null){const t=E.createContext(e);return[({children:o,value:a})=>P.createElement(t.Provider,{value:a},o),()=>E.useContext(t)]}function cb(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function tp(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function YM(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function JM(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function UM(e,t,n){return tp(e,n)===tp(t,n)}function KM({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:o=!1,dir:a="rtl",orientation:i}){return s=>{var w;n==null||n(s);const l=Array.from(((w=tp(s.currentTarget,e))==null?void 0:w.querySelectorAll(t))||[]).filter(m=>UM(s.currentTarget,m,e)),c=l.findIndex(m=>s.currentTarget===m),u=JM(c,l,r),h=YM(c,l,r),d=a==="rtl"?h:u,f=a==="rtl"?u:h;switch(s.key){case"ArrowRight":{i==="horizontal"&&(s.stopPropagation(),s.preventDefault(),l[d].focus(),o&&l[d].click());break}case"ArrowLeft":{i==="horizontal"&&(s.stopPropagation(),s.preventDefault(),l[f].focus(),o&&l[f].click());break}case"ArrowUp":{i==="vertical"&&(s.stopPropagation(),s.preventDefault(),l[h].focus(),o&&l[h].click());break}case"ArrowDown":{i==="vertical"&&(s.stopPropagation(),s.preventDefault(),l[u].focus(),o&&l[u].click());break}case"Home":{s.stopPropagation(),s.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{s.stopPropagation(),s.preventDefault();const m=l.length-1;!l[m].disabled&&l[m].focus();break}}}}const XM={app:100,modal:200,popover:300,overlay:400,max:9999};function go(e){return XM[e]}const QM=()=>{};function ZM(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||QM:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function At(e,t="size",n=!0){if(e!==void 0)return xx(e)?n?me(e):e:`var(--${t}-${e})`}function _g(e){return At(e,"mantine-spacing")}function or(e){return e===void 0?"var(--mantine-radius-default)":At(e,"mantine-radius")}function er(e){return At(e,"mantine-font-size")}function Ig(e){if(e)return At(e,"mantine-shadow",!1)}function ub(e,t,n){return t===void 0&&n===void 0?e:t!==void 0&&n===void 0?Math.max(e,t):Math.min(t===void 0&&n!==void 0?e:Math.max(e,t),n)}function _x(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function wa(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),E.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function _h(e,t){const n=wa(e),r=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),E.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}const hb=["mousedown","touchstart"];function e5(e,t,n){const r=E.useRef();return E.useEffect(()=>{const o=a=>{const{target:i}=a??{};if(Array.isArray(n)){const s=(i==null?void 0:i.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(i)&&i.tagName!=="HTML";n.every(c=>!!c&&!a.composedPath().includes(c))&&!s&&e()}else r.current&&!r.current.contains(i)&&e()};return(t||hb).forEach(a=>document.addEventListener(a,o)),()=>{(t||hb).forEach(a=>document.removeEventListener(a,o))}},[r,e,n]),r}function t5(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function n5(e,t){return typeof t=="boolean"?t:typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function r5(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,o]=E.useState(n?t:n5(e)),a=E.useRef();return E.useEffect(()=>{if("matchMedia"in window)return a.current=window.matchMedia(e),o(a.current.matches),t5(a.current,i=>o(i.matches))},[e]),r}const Dl=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Qo(e,t){const n=E.useRef(!1);E.useEffect(()=>()=>{n.current=!1},[]),E.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function Ix({opened:e,shouldReturnFocus:t=!0}){const n=E.useRef(),r=()=>{var o;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((o=n.current)==null||o.focus({preventScroll:!0}))};return Qo(()=>{let o=-1;const a=i=>{i.key==="Tab"&&window.clearTimeout(o)};return document.addEventListener("keydown",a),e?n.current=document.activeElement:t&&(o=window.setTimeout(r,10)),()=>{window.clearTimeout(o),document.removeEventListener("keydown",a)}},[e,t]),r}function o5(e,t="body > :not(script)"){const n=_x(),r=Array.from(document.querySelectorAll(t)).map(o=>{var l;if((l=o==null?void 0:o.shadowRoot)!=null&&l.contains(e)||o.contains(e))return;const a=o.getAttribute("aria-hidden"),i=o.getAttribute("data-hidden"),s=o.getAttribute("data-focus-id");return o.setAttribute("data-focus-id",n),a===null||a==="false"?o.setAttribute("aria-hidden","true"):!i&&!s&&o.setAttribute("data-hidden",a),{node:o,ariaHidden:i||null}});return()=>{r.forEach(o=>{!o||n!==o.node.getAttribute("data-focus-id")||(o.ariaHidden===null?o.node.removeAttribute("aria-hidden"):o.node.setAttribute("aria-hidden",o.ariaHidden),o.node.removeAttribute("data-focus-id"),o.node.removeAttribute("data-hidden"))})}}const a5=/input|select|textarea|button|object/,Sx="a, input, select, textarea, button, object, [tabindex]";function i5(e){return e.style.display==="none"}function s5(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(i5(n))return!1;n=n.parentNode}return!0}function Cx(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function np(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(Cx(e));return(a5.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&s5(e)}function Ex(e){const t=Cx(e);return(Number.isNaN(t)||t>=0)&&np(e)}function l5(e){return Array.from(e.querySelectorAll(Sx)).filter(Ex)}function c5(e,t){const n=l5(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],o=e.getRootNode();let a=r===o.activeElement||e===o.activeElement;const i=o.activeElement;if(i.tagName==="INPUT"&&i.getAttribute("type")==="radio"&&(a=n.filter(u=>u.getAttribute("type")==="radio"&&u.getAttribute("name")===i.getAttribute("name")).includes(r)),!a)return;t.preventDefault();const l=n[t.shiftKey?n.length-1:0];l&&l.focus()}function u5(e=!0){const t=E.useRef(),n=E.useRef(null),r=a=>{let i=a.querySelector("[data-autofocus]");if(!i){const s=Array.from(a.querySelectorAll(Sx));i=s.find(Ex)||s.find(np)||null,!i&&np(a)&&(i=a)}i&&i.focus({preventScroll:!0})},o=E.useCallback(a=>{if(e){if(a===null){n.current&&(n.current(),n.current=null);return}n.current=o5(a),t.current!==a&&(a?(setTimeout(()=>{a.getRootNode()&&r(a)}),t.current=a):t.current=null)}},[e]);return E.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>r(t.current));const a=i=>{i.key==="Tab"&&t.current&&c5(t.current,i)};return document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a),n.current&&n.current()}},[e]),o}const h5=P.useId||(()=>{});function d5(){const e=h5();return e?`mantine-${e.replace(/:/g,"")}`:""}function ia(e){const t=d5(),[n,r]=E.useState(t);return Dl(()=>{r(_x())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function f5(e,t,n){E.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function Tx(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function Nx(...e){return t=>{e.forEach(n=>Tx(n,t))}}function Rn(...e){return E.useCallback(Nx(...e),e)}function m5(e,t,n="ltr"){const r=E.useRef(null),o=E.useRef(!1),a=E.useRef(!1),i=E.useRef(0),[s,l]=E.useState(!1);return E.useEffect(()=>{o.current=!0},[]),E.useEffect(()=>{var y,b;const c=({x:_,y:x})=>{cancelAnimationFrame(i.current),i.current=requestAnimationFrame(()=>{if(o.current&&r.current){r.current.style.userSelect="none";const C=r.current.getBoundingClientRect();if(C.width&&C.height){const O=ub((_-C.left)/C.width,0,1);e({x:n==="ltr"?O:1-O,y:ub((x-C.top)/C.height,0,1)})}}})},u=()=>{document.addEventListener("mousemove",m),document.addEventListener("mouseup",f),document.addEventListener("touchmove",p),document.addEventListener("touchend",f)},h=()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",f),document.removeEventListener("touchmove",p),document.removeEventListener("touchend",f)},d=()=>{!a.current&&o.current&&(a.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),l(!0),u())},f=()=>{a.current&&o.current&&(a.current=!1,l(!1),h(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},w=_=>{d(),_.preventDefault(),m(_)},m=_=>c({x:_.clientX,y:_.clientY}),g=_=>{_.cancelable&&_.preventDefault(),d(),p(_)},p=_=>{_.cancelable&&_.preventDefault(),c({x:_.changedTouches[0].clientX,y:_.changedTouches[0].clientY})};return(y=r.current)==null||y.addEventListener("mousedown",w),(b=r.current)==null||b.addEventListener("touchstart",g,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",w),r.current.removeEventListener("touchstart",g))}},[n,e]),{ref:r,active:s}}function Zo({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[o,a]=E.useState(t!==void 0?t:n),i=(s,...l)=>{a(s),r==null||r(s,...l)};return e!==void 0?[e,r,!0]:[o,i,!1]}function Sg(e,t){return r5("(prefers-reduced-motion: reduce)",e,t)}var p5={};function g5(){return typeof process<"u"&&p5?"production":"development"}function Mx(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Mx(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function hn(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Mx(e))&&(r&&(r+=" "),r+=t);return r}const y5={};function w5(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,o])=>{t[r]?t[r]=hn(t[r],o):t[r]=o})}),t}function Ih({theme:e,classNames:t,props:n,stylesCtx:r}){const a=(Array.isArray(t)?t:[t]).map(i=>typeof i=="function"?i(e,n,r):i||y5);return w5(a)}function Ou({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((a,i)=>typeof i=="function"?{...a,...i(e,n,r)}:{...a,...i},{})}const Ax=E.createContext(null);function Pl(){const e=E.useContext(Ax);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function v5(){return Pl().cssVariablesResolver}function b5(){return Pl().classNamesPrefix}function Cg(){return Pl().getStyleNonce}function k5(){return Pl().withStaticClasses}function x5(){return Pl().headless}function _5(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function I5(e){let t=e.replace("#","");if(t.length===3){const i=t.split("");t=[i[0],i[0],i[1],i[1],i[2],i[2]].join("")}if(t.length===8){const i=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:i}}const n=parseInt(t,16),r=n>>16&255,o=n>>8&255,a=n&255;return{r,g:o,b:a,a:1}}function S5(e){const[t,n,r,o]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:r,a:o||1}}function C5(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),o=parseInt(n[2],10)/100,a=parseInt(n[3],10)/100,i=n[5]?parseFloat(n[5]):void 0,s=(1-Math.abs(2*a-1))*o,l=r/60,c=s*(1-Math.abs(l%2-1)),u=a-s/2;let h,d,f;return l>=0&&l<1?(h=s,d=c,f=0):l>=1&&l<2?(h=c,d=s,f=0):l>=2&&l<3?(h=0,d=s,f=c):l>=3&&l<4?(h=0,d=c,f=s):l>=4&&l<5?(h=c,d=0,f=s):(h=s,d=0,f=c),{r:Math.round((h+u)*255),g:Math.round((d+u)*255),b:Math.round((f+u)*255),a:i||1}}function Eg(e){return _5(e)?I5(e):e.startsWith("rgb")?S5(e):e.startsWith("hsl")?C5(e):{r:0,g:0,b:0,a:1}}function Nc(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:r,b:o,a}=Eg(e),i=1-t,s=l=>Math.round(l*i);return`rgba(${s(n)}, ${s(r)}, ${s(o)}, ${a})`}function Hu(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function Wf(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function E5(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function T5(e){if(e.startsWith("oklch("))return(E5(e)||0)/100;const{r:t,g:n,b:r}=Eg(e),o=t/255,a=n/255,i=r/255,s=Wf(o),l=Wf(a),c=Wf(i);return .2126*s+.7152*l+.0722*c}function Ms(e,t=.179){return e.startsWith("var(")?!1:T5(e)>t}function Rl({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Ms(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Ms(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Ms(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,o]=e.split("."),a=o?Number(o):void 0,i=r in t.colors;if(i){const s=a!==void 0?t.colors[r][a]:t.colors[r][Hu(t,n||"light")];return{color:r,value:s,shade:a,isThemeColor:i,isLight:Ms(s,t.luminanceThreshold),variable:o?`--mantine-color-${r}-${a}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:i,isLight:Ms(e,t.luminanceThreshold),shade:a,variable:void 0}}function ea(e,t){const n=Rl({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function db(e,t){const n={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)||t.defaultGradient.deg||0},r=ea(n.from,t),o=ea(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${o} 100%)`}function pn(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const a=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${a}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:o}=Eg(e);return`rgba(${n}, ${r}, ${o}, ${t})`}const N5=({color:e,theme:t,variant:n,gradient:r,autoContrast:o})=>{const a=Rl({color:e,theme:t}),i=typeof o=="boolean"?o:t.autoContrast;if(n==="filled"){const s=i&&a.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return a.isThemeColor?a.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:s,border:`${me(1)} solid transparent`}:{background:`var(--mantine-color-${a.color}-${a.shade})`,hover:`var(--mantine-color-${a.color}-${a.shade===9?8:a.shade+1})`,color:s,border:`${me(1)} solid transparent`}:{background:e,hover:Nc(e,.1),color:s,border:`${me(1)} solid transparent`}}if(n==="light"){if(a.isThemeColor){if(a.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${me(1)} solid transparent`};const s=t.colors[a.color][a.shade];return{background:pn(s,.1),hover:pn(s,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${me(1)} solid transparent`}}return{background:pn(e,.1),hover:pn(e,.12),color:e,border:`${me(1)} solid transparent`}}if(n==="outline")return a.isThemeColor?a.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${me(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:pn(t.colors[a.color][a.shade],.05),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${me(1)} solid var(--mantine-color-${a.color}-${a.shade})`}:{background:"transparent",hover:pn(e,.05),color:e,border:`${me(1)} solid ${e}`};if(n==="subtle"){if(a.isThemeColor){if(a.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${me(1)} solid transparent`};const s=t.colors[a.color][a.shade];return{background:"transparent",hover:pn(s,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${me(1)} solid transparent`}}return{background:"transparent",hover:pn(e,.12),color:e,border:`${me(1)} solid transparent`}}return n==="transparent"?a.isThemeColor?a.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${me(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${me(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${me(1)} solid transparent`}:n==="white"?a.isThemeColor?a.shade===void 0?{background:"var(--mantine-color-white)",hover:Nc(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${me(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Nc(t.white,.01),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${me(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Nc(t.white,.01),color:e,border:`${me(1)} solid transparent`}:n==="gradient"?{background:db(r,t),hover:db(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${me(1)} solid var(--mantine-color-default-border)`}:{}},M5={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},fb="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",Tg={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:M5,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:N5,autoContrast:!1,luminanceThreshold:.3,fontFamily:fb,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:fb,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:me(34),lineHeight:"1.3"},h2:{fontSize:me(26),lineHeight:"1.35"},h3:{fontSize:me(22),lineHeight:"1.4"},h4:{fontSize:me(18),lineHeight:"1.45"},h5:{fontSize:me(16),lineHeight:"1.5"},h6:{fontSize:me(14),lineHeight:"1.5"}}},fontSizes:{xs:me(12),sm:me(14),md:me(16),lg:me(18),xl:me(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:me(2),sm:me(4),md:me(8),lg:me(16),xl:me(32)},spacing:{xs:me(10),sm:me(12),md:me(16),lg:me(20),xl:me(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), 0 ${me(1)} ${me(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${me(10)} ${me(15)} ${me(-5)}, rgba(0, 0, 0, 0.04) 0 ${me(7)} ${me(7)} ${me(-5)}`,md:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${me(20)} ${me(25)} ${me(-5)}, rgba(0, 0, 0, 0.04) 0 ${me(10)} ${me(10)} ${me(-5)}`,lg:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${me(28)} ${me(23)} ${me(-7)}, rgba(0, 0, 0, 0.04) 0 ${me(12)} ${me(12)} ${me(-7)}`,xl:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${me(36)} ${me(28)} ${me(-7)}, rgba(0, 0, 0, 0.04) 0 ${me(17)} ${me(17)} ${me(-7)}`},other:{},components:{}};function mb(e){return e==="auto"||e==="dark"||e==="light"}function A5({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return mb(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&mb(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const D5="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",pb="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function zf(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function gb(e){if(!(e.primaryColor in e.colors))throw new Error(D5);if(typeof e.primaryShade=="object"&&(!zf(e.primaryShade.dark)||!zf(e.primaryShade.light)))throw new Error(pb);if(typeof e.primaryShade=="number"&&!zf(e.primaryShade))throw new Error(pb)}function P5(e,t){var r;if(!t)return gb(e),e;const n=kg(e,t);return t.fontFamily&&!((r=t.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=t.fontFamily),gb(n),n}const Ng=E.createContext(null),R5=()=>E.useContext(Ng)||Tg;function yo(){const e=E.useContext(Ng);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function Dx({theme:e,children:t,inherit:n=!0}){const r=R5(),o=E.useMemo(()=>P5(n?r:Tg,e),[e,r,n]);return P.createElement(Ng.Provider,{value:o},t)}Dx.displayName="@mantine/core/MantineThemeProvider";function L5(){const e=yo(),t=Cg(),n=Br(e.breakpoints).reduce((r,o)=>{const a=e.breakpoints[o].includes("px"),i=FM(e.breakpoints[o]),s=a?`${i-.1}px`:lb(i-.1),l=a?`${i}px`:lb(i);return`${r}@media (max-width: ${s}) {.mantine-visible-from-${o} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${o} {display: none !important;}}`},"");return P.createElement("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:n}})}function qf(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function Ff(e,t){return(Array.isArray(e)?e:[e]).reduce((r,o)=>`${o}{${r}}`,t)}function O5(e,t){const n=qf(e.variables),r=n?Ff(t,n):"",o=qf(e.dark),a=o?Ff(`${t}[data-mantine-color-scheme="dark"]`,o):"",i=qf(e.light),s=i?Ff(`${t}[data-mantine-color-scheme="light"]`,i):"";return`${r}${a}${s}`}function H5({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&Rl({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function yb(e,t){return H5({color:e.colors[e.primaryColor][Hu(e,t)],theme:e,autoContrast:null})}function si(e,t,n){Br(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const Px=e=>{const t=Hu(e,"dark"),n=Hu(e,"light"),r=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:me(e.defaultRadius),o={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-color-scheme":"light dark","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":yb(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${n})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)"},dark:{"--mantine-primary-color-contrast":yb(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)"}};si(o.variables,e.breakpoints,"breakpoint"),si(o.variables,e.spacing,"spacing"),si(o.variables,e.fontSizes,"font-size"),si(o.variables,e.lineHeights,"line-height"),si(o.variables,e.shadows,"shadow"),si(o.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((i,s)=>{o.variables[`--mantine-primary-color-${s}`]=`var(--mantine-color-${e.primaryColor}-${s})`}),Br(e.colors).forEach(i=>{e.colors[i].forEach((c,u)=>{o.variables[`--mantine-color-${i}-${u}`]=c});const s=`var(--mantine-color-${i}-${n===9?8:n+1})`,l=`var(--mantine-color-${i}-${t===9?8:t+1})`;o.light["--mantine-color-dimmed"]="var(--mantine-color-gray-6)",o.light[`--mantine-color-${i}-text`]=`var(--mantine-color-${i}-filled)`,o.light[`--mantine-color-${i}-filled`]=`var(--mantine-color-${i}-${n})`,o.light[`--mantine-color-${i}-filled-hover`]=s,o.light[`--mantine-color-${i}-light`]=pn(e.colors[i][n],.1),o.light[`--mantine-color-${i}-light-hover`]=pn(e.colors[i][n],.12),o.light[`--mantine-color-${i}-light-color`]=`var(--mantine-color-${i}-${n})`,o.light[`--mantine-color-${i}-outline`]=`var(--mantine-color-${i}-${n})`,o.light[`--mantine-color-${i}-outline-hover`]=pn(e.colors[i][n],.05),o.dark["--mantine-color-dimmed"]="var(--mantine-color-dark-2)",o.dark[`--mantine-color-${i}-text`]=`var(--mantine-color-${i}-4)`,o.dark[`--mantine-color-${i}-filled`]=`var(--mantine-color-${i}-${t})`,o.dark[`--mantine-color-${i}-filled-hover`]=l,o.dark[`--mantine-color-${i}-light`]=pn(e.colors[i][Math.max(0,t-2)],.15),o.dark[`--mantine-color-${i}-light-hover`]=pn(e.colors[i][Math.max(0,t-2)],.2),o.dark[`--mantine-color-${i}-light-color`]=`var(--mantine-color-${i}-${Math.max(t-5,0)})`,o.dark[`--mantine-color-${i}-outline`]=`var(--mantine-color-${i}-${Math.max(t-4,0)})`,o.dark[`--mantine-color-${i}-outline-hover`]=pn(e.colors[i][Math.max(t-4,0)],.05)});const a=e.headings.sizes;return Br(a).forEach(i=>{o.variables[`--mantine-${i}-font-size`]=a[i].fontSize,o.variables[`--mantine-${i}-line-height`]=a[i].lineHeight,o.variables[`--mantine-${i}-font-weight`]=a[i].fontWeight||e.headings.fontWeight}),o};function $5({theme:e,generator:t}){const n=Px(e),r=t==null?void 0:t(e);return r?kg(n,r):n}const Vf=Px(Tg);function j5(e){const t={variables:{},light:{},dark:{}};return Br(e.variables).forEach(n=>{Vf.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),Br(e.light).forEach(n=>{Vf.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),Br(e.dark).forEach(n=>{Vf.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function G5(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function Rx({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=yo(),r=Cg(),o=v5(),a=$5({theme:n,generator:o}),i=e===":root"&&t,s=i?j5(a):a,l=O5(s,e);return l?P.createElement("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${l}${i?"":G5(e)}`}}):null}Rx.displayName="@mantine/CssVariables";function B5(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function li(e,t){var r;const n=e!=="auto"?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(r=t())==null||r.setAttribute("data-mantine-color-scheme",n)}function W5({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const o=E.useRef(),[a,i]=E.useState(()=>e.get(t)),s=r||a,l=E.useCallback(u=>{r||(li(u,n),i(u),e.set(u))},[e.set,s,r]),c=E.useCallback(()=>{i(t),li(t,n),e.clear()},[e.clear,t]);return E.useEffect(()=>(e.subscribe(l),e.unsubscribe),[e.subscribe,e.unsubscribe]),Dl(()=>{li(e.get(t),n)},[]),E.useEffect(()=>{var h;if(r)return li(r,n),()=>{};r===void 0&&li(a,n),o.current=window.matchMedia("(prefers-color-scheme: dark)");const u=d=>{a==="auto"&&li(d.matches?"dark":"light",n)};return(h=o.current)==null||h.addEventListener("change",u),()=>{var d;return(d=o.current)==null?void 0:d.removeEventListener("change",u)}},[a,r]),{colorScheme:s,setColorScheme:l,clearColorScheme:c}}function z5({respectReducedMotion:e,getRootElement:t}){Dl(()=>{var n;e&&((n=t())==null||n.setAttribute("data-respect-reduced-motion","true"))},[e])}B5();function Lx({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:o=!0,deduplicateCssVariables:a=!0,withCssVariables:i=!0,cssVariablesSelector:s=":root",classNamesPrefix:l="mantine",colorSchemeManager:c=A5(),defaultColorScheme:u="light",getRootElement:h=()=>document.documentElement,cssVariablesResolver:d,forceColorScheme:f}){const{colorScheme:w,setColorScheme:m,clearColorScheme:g}=W5({defaultColorScheme:u,forceColorScheme:f,manager:c,getRootElement:h});return z5({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:h}),P.createElement(Ax.Provider,{value:{colorScheme:w,setColorScheme:m,clearColorScheme:g,getRootElement:h,classNamesPrefix:l,getStyleNonce:n,cssVariablesResolver:d,cssVariablesSelector:s,withStaticClasses:r}},P.createElement(Dx,{theme:e},i&&P.createElement(Rx,{cssVariablesSelector:s,deduplicateCssVariables:a}),o&&P.createElement(L5,null),t))}Lx.displayName="@mantine/core/MantineProvider";function q5({classNames:e,styles:t,props:n,stylesCtx:r}){const o=yo();return{resolvedClassNames:Ih({theme:o,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:Ou({theme:o,styles:t,props:n,stylesCtx:r||void 0})}}const F5={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function V5({theme:e,options:t,unstyled:n}){return hn((t==null?void 0:t.focusable)&&!n&&(e.focusClassName||F5[e.focusRing]),(t==null?void 0:t.active)&&!n&&e.activeClassName)}function Y5({selector:e,stylesCtx:t,options:n,props:r,theme:o}){return Ih({theme:o,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:t})[e]}function J5({selector:e,stylesCtx:t,theme:n,classNames:r,props:o}){return Ih({theme:n,classNames:r,props:o,stylesCtx:t})[e]}function U5({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function K5({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function X5({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:r}){return r===!1?[]:e.map(o=>`${t}-${o}-${n}`)}function Q5({themeName:e,theme:t,selector:n,props:r,stylesCtx:o}){return e.map(a=>{var i,s;return(s=Ih({theme:t,classNames:(i=t.components[a])==null?void 0:i.classNames,props:r,stylesCtx:o}))==null?void 0:s[n]})}function Z5({options:e,classes:t,selector:n,unstyled:r}){return e!=null&&e.variant&&!r?t[`${n}--${e.variant}`]:void 0}function e3({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:o,classNames:a,classes:i,unstyled:s,className:l,rootSelector:c,props:u,stylesCtx:h,withStaticClasses:d,headless:f}){return hn(V5({theme:e,options:t,unstyled:s||f}),Q5({theme:e,themeName:n,selector:r,props:u,stylesCtx:h}),Z5({options:t,classes:i,selector:r,unstyled:s}),J5({selector:r,stylesCtx:h,theme:e,classNames:a,props:u}),Y5({selector:r,stylesCtx:h,options:t,props:u,theme:e}),U5({rootSelector:c,selector:r,className:l}),K5({selector:r,classes:i,unstyled:s||f}),d&&!f&&X5({themeName:n,classNamesPrefix:o,selector:r,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function t3({theme:e,themeName:t,props:n,stylesCtx:r,selector:o}){return t.map(a=>{var i;return Ou({theme:e,styles:(i=e.components[a])==null?void 0:i.styles,props:n,stylesCtx:r})[o]}).reduce((a,i)=>({...a,...i}),{})}function rp({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...rp({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function n3(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],...xg(n[r])}}),t),{})}function r3({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:o,selector:a,themeName:i,headless:s}){var l;return(l=n3([s?{}:t==null?void 0:t(n,r,o),...i.map(c=>{var u,h,d;return(d=(h=(u=n.components)==null?void 0:u[c])==null?void 0:h.vars)==null?void 0:d.call(h,n,r,o)}),e==null?void 0:e(n,r,o)]))==null?void 0:l[a]}function o3({theme:e,themeName:t,selector:n,options:r,props:o,stylesCtx:a,rootSelector:i,styles:s,style:l,vars:c,varsResolver:u,headless:h}){return{...t3({theme:e,themeName:t,props:o,stylesCtx:a,selector:n}),...Ou({theme:e,styles:s,props:o,stylesCtx:a})[n],...Ou({theme:e,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||o,stylesCtx:a})[n],...r3({theme:e,props:o,stylesCtx:a,vars:c,varsResolver:u,selector:n,themeName:t,headless:h}),...i===n?rp({style:l,theme:e}):null,...rp({style:r==null?void 0:r.style,theme:e})}}function vt({name:e,classes:t,props:n,stylesCtx:r,className:o,style:a,rootSelector:i="root",unstyled:s,classNames:l,styles:c,vars:u,varsResolver:h}){const d=yo(),f=b5(),w=k5(),m=x5(),g=(Array.isArray(e)?e:[e]).filter(p=>p);return(p,y)=>({className:e3({theme:d,options:y,themeName:g,selector:p,classNamesPrefix:f,classNames:l,classes:t,unstyled:s,className:o,rootSelector:i,props:n,stylesCtx:r,withStaticClasses:w,headless:m}),style:o3({theme:d,themeName:g,selector:p,options:y,props:n,stylesCtx:r,rootSelector:i,styles:c,style:a,vars:u,varsResolver:h,headless:m})})}function Ae(e,t,n){var i;const r=yo(),o=(i=r.components[e])==null?void 0:i.defaultProps,a=typeof o=="function"?o(r):o;return{...t,...a,...xg(n)}}function wb(e){return Br(e).reduce((t,n)=>e[n]!==void 0?`${t}${zM(n)}:${e[n]};`:t,"").trim()}function a3({selector:e,styles:t,media:n}){const r=t?wb(t):"",o=Array.isArray(n)?n.map(a=>`@media${a.query}{${e}{${wb(a.styles)}}}`):[];return`${r?`${e}{${r}}`:""}${o.join("")}`.trim()}function i3({selector:e,styles:t,media:n}){const r=Cg();return P.createElement("style",{"data-mantine-styles":"inline",nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:a3({selector:e,styles:t,media:n})}})}function Sh(e){const{m:t,mx:n,my:r,mt:o,mb:a,ml:i,mr:s,me:l,ms:c,p:u,px:h,py:d,pt:f,pb:w,pl:m,pr:g,pe:p,ps:y,bg:b,c:_,opacity:x,ff:C,fz:O,fw:D,lts:q,ta:J,lh:K,fs:B,tt:Z,td:M,w:$,miw:S,maw:H,h:N,mih:R,mah:V,bgsz:W,bgp:oe,bgr:le,bga:Q,pos:ce,top:ge,left:Ee,bottom:Te,right:ue,inset:re,display:ae,flex:pe,hiddenFrom:he,visibleFrom:ie,lightHidden:ye,darkHidden:we,...je}=e;return{styleProps:xg({m:t,mx:n,my:r,mt:o,mb:a,ml:i,mr:s,me:l,ms:c,p:u,px:h,py:d,pt:f,pb:w,pl:m,pr:g,pe:p,ps:y,bg:b,c:_,opacity:x,ff:C,fz:O,fw:D,lts:q,ta:J,lh:K,fs:B,tt:Z,td:M,w:$,miw:S,maw:H,h:N,mih:R,mah:V,bgsz:W,bgp:oe,bgr:le,bga:Q,pos:ce,top:ge,left:Ee,bottom:Te,right:ue,inset:re,display:ae,flex:pe,hiddenFrom:he,visibleFrom:ie,lightHidden:ye,darkHidden:we}),rest:je}}const s3={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function Ox(e,t){const n=Rl({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function l3(e,t){const n=Rl({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:Ox(e,t)}const vb={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)"};function c3(e){return typeof e=="string"&&e in vb?vb[e]:e}function u3(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="number"||typeof e=="string"?me(e):e}function h3(e){return e}function d3(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:e}function f3(e){return typeof e=="number"?me(e):e}function m3(e,t){if(typeof e=="number")return me(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return me(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const Yf={color:Ox,textColor:l3,fontSize:u3,spacing:m3,identity:h3,size:f3,lineHeight:d3,fontFamily:c3};function bb(e){return e.replace("(min-width: ","").replace("em)","")}function p3({media:e,...t}){const r=Object.keys(e).sort((o,a)=>Number(bb(o))-Number(bb(a))).map(o=>({query:o,styles:e[o]}));return{...t,media:r}}function g3(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function y3(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function w3(e){return typeof e=="object"&&e!==null?Br(e).filter(t=>t!=="base"):[]}function v3(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function b3({styleProps:e,data:t,theme:n}){return p3(Br(e).reduce((r,o)=>{if(o==="hiddenFrom"||o==="visibleFrom")return r;const a=t[o],i=Array.isArray(a.property)?a.property:[a.property],s=y3(e[o]);if(!g3(e[o]))return i.forEach(c=>{r.inlineStyles[c]=Yf[a.type](s,n)}),r;r.hasResponsiveStyles=!0;const l=w3(e[o]);return i.forEach(c=>{s&&(r.styles[c]=Yf[a.type](s,n)),l.forEach(u=>{const h=`(min-width: ${n.breakpoints[u]})`;r.media[h]={...r.media[h],[c]:Yf[a.type](v3(e[o],u),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function k3(){return`__m__-${E.useId().replace(/:/g,"")}`}function Mg(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...Mg(r,t)}),{}):typeof e=="function"?e(t):e??{}}function Hx(e){return e.startsWith("data-")?e:`data-${e}`}function x3(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[Hx(n)]=e[n]),t},{})}function $x(e){return e?typeof e=="string"?{[Hx(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...$x(n)}),{}):x3(e):null}function op(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...op(r,t)}),{}):typeof e=="function"?e(t):e??{}}function _3({theme:e,style:t,vars:n,styleProps:r}){const o=op(t,e),a=op(n,e);return{...o,...a,...r}}const jx=E.forwardRef(({component:e,style:t,__vars:n,className:r,variant:o,mod:a,size:i,hiddenFrom:s,visibleFrom:l,lightHidden:c,darkHidden:u,renderRoot:h,...d},f)=>{const w=yo(),m=e||"div",{styleProps:g,rest:p}=Sh(d),y=k3(),b=b3({styleProps:g,theme:w,data:s3}),_={ref:f,style:_3({theme:w,style:t,vars:n,styleProps:b.inlineStyles}),className:hn(r,{[y]:b.hasResponsiveStyles,"mantine-light-hidden":c,"mantine-dark-hidden":u,[`mantine-hidden-from-${s}`]:s,[`mantine-visible-from-${l}`]:l}),"data-variant":o,"data-size":xx(i)?void 0:i||void 0,...$x(a),...p};return P.createElement(P.Fragment,null,b.hasResponsiveStyles&&P.createElement(i3,{selector:`.${y}`,styles:b.styles,media:b.media}),typeof h=="function"?h(_):P.createElement(m,{..._}))});jx.displayName="@mantine/core/Box";const $e=jx;function Gx(e){return e}function Be(e){const t=E.forwardRef(e);return t.extend=Gx,t}function qa(e){const t=E.forwardRef(e);return t.extend=Gx,t}const I3=E.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function es(){return E.useContext(I3)}function S3(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Jf(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const As=typeof window<"u"&&window.requestAnimationFrame;function C3({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r}){const o=E.useRef(null),a=0,i={display:"none",height:0,overflow:"hidden"},[s,l]=E.useState(r?{}:i),c=w=>{Al.flushSync(()=>l(w))},u=w=>{c(m=>({...m,...w}))};function h(w){const m=e||S3(w);return{transition:`height ${m}ms ${t}, opacity ${m}ms ${t}`}}Qo(()=>{typeof As=="function"&&As(r?()=>{u({willChange:"height",display:"block",overflow:"hidden"}),As(()=>{const w=Jf(o);u({...h(w),height:w})})}:()=>{const w=Jf(o);u({...h(w),willChange:"height",height:w}),As(()=>u({height:a,overflow:"hidden"}))})},[r]);const d=w=>{if(!(w.target!==o.current||w.propertyName!=="height"))if(r){const m=Jf(o);m===s.height?c({}):u({height:m}),n()}else s.height===a&&(c(i),n())};function f({style:w={},refKey:m="ref",...g}={}){const p=g[m];return{"aria-hidden":!r,...g,[m]:Nx(o,p),onTransitionEnd:d,style:{boxSizing:"border-box",...w,...s}}}return f}const E3={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},Bx=Be((e,t)=>{const{children:n,in:r,transitionDuration:o,transitionTimingFunction:a,style:i,onTransitionEnd:s,animateOpacity:l,...c}=Ae("Collapse",E3,e),u=yo(),h=Sg(),f=(u.respectReducedMotion?h:!1)?0:o,w=C3({opened:r,transitionDuration:f,transitionTimingFunction:a,onTransitionEnd:s});return f===0?r?P.createElement($e,{...c},n):null:P.createElement($e,{...w({style:{opacity:r||!l?1:0,transition:l?`opacity ${f}ms ${a}`:"none",...Mg(i,u)},ref:t,...c})},n)});Bx.displayName="@mantine/core/Collapse";const[T3,ar]=qr("ScrollArea.Root component was not found in tree");function Wi(e,t){const n=wa(t);Dl(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}const N3=P.forwardRef((e,t)=>{const{style:n,...r}=e,o=ar(),[a,i]=P.useState(0),[s,l]=P.useState(0),c=!!(a&&s);return Wi(o.scrollbarX,()=>{var h;const u=((h=o.scrollbarX)==null?void 0:h.offsetHeight)||0;o.onCornerHeightChange(u),l(u)}),Wi(o.scrollbarY,()=>{var h;const u=((h=o.scrollbarY)==null?void 0:h.offsetWidth)||0;o.onCornerWidthChange(u),i(u)}),c?P.createElement("div",{...r,ref:t,style:{...n,width:a,height:s}}):null}),M3=P.forwardRef((e,t)=>{const n=ar(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?P.createElement(N3,{...e,ref:t}):null}),A3={scrollHideDelay:1e3,type:"hover"},Wx=E.forwardRef((e,t)=>{const n=Ae("ScrollAreaRoot",A3,e),{type:r,scrollHideDelay:o,scrollbars:a,...i}=n,[s,l]=E.useState(null),[c,u]=E.useState(null),[h,d]=E.useState(null),[f,w]=E.useState(null),[m,g]=E.useState(null),[p,y]=E.useState(0),[b,_]=E.useState(0),[x,C]=E.useState(!1),[O,D]=E.useState(!1),q=Rn(t,J=>l(J));return P.createElement(T3,{value:{type:r,scrollHideDelay:o,scrollArea:s,viewport:c,onViewportChange:u,content:h,onContentChange:d,scrollbarX:f,onScrollbarXChange:w,scrollbarXEnabled:x,onScrollbarXEnabledChange:C,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:O,onScrollbarYEnabledChange:D,onCornerWidthChange:y,onCornerHeightChange:_}},P.createElement($e,{...i,ref:q,__vars:{"--sa-corner-width":a!=="xy"?"0px":`${p}px`,"--sa-corner-height":a!=="xy"?"0px":`${b}px`}}))});Wx.displayName="@mantine/core/ScrollAreaRoot";function zx(e,t){const n=e/t;return Number.isNaN(n)?0:n}function Ch(e){const t=zx(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function qx(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function D3(e,[t,n]){return Math.min(n,Math.max(t,e))}function kb(e,t,n="ltr"){const r=Ch(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-o,i=t.content-t.viewport,s=a-r,l=n==="ltr"?[0,i]:[i*-1,0],c=D3(e,l);return qx([0,i],[0,s])(c)}function P3(e,t,n,r="ltr"){const o=Ch(n),a=o/2,i=t||a,s=o-i,l=n.scrollbar.paddingStart+i,c=n.scrollbar.size-n.scrollbar.paddingEnd-s,u=n.content-n.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return qx([l,c],h)(e)}function Fx(e,t){return e>0&&e<t}function $u(e){return e?parseInt(e,10):0}function Ea(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e==null||e(r),(n===!1||!r.defaultPrevented)&&(t==null||t(r))}}const[R3,Vx]=qr("ScrollAreaScrollbar was not found in tree"),Yx=E.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:i,onThumbPositionChange:s,onDragScroll:l,onWheelScroll:c,onResize:u,...h}=e,d=ar(),[f,w]=P.useState(null),m=Rn(t,D=>w(D)),g=P.useRef(null),p=P.useRef(""),{viewport:y}=d,b=n.content-n.viewport,_=wa(c),x=wa(s),C=_h(u,10),O=D=>{if(g.current){const q=D.clientX-g.current.left,J=D.clientY-g.current.top;l({x:q,y:J})}};return E.useEffect(()=>{const D=q=>{const J=q.target;(f==null?void 0:f.contains(J))&&_(q,b)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[y,f,b,_]),E.useEffect(x,[n,x]),Wi(f,C),Wi(d.content,C),P.createElement(R3,{value:{scrollbar:f,hasThumb:r,onThumbChange:wa(o),onThumbPointerUp:wa(a),onThumbPositionChange:x,onThumbPointerDown:wa(i)}},P.createElement("div",{...h,ref:m,style:{position:"absolute",...h.style},onPointerDown:Ea(e.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),g.current=f.getBoundingClientRect(),p.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",O(D))}),onPointerMove:Ea(e.onPointerMove,O),onPointerUp:Ea(e.onPointerUp,D=>{const q=D.target;q.hasPointerCapture(D.pointerId)&&q.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=p.current,g.current=null})}))}),L3=E.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:o,...a}=e,i=ar(),[s,l]=E.useState(),c=E.useRef(null),u=Rn(t,c,i.onScrollbarXChange);return E.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),P.createElement(Yx,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{...o,"--sa-thumb-width":`${Ch(n)}px`},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,d)=>{if(i.viewport){const f=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(f),Fx(f,d)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:$u(s.paddingLeft),paddingEnd:$u(s.paddingRight)}})}})}),O3=E.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:o,...a}=e,i=ar(),[s,l]=P.useState(),c=E.useRef(null),u=Rn(t,c,i.onScrollbarYChange);return E.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),P.createElement(Yx,{...a,"data-orientation":"vertical",ref:u,sizes:n,style:{"--sa-thumb-height":`${Ch(n)}px`,...o},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,d)=>{if(i.viewport){const f=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(f),Fx(f,d)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:$u(s.paddingTop),paddingEnd:$u(s.paddingBottom)}})}})}),Ag=E.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:o}=es(),a=ar(),i=E.useRef(null),s=E.useRef(0),[l,c]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=zx(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>{i.current=f},onThumbPointerUp:()=>{s.current=0},onThumbPointerDown:f=>{s.current=f}},d=(f,w)=>P3(f,s.current,l,w);return n==="horizontal"?P.createElement(L3,{...h,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollLeft,w=kb(f,l,o);i.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=d(f,o))}}):n==="vertical"?P.createElement(O3,{...h,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollTop,w=kb(f,l);i.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=d(f))}}):null}),Jx=E.forwardRef((e,t)=>{const n=ar(),{forceMount:r,...o}=e,[a,i]=E.useState(!1),s=e.orientation==="horizontal",l=_h(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;i(s?c:u)}},10);return Wi(n.viewport,l),Wi(n.content,l),r||a?P.createElement(Ag,{"data-state":a?"visible":"hidden",...o,ref:t}):null}),H3=E.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=ar(),[a,i]=E.useState(!1);return E.useEffect(()=>{const{scrollArea:s}=o;let l=0;if(s){const c=()=>{window.clearTimeout(l),i(!0)},u=()=>{l=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",u)}}},[o.scrollArea,o.scrollHideDelay]),n||a?P.createElement(Jx,{"data-state":a?"visible":"hidden",...r,ref:t}):null}),$3=E.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=ar(),a=e.orientation==="horizontal",[i,s]=E.useState("hidden"),l=_h(()=>s("idle"),100);return E.useEffect(()=>{if(i==="idle"){const c=window.setTimeout(()=>s("hidden"),o.scrollHideDelay);return()=>window.clearTimeout(c)}},[i,o.scrollHideDelay]),E.useEffect(()=>{const{viewport:c}=o,u=a?"scrollLeft":"scrollTop";if(c){let h=c[u];const d=()=>{const f=c[u];h!==f&&(s("scrolling"),l()),h=f};return c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[o.viewport,a,l]),n||i!=="hidden"?P.createElement(Ag,{"data-state":i==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Ea(e.onPointerEnter,()=>s("interacting")),onPointerLeave:Ea(e.onPointerLeave,()=>s("idle"))}):null}),xb=P.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=ar(),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=o,s=e.orientation==="horizontal";return P.useEffect(()=>(s?a(!0):i(!0),()=>{s?a(!1):i(!1)}),[s,a,i]),o.type==="hover"?P.createElement(H3,{...r,ref:t,forceMount:n}):o.type==="scroll"?P.createElement($3,{...r,ref:t,forceMount:n}):o.type==="auto"?P.createElement(Jx,{...r,ref:t,forceMount:n}):o.type==="always"?P.createElement(Ag,{...r,ref:t}):null});function j3(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const a={left:e.scrollLeft,top:e.scrollTop},i=n.left!==a.left,s=n.top!==a.top;(i||s)&&t(),n=a,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)}const G3=E.forwardRef((e,t)=>{const{style:n,...r}=e,o=ar(),a=Vx(),{onThumbPositionChange:i}=a,s=Rn(t,u=>a.onThumbChange(u)),l=E.useRef(),c=_h(()=>{l.current&&(l.current(),l.current=void 0)},100);return E.useEffect(()=>{const{viewport:u}=o;if(u){const h=()=>{if(c(),!l.current){const d=j3(u,i);l.current=d,i()}};return i(),u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[o.viewport,c,i]),P.createElement("div",{"data-state":a.hasThumb?"visible":"hidden",...r,ref:s,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:Ea(e.onPointerDownCapture,u=>{const d=u.target.getBoundingClientRect(),f=u.clientX-d.left,w=u.clientY-d.top;a.onThumbPointerDown({x:f,y:w})}),onPointerUp:Ea(e.onPointerUp,a.onThumbPointerUp)})}),_b=P.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Vx();return n||o.hasThumb?P.createElement(G3,{ref:t,...r}):null}),Ux=E.forwardRef(({children:e,style:t,...n},r)=>{const o=ar(),a=Rn(r,o.onViewportChange);return P.createElement($e,{...n,ref:a,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t}},P.createElement("div",{style:{minWidth:"100%",display:"table"},ref:o.onContentChange},e))});Ux.displayName="@mantine/core/ScrollAreaViewport";var Dg={root:"m-d57069b5",viewport:"m-c0783ff9",viewportInner:"m-f8f631dd",scrollbar:"m-c44ba933",thumb:"m-d8b5e363",corner:"m-21657268"};const Kx={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},B3=(e,{scrollbarSize:t})=>({root:{"--scrollarea-scrollbar-size":me(t)}}),Ll=Be((e,t)=>{const n=Ae("ScrollArea",Kx,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,scrollbarSize:l,vars:c,type:u,scrollHideDelay:h,viewportProps:d,viewportRef:f,onScrollPositionChange:w,children:m,offsetScrollbars:g,scrollbars:p,...y}=n,[b,_]=E.useState(!1),x=vt({name:"ScrollArea",props:n,classes:Dg,className:o,style:a,classNames:r,styles:i,unstyled:s,vars:c,varsResolver:B3});return P.createElement(Wx,{type:u==="never"?"always":u,scrollHideDelay:h,ref:t,scrollbars:p,...x("root"),...y},P.createElement(Ux,{...d,...x("viewport",{style:d==null?void 0:d.style}),ref:f,"data-offset-scrollbars":g===!0?"xy":g||void 0,"data-scrollbars":p||void 0,onScroll:typeof w=="function"?({currentTarget:C})=>w({x:C.scrollLeft,y:C.scrollTop}):void 0},m),(p==="xy"||p==="x")&&P.createElement(xb,{...x("scrollbar"),orientation:"horizontal","data-hidden":u==="never"||void 0,forceMount:!0,onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1)},P.createElement(_b,{...x("thumb")})),(p==="xy"||p==="y")&&P.createElement(xb,{...x("scrollbar"),orientation:"vertical","data-hidden":u==="never"||void 0,forceMount:!0,onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1)},P.createElement(_b,{...x("thumb")})),P.createElement(M3,{...x("corner"),"data-hovered":b||void 0,"data-hidden":u==="never"||void 0}))});Ll.displayName="@mantine/core/ScrollArea";const Pg=Be((e,t)=>{const{children:n,classNames:r,styles:o,scrollbarSize:a,scrollHideDelay:i,type:s,dir:l,offsetScrollbars:c,viewportRef:u,onScrollPositionChange:h,unstyled:d,variant:f,viewportProps:w,scrollbars:m,style:g,vars:p,...y}=Ae("ScrollAreaAutosize",Kx,e);return P.createElement($e,{...y,ref:t,style:[{display:"flex",overflow:"auto"},g]},P.createElement($e,{style:{display:"flex",flexDirection:"column",flex:1}},P.createElement(Ll,{classNames:r,styles:o,scrollHideDelay:i,scrollbarSize:a,type:s,dir:l,offsetScrollbars:c,viewportRef:u,onScrollPositionChange:h,unstyled:d,variant:f,viewportProps:w,vars:p,scrollbars:m},n)))});Ll.classes=Dg;Pg.displayName="@mantine/core/ScrollAreaAutosize";Pg.classes=Dg;Ll.Autosize=Pg;var Xx={root:"m-87cf2631"};const W3={__staticSelector:"UnstyledButton"},Ol=qa((e,t)=>{const n=Ae("UnstyledButton",W3,e),{className:r,component:o="button",__staticSelector:a,unstyled:i,classNames:s,styles:l,style:c,...u}=n,h=vt({name:a,props:n,classes:Xx,className:r,style:c,classNames:s,styles:l,unstyled:i});return P.createElement($e,{...h("root",{focusable:!0}),component:o,ref:t,type:o==="button"?"button":void 0,...u})});Ol.classes=Xx;Ol.displayName="@mantine/core/UnstyledButton";var Qx={root:"m-515a97f8"};const z3={},Rg=Be((e,t)=>{const n=Ae("VisuallyHidden",z3,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:l,...c}=n,u=vt({name:"VisuallyHidden",classes:Qx,props:n,className:o,style:a,classNames:r,styles:i,unstyled:s});return P.createElement($e,{component:"span",ref:t,...u("root"),...c})});Rg.classes=Qx;Rg.displayName="@mantine/core/VisuallyHidden";var Zx={root:"m-1b7284a3"};const q3={},F3=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:or(t),"--paper-shadow":Ig(n)}}),Lg=qa((e,t)=>{const n=Ae("Paper",q3,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,withBorder:l,vars:c,radius:u,shadow:h,variant:d,mod:f,...w}=n,m=vt({name:"Paper",props:n,classes:Zx,className:o,style:a,classNames:r,styles:i,unstyled:s,vars:c,varsResolver:F3});return P.createElement($e,{ref:t,mod:[{"data-with-border":l},f],...m("root"),variant:d,...w})});Lg.classes=Zx;Lg.displayName="@mantine/core/Paper";function ta(e){return e_(e)?(e.nodeName||"").toLowerCase():"#document"}function An(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function wo(e){var t;return(t=(e_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function e_(e){return e instanceof Node||e instanceof An(e).Node}function Mt(e){return e instanceof Element||e instanceof An(e).Element}function zn(e){return e instanceof HTMLElement||e instanceof An(e).HTMLElement}function ap(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof An(e).ShadowRoot}function Hl(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=qn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function V3(e){return["table","td","th"].includes(ta(e))}function Og(e){const t=Hg(),n=qn(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Y3(e){let t=Oa(e);for(;zn(t)&&!zi(t);){if(Og(t))return t;t=Oa(t)}return null}function Hg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function zi(e){return["html","body","#document"].includes(ta(e))}function qn(e){return An(e).getComputedStyle(e)}function Eh(e){return Mt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Oa(e){if(ta(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ap(e)&&e.host||wo(e);return ap(t)?t.host:t}function t_(e){const t=Oa(e);return zi(t)?e.ownerDocument?e.ownerDocument.body:e.body:zn(t)&&Hl(t)?t:t_(t)}function io(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=t_(e),a=o===((r=e.ownerDocument)==null?void 0:r.body),i=An(o);return a?t.concat(i,i.visualViewport||[],Hl(o)?o:[],i.frameElement&&n?io(i.frameElement):[]):t.concat(o,io(o,[],n))}function Ib(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function vl(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&ap(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function n_(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function r_(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function J3(e){return X3()?!1:!Sb()&&e.width===0&&e.height===0||Sb()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function U3(){return/apple/i.test(navigator.vendor)}function Sb(){const e=/android/i;return e.test(n_())||e.test(r_())}function K3(){return n_().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function X3(){return r_().includes("jsdom/")}function o_(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function Q3(e){return"nativeEvent"in e}function Z3(e){return e.matches("html,body")}function xa(e){return(e==null?void 0:e.ownerDocument)||document}function Uf(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function ci(e){return"composedPath"in e?e.composedPath()[0]:e.target}const eA="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function tA(e){return zn(e)&&e.matches(eA)}const Cr=Math.min,ln=Math.max,ju=Math.round,Mc=Math.floor,na=e=>({x:e,y:e}),nA={left:"right",right:"left",bottom:"top",top:"bottom"},rA={start:"end",end:"start"};function ip(e,t,n){return ln(e,Cr(t,n))}function fo(e,t){return typeof e=="function"?e(t):e}function Er(e){return e.split("-")[0]}function ts(e){return e.split("-")[1]}function $g(e){return e==="x"?"y":"x"}function jg(e){return e==="y"?"height":"width"}function Fa(e){return["top","bottom"].includes(Er(e))?"y":"x"}function Gg(e){return $g(Fa(e))}function oA(e,t,n){n===void 0&&(n=!1);const r=ts(e),o=Gg(e),a=jg(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=Gu(i)),[i,Gu(i)]}function aA(e){const t=Gu(e);return[sp(e),t,sp(t)]}function sp(e){return e.replace(/start|end/g,t=>rA[t])}function iA(e,t,n){const r=["left","right"],o=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?a:i;default:return[]}}function sA(e,t,n,r){const o=ts(e);let a=iA(Er(e),n==="start",r);return o&&(a=a.map(i=>i+"-"+o),t&&(a=a.concat(a.map(sp)))),a}function Gu(e){return e.replace(/left|right|bottom|top/g,t=>nA[t])}function lA(e){return{top:0,right:0,bottom:0,left:0,...e}}function Bg(e){return typeof e!="number"?lA(e):{top:e,right:e,bottom:e,left:e}}function qi(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Cb(e,t,n){let{reference:r,floating:o}=e;const a=Fa(t),i=Gg(t),s=jg(i),l=Er(t),c=a==="y",u=r.x+r.width/2-o.width/2,h=r.y+r.height/2-o.height/2,d=r[s]/2-o[s]/2;let f;switch(l){case"top":f={x:u,y:r.y-o.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-o.width,y:h};break;default:f={x:r.x,y:r.y}}switch(ts(t)){case"start":f[i]-=d*(n&&c?-1:1);break;case"end":f[i]+=d*(n&&c?-1:1);break}return f}const cA=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:i}=n,s=a.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:h}=Cb(c,r,l),d=r,f={},w=0;for(let m=0;m<s.length;m++){const{name:g,fn:p}=s[m],{x:y,y:b,data:_,reset:x}=await p({x:u,y:h,initialPlacement:r,placement:d,strategy:o,middlewareData:f,rects:c,platform:i,elements:{reference:e,floating:t}});u=y??u,h=b??h,f={...f,[g]:{...f[g],..._}},x&&w<=50&&(w++,typeof x=="object"&&(x.placement&&(d=x.placement),x.rects&&(c=x.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):x.rects),{x:u,y:h}=Cb(c,d,l)),m=-1)}return{x:u,y:h,placement:d,strategy:o,middlewareData:f}};async function Wg(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:a,rects:i,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=fo(t,e),w=Bg(f),g=s[d?h==="floating"?"reference":"floating":h],p=qi(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(g)))==null||n?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),y=h==="floating"?{...i.floating,x:r,y:o}:i.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),_=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},x=qi(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:b,strategy:l}):y);return{top:(p.top-x.top+w.top)/_.y,bottom:(x.bottom-p.bottom+w.bottom)/_.y,left:(p.left-x.left+w.left)/_.x,right:(x.right-p.right+w.right)/_.x}}const uA=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:a,platform:i,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=fo(e,t)||{};if(c==null)return{};const h=Bg(u),d={x:n,y:r},f=Gg(o),w=jg(f),m=await i.getDimensions(c),g=f==="y",p=g?"top":"left",y=g?"bottom":"right",b=g?"clientHeight":"clientWidth",_=a.reference[w]+a.reference[f]-d[f]-a.floating[w],x=d[f]-a.reference[f],C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let O=C?C[b]:0;(!O||!await(i.isElement==null?void 0:i.isElement(C)))&&(O=s.floating[b]||a.floating[w]);const D=_/2-x/2,q=O/2-m[w]/2-1,J=Cr(h[p],q),K=Cr(h[y],q),B=J,Z=O-m[w]-K,M=O/2-m[w]/2+D,$=ip(B,M,Z),S=!l.arrow&&ts(o)!=null&&M!==$&&a.reference[w]/2-(M<B?J:K)-m[w]/2<0,H=S?M<B?M-B:M-Z:0;return{[f]:d[f]+H,data:{[f]:$,centerOffset:M-$-H,...S&&{alignmentOffset:H}},reset:S}}}),hA=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:a,rects:i,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:m=!0,...g}=fo(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const p=Er(o),y=Er(s)===s,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=d||(y||!m?[Gu(s)]:aA(s));!d&&w!=="none"&&_.push(...sA(s,m,w,b));const x=[s,..._],C=await Wg(t,g),O=[];let D=((r=a.flip)==null?void 0:r.overflows)||[];if(u&&O.push(C[p]),h){const B=oA(o,i,b);O.push(C[B[0]],C[B[1]])}if(D=[...D,{placement:o,overflows:O}],!O.every(B=>B<=0)){var q,J;const B=(((q=a.flip)==null?void 0:q.index)||0)+1,Z=x[B];if(Z)return{data:{index:B,overflows:D},reset:{placement:Z}};let M=(J=D.filter($=>$.overflows[0]<=0).sort(($,S)=>$.overflows[1]-S.overflows[1])[0])==null?void 0:J.placement;if(!M)switch(f){case"bestFit":{var K;const $=(K=D.map(S=>[S.placement,S.overflows.filter(H=>H>0).reduce((H,N)=>H+N,0)]).sort((S,H)=>S[1]-H[1])[0])==null?void 0:K[0];$&&(M=$);break}case"initialPlacement":M=s;break}if(o!==M)return{reset:{placement:M}}}return{}}}};function a_(e){const t=Cr(...e.map(a=>a.left)),n=Cr(...e.map(a=>a.top)),r=ln(...e.map(a=>a.right)),o=ln(...e.map(a=>a.bottom));return{x:t,y:n,width:r-t,height:o-n}}function dA(e){const t=e.slice().sort((o,a)=>o.y-a.y),n=[];let r=null;for(let o=0;o<t.length;o++){const a=t[o];!r||a.y-r.y>r.height/2?n.push([a]):n[n.length-1].push(a),r=a}return n.map(o=>qi(a_(o)))}const fA=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:o,platform:a,strategy:i}=t,{padding:s=2,x:l,y:c}=fo(e,t),u=Array.from(await(a.getClientRects==null?void 0:a.getClientRects(r.reference))||[]),h=dA(u),d=qi(a_(u)),f=Bg(s);function w(){if(h.length===2&&h[0].left>h[1].right&&l!=null&&c!=null)return h.find(g=>l>g.left-f.left&&l<g.right+f.right&&c>g.top-f.top&&c<g.bottom+f.bottom)||d;if(h.length>=2){if(Fa(n)==="y"){const J=h[0],K=h[h.length-1],B=Er(n)==="top",Z=J.top,M=K.bottom,$=B?J.left:K.left,S=B?J.right:K.right,H=S-$,N=M-Z;return{top:Z,bottom:M,left:$,right:S,width:H,height:N,x:$,y:Z}}const g=Er(n)==="left",p=ln(...h.map(J=>J.right)),y=Cr(...h.map(J=>J.left)),b=h.filter(J=>g?J.left===y:J.right===p),_=b[0].top,x=b[b.length-1].bottom,C=y,O=p,D=O-C,q=x-_;return{top:_,bottom:x,left:C,right:O,width:D,height:q,x:C,y:_}}return d}const m=await a.getElementRects({reference:{getBoundingClientRect:w},floating:r.floating,strategy:i});return o.reference.x!==m.reference.x||o.reference.y!==m.reference.y||o.reference.width!==m.reference.width||o.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};async function mA(e,t){const{placement:n,platform:r,elements:o}=e,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=Er(n),s=ts(n),l=Fa(n)==="y",c=["left","top"].includes(i)?-1:1,u=a&&l?-1:1,h=fo(t,e);let{mainAxis:d,crossAxis:f,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return s&&typeof w=="number"&&(f=s==="end"?w*-1:w),l?{x:f*u,y:d*c}:{x:d*c,y:f*u}}const i_=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:a,placement:i,middlewareData:s}=t,l=await mA(t,e);return i===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:a+l.y,data:{...l,placement:i}}}}},pA=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:s={fn:g=>{let{x:p,y}=g;return{x:p,y}}},...l}=fo(e,t),c={x:n,y:r},u=await Wg(t,l),h=Fa(Er(o)),d=$g(h);let f=c[d],w=c[h];if(a){const g=d==="y"?"top":"left",p=d==="y"?"bottom":"right",y=f+u[g],b=f-u[p];f=ip(y,f,b)}if(i){const g=h==="y"?"top":"left",p=h==="y"?"bottom":"right",y=w+u[g],b=w-u[p];w=ip(y,w,b)}const m=s.fn({...t,[d]:f,[h]:w});return{...m,data:{x:m.x-n,y:m.y-r}}}}},gA=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:a,middlewareData:i}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=fo(e,t),u={x:n,y:r},h=Fa(o),d=$g(h);let f=u[d],w=u[h];const m=fo(s,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=d==="y"?"height":"width",_=a.reference[d]-a.floating[b]+g.mainAxis,x=a.reference[d]+a.reference[b]-g.mainAxis;f<_?f=_:f>x&&(f=x)}if(c){var p,y;const b=d==="y"?"width":"height",_=["top","left"].includes(Er(o)),x=a.reference[h]-a.floating[b]+(_&&((p=i.offset)==null?void 0:p[h])||0)+(_?0:g.crossAxis),C=a.reference[h]+a.reference[b]+(_?0:((y=i.offset)==null?void 0:y[h])||0)-(_?g.crossAxis:0);w<x?w=x:w>C&&(w=C)}return{[d]:f,[h]:w}}}},yA=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:a}=t,{apply:i=()=>{},...s}=fo(e,t),l=await Wg(t,s),c=Er(n),u=ts(n),h=Fa(n)==="y",{width:d,height:f}=r.floating;let w,m;c==="top"||c==="bottom"?(w=c,m=u===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(m=c,w=u==="end"?"top":"bottom");const g=f-l[w],p=d-l[m],y=!t.middlewareData.shift;let b=g,_=p;if(h){const C=d-l.left-l.right;_=u||y?Cr(p,C):C}else{const C=f-l.top-l.bottom;b=u||y?Cr(g,C):C}if(y&&!u){const C=ln(l.left,0),O=ln(l.right,0),D=ln(l.top,0),q=ln(l.bottom,0);h?_=d-2*(C!==0||O!==0?C+O:ln(l.left,l.right)):b=f-2*(D!==0||q!==0?D+q:ln(l.top,l.bottom))}await i({...t,availableWidth:_,availableHeight:b});const x=await o.getDimensions(a.floating);return d!==x.width||f!==x.height?{reset:{rects:!0}}:{}}}};function s_(e){const t=qn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=zn(e),a=o?e.offsetWidth:n,i=o?e.offsetHeight:r,s=ju(n)!==a||ju(r)!==i;return s&&(n=a,r=i),{width:n,height:r,$:s}}function zg(e){return Mt(e)?e:e.contextElement}function Di(e){const t=zg(e);if(!zn(t))return na(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:a}=s_(t);let i=(a?ju(n.width):n.width)/r,s=(a?ju(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!s||!Number.isFinite(s))&&(s=1),{x:i,y:s}}const wA=na(0);function l_(e){const t=An(e);return!Hg()||!t.visualViewport?wA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function vA(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==An(e)?!1:t}function Ha(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=zg(e);let i=na(1);t&&(r?Mt(r)&&(i=Di(r)):i=Di(e));const s=vA(a,n,r)?l_(a):na(0);let l=(o.left+s.x)/i.x,c=(o.top+s.y)/i.y,u=o.width/i.x,h=o.height/i.y;if(a){const d=An(a),f=r&&Mt(r)?An(r):r;let w=d,m=w.frameElement;for(;m&&r&&f!==w;){const g=Di(m),p=m.getBoundingClientRect(),y=qn(m),b=p.left+(m.clientLeft+parseFloat(y.paddingLeft))*g.x,_=p.top+(m.clientTop+parseFloat(y.paddingTop))*g.y;l*=g.x,c*=g.y,u*=g.x,h*=g.y,l+=b,c+=_,w=An(m),m=w.frameElement}}return qi({width:u,height:h,x:l,y:c})}const bA=[":popover-open",":modal"];function c_(e){return bA.some(t=>{try{return e.matches(t)}catch{return!1}})}function kA(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const a=o==="fixed",i=wo(r),s=t?c_(t.floating):!1;if(r===i||s&&a)return n;let l={scrollLeft:0,scrollTop:0},c=na(1);const u=na(0),h=zn(r);if((h||!h&&!a)&&((ta(r)!=="body"||Hl(i))&&(l=Eh(r)),zn(r))){const d=Ha(r);c=Di(r),u.x=d.x+r.clientLeft,u.y=d.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function xA(e){return Array.from(e.getClientRects())}function u_(e){return Ha(wo(e)).left+Eh(e).scrollLeft}function _A(e){const t=wo(e),n=Eh(e),r=e.ownerDocument.body,o=ln(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=ln(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+u_(e);const s=-n.scrollTop;return qn(r).direction==="rtl"&&(i+=ln(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:i,y:s}}function IA(e,t){const n=An(e),r=wo(e),o=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,s=0,l=0;if(o){a=o.width,i=o.height;const c=Hg();(!c||c&&t==="fixed")&&(s=o.offsetLeft,l=o.offsetTop)}return{width:a,height:i,x:s,y:l}}function SA(e,t){const n=Ha(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,a=zn(e)?Di(e):na(1),i=e.clientWidth*a.x,s=e.clientHeight*a.y,l=o*a.x,c=r*a.y;return{width:i,height:s,x:l,y:c}}function Eb(e,t,n){let r;if(t==="viewport")r=IA(e,n);else if(t==="document")r=_A(wo(e));else if(Mt(t))r=SA(t,n);else{const o=l_(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return qi(r)}function h_(e,t){const n=Oa(e);return n===t||!Mt(n)||zi(n)?!1:qn(n).position==="fixed"||h_(n,t)}function CA(e,t){const n=t.get(e);if(n)return n;let r=io(e,[],!1).filter(s=>Mt(s)&&ta(s)!=="body"),o=null;const a=qn(e).position==="fixed";let i=a?Oa(e):e;for(;Mt(i)&&!zi(i);){const s=qn(i),l=Og(i);!l&&s.position==="fixed"&&(o=null),(a?!l&&!o:!l&&s.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Hl(i)&&!l&&h_(e,i))?r=r.filter(u=>u!==i):o=s,i=Oa(i)}return t.set(e,r),r}function EA(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?CA(t,this._c):[].concat(n),r],s=i[0],l=i.reduce((c,u)=>{const h=Eb(t,u,o);return c.top=ln(h.top,c.top),c.right=Cr(h.right,c.right),c.bottom=Cr(h.bottom,c.bottom),c.left=ln(h.left,c.left),c},Eb(t,s,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function TA(e){const{width:t,height:n}=s_(e);return{width:t,height:n}}function NA(e,t,n){const r=zn(t),o=wo(t),a=n==="fixed",i=Ha(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=na(0);if(r||!r&&!a)if((ta(t)!=="body"||Hl(o))&&(s=Eh(t)),r){const h=Ha(t,!0,a,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else o&&(l.x=u_(o));const c=i.left+s.scrollLeft-l.x,u=i.top+s.scrollTop-l.y;return{x:c,y:u,width:i.width,height:i.height}}function Tb(e,t){return!zn(e)||qn(e).position==="fixed"?null:t?t(e):e.offsetParent}function d_(e,t){const n=An(e);if(!zn(e)||c_(e))return n;let r=Tb(e,t);for(;r&&V3(r)&&qn(r).position==="static";)r=Tb(r,t);return r&&(ta(r)==="html"||ta(r)==="body"&&qn(r).position==="static"&&!Og(r))?n:r||Y3(e)||n}const MA=async function(e){const t=this.getOffsetParent||d_,n=this.getDimensions;return{reference:NA(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}};function AA(e){return qn(e).direction==="rtl"}const DA={convertOffsetParentRelativeRectToViewportRelativeRect:kA,getDocumentElement:wo,getClippingRect:EA,getOffsetParent:d_,getElementRects:MA,getClientRects:xA,getDimensions:TA,getScale:Di,isElement:Mt,isRTL:AA};function PA(e,t){let n=null,r;const o=wo(e);function a(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function i(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const{left:c,top:u,width:h,height:d}=e.getBoundingClientRect();if(s||t(),!h||!d)return;const f=Mc(u),w=Mc(o.clientWidth-(c+h)),m=Mc(o.clientHeight-(u+d)),g=Mc(c),y={rootMargin:-f+"px "+-w+"px "+-m+"px "+-g+"px",threshold:ln(0,Cr(1,l))||1};let b=!0;function _(x){const C=x[0].intersectionRatio;if(C!==l){if(!b)return i();C?i(!1,C):r=setTimeout(()=>{i(!1,1e-7)},100)}b=!1}try{n=new IntersectionObserver(_,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(_,y)}n.observe(e)}return i(!0),a}function RA(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=zg(e),u=o||a?[...c?io(c):[],...io(t)]:[];u.forEach(p=>{o&&p.addEventListener("scroll",n,{passive:!0}),a&&p.addEventListener("resize",n)});const h=c&&s?PA(c,n):null;let d=-1,f=null;i&&(f=new ResizeObserver(p=>{let[y]=p;y&&y.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(t)})),n()}),c&&!l&&f.observe(c),f.observe(t));let w,m=l?Ha(e):null;l&&g();function g(){const p=Ha(e);m&&(p.x!==m.x||p.y!==m.y||p.width!==m.width||p.height!==m.height)&&n(),m=p,w=requestAnimationFrame(g)}return n(),()=>{var p;u.forEach(y=>{o&&y.removeEventListener("scroll",n),a&&y.removeEventListener("resize",n)}),h==null||h(),(p=f)==null||p.disconnect(),f=null,l&&cancelAnimationFrame(w)}}const qg=pA,f_=hA,LA=yA,Nb=uA,m_=fA,OA=gA,HA=(e,t,n)=>{const r=new Map,o={platform:DA,...n},a={...o.platform,_c:r};return cA(e,t,{...o,platform:a})},p_=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Nb({element:r.current,padding:o}).fn(n):{}:r?Nb({element:r,padding:o}).fn(n):{}}}};var tu=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Bu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Bu(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!Bu(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function g_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Mb(e,t){const n=g_(e);return Math.round(t*n)/n}function Ab(e){const t=E.useRef(e);return tu(()=>{t.current=e}),t}function $A(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:i}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[u,h]=E.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,f]=E.useState(r);Bu(d,r)||f(r);const[w,m]=E.useState(null),[g,p]=E.useState(null),y=E.useCallback(H=>{H!==C.current&&(C.current=H,m(H))},[]),b=E.useCallback(H=>{H!==O.current&&(O.current=H,p(H))},[]),_=a||w,x=i||g,C=E.useRef(null),O=E.useRef(null),D=E.useRef(u),q=l!=null,J=Ab(l),K=Ab(o),B=E.useCallback(()=>{if(!C.current||!O.current)return;const H={placement:t,strategy:n,middleware:d};K.current&&(H.platform=K.current),HA(C.current,O.current,H).then(N=>{const R={...N,isPositioned:!0};Z.current&&!Bu(D.current,R)&&(D.current=R,Al.flushSync(()=>{h(R)}))})},[d,t,n,K]);tu(()=>{c===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,h(H=>({...H,isPositioned:!1})))},[c]);const Z=E.useRef(!1);tu(()=>(Z.current=!0,()=>{Z.current=!1}),[]),tu(()=>{if(_&&(C.current=_),x&&(O.current=x),_&&x){if(J.current)return J.current(_,x,B);B()}},[_,x,B,J,q]);const M=E.useMemo(()=>({reference:C,floating:O,setReference:y,setFloating:b}),[y,b]),$=E.useMemo(()=>({reference:_,floating:x}),[_,x]),S=E.useMemo(()=>{const H={position:n,left:0,top:0};if(!$.floating)return H;const N=Mb($.floating,u.x),R=Mb($.floating,u.y);return s?{...H,transform:"translate("+N+"px, "+R+"px)",...g_($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:N,top:R}},[n,s,$.floating,u.x,u.y]);return E.useMemo(()=>({...u,update:B,refs:M,elements:$,floatingStyles:S}),[u,B,M,$,S])}const jA=lk.useInsertionEffect,GA=jA||(e=>e());function ui(e){const t=E.useRef(()=>{});return GA(()=>{t.current=e}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var so=typeof document<"u"?E.useLayoutEffect:E.useEffect;let Kf=!1,BA=0;const Db=()=>"floating-ui-"+BA++;function WA(){const[e,t]=E.useState(()=>Kf?Db():void 0);return so(()=>{e==null&&t(Db())},[]),E.useEffect(()=>{Kf||(Kf=!0)},[]),e}const zA=lk.useId,y_=zA||WA;function qA(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const FA=E.createContext(null),VA=E.createContext(null),Fg=()=>{var e;return((e=E.useContext(FA))==null?void 0:e.id)||null},Vg=()=>E.useContext(VA);function Yg(e){return"data-floating-ui-"+e}function Pb(e){const t=E.useRef(e);return so(()=>{t.current=e}),t}const Rb=Yg("safe-polygon");function nu(e,t,n){return n&&!o_(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function YA(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:a,elements:{domReference:i,floating:s},refs:l}=e,{enabled:c=!0,delay:u=0,handleClose:h=null,mouseOnly:d=!1,restMs:f=0,move:w=!0}=t,m=Vg(),g=Fg(),p=Pb(h),y=Pb(u),b=E.useRef(),_=E.useRef(),x=E.useRef(),C=E.useRef(),O=E.useRef(!0),D=E.useRef(!1),q=E.useRef(()=>{}),J=E.useCallback(()=>{var M;const $=(M=o.current.openEvent)==null?void 0:M.type;return($==null?void 0:$.includes("mouse"))&&$!=="mousedown"},[o]);E.useEffect(()=>{if(!c)return;function M($){let{open:S}=$;S||(clearTimeout(_.current),clearTimeout(C.current),O.current=!0)}return a.on("openchange",M),()=>{a.off("openchange",M)}},[c,a]),E.useEffect(()=>{if(!c||!p.current||!n)return;function M(S){J()&&r(!1,S,"hover")}const $=xa(s).documentElement;return $.addEventListener("mouseleave",M),()=>{$.removeEventListener("mouseleave",M)}},[s,n,r,c,p,J]);const K=E.useCallback(function(M,$,S){$===void 0&&($=!0),S===void 0&&(S="hover");const H=nu(y.current,"close",b.current);H&&!x.current?(clearTimeout(_.current),_.current=setTimeout(()=>r(!1,M,S),H)):$&&(clearTimeout(_.current),r(!1,M,S))},[y,r]),B=E.useCallback(()=>{q.current(),x.current=void 0},[]),Z=E.useCallback(()=>{if(D.current){const M=xa(l.floating.current).body;M.style.pointerEvents="",M.removeAttribute(Rb),D.current=!1}},[l]);return E.useEffect(()=>{if(!c)return;function M(){return o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1}function $(N){if(clearTimeout(_.current),O.current=!1,d&&!o_(b.current)||f>0&&nu(y.current,"open")===0)return;const R=nu(y.current,"open",b.current);R?_.current=setTimeout(()=>{r(!0,N,"hover")},R):r(!0,N,"hover")}function S(N){if(M())return;q.current();const R=xa(s);if(clearTimeout(C.current),p.current){n||clearTimeout(_.current),x.current=p.current({...e,tree:m,x:N.clientX,y:N.clientY,onClose(){Z(),B(),K(N,!0,"safe-polygon")}});const W=x.current;R.addEventListener("mousemove",W),q.current=()=>{R.removeEventListener("mousemove",W)};return}(b.current==="touch"?!vl(s,N.relatedTarget):!0)&&K(N)}function H(N){M()||p.current==null||p.current({...e,tree:m,x:N.clientX,y:N.clientY,onClose(){Z(),B(),K(N)}})(N)}if(Mt(i)){const N=i;return n&&N.addEventListener("mouseleave",H),s==null||s.addEventListener("mouseleave",H),w&&N.addEventListener("mousemove",$,{once:!0}),N.addEventListener("mouseenter",$),N.addEventListener("mouseleave",S),()=>{n&&N.removeEventListener("mouseleave",H),s==null||s.removeEventListener("mouseleave",H),w&&N.removeEventListener("mousemove",$),N.removeEventListener("mouseenter",$),N.removeEventListener("mouseleave",S)}}},[i,s,c,e,d,f,w,K,B,Z,r,n,m,y,p,o]),so(()=>{var M;if(c&&n&&(M=p.current)!=null&&M.__options.blockPointerEvents&&J()){const S=xa(s).body;if(S.setAttribute(Rb,""),S.style.pointerEvents="none",D.current=!0,Mt(i)&&s){var $;const H=i,N=m==null||($=m.nodesRef.current.find(R=>R.id===g))==null||($=$.context)==null?void 0:$.elements.floating;return N&&(N.style.pointerEvents=""),H.style.pointerEvents="auto",s.style.pointerEvents="auto",()=>{H.style.pointerEvents="",s.style.pointerEvents=""}}}},[c,n,g,s,i,m,p,J]),so(()=>{n||(b.current=void 0,B(),Z())},[n,B,Z]),E.useEffect(()=>()=>{B(),clearTimeout(_.current),clearTimeout(C.current),Z()},[c,i,B,Z]),E.useMemo(()=>{if(!c)return{};function M($){b.current=$.pointerType}return{reference:{onPointerDown:M,onPointerEnter:M,onMouseMove($){n||f===0||(clearTimeout(C.current),C.current=setTimeout(()=>{O.current||r(!0,$.nativeEvent,"hover")},f))}},floating:{onMouseEnter(){clearTimeout(_.current)},onMouseLeave($){K($.nativeEvent,!1)}}}},[c,f,n,r,K])}const w_=E.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),v_=()=>E.useContext(w_),JA=e=>{let{children:t,delay:n,timeoutMs:r=0}=e;const[o,a]=E.useReducer((l,c)=>({...l,...c}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),i=E.useRef(null),s=E.useCallback(l=>{a({currentId:l})},[]);return so(()=>{o.currentId?i.current===null?i.current=o.currentId:a({isInstantPhase:!0}):(a({isInstantPhase:!1}),i.current=null)},[o.currentId]),E.createElement(w_.Provider,{value:E.useMemo(()=>({...o,setState:a,setCurrentId:s}),[o,s])},t)},UA=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:o}=t;const{currentId:a,setCurrentId:i,initialDelay:s,setState:l,timeoutMs:c}=v_();so(()=>{a&&(l({delay:{open:1,close:nu(s,"close")}}),a!==o&&r(!1))},[o,r,l,a,s]),so(()=>{function u(){r(!1),l({delay:s,currentId:null})}if(!n&&a===o){if(c){const h=window.setTimeout(u,c);return()=>{clearTimeout(h)}}u()}},[n,l,a,o,r,s,c]),so(()=>{n&&i(o)},[n,i,o])};function Xf(e,t){let n=e.filter(o=>{var a;return o.parentId===t&&((a=o.context)==null?void 0:a.open)}),r=n;for(;r.length;)r=e.filter(o=>{var a;return(a=r)==null?void 0:a.some(i=>{var s;return o.parentId===i.id&&((s=o.context)==null?void 0:s.open)})}),n=n.concat(r);return n}const KA={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},XA={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Lb=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function QA(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,nodeId:o,elements:{reference:a,domReference:i,floating:s},dataRef:l}=e,{enabled:c=!0,escapeKey:u=!0,outsidePress:h=!0,outsidePressEvent:d="pointerdown",referencePress:f=!1,referencePressEvent:w="pointerdown",ancestorScroll:m=!1,bubbles:g,capture:p}=t,y=Vg(),b=ui(typeof h=="function"?h:()=>!1),_=typeof h=="function"?b:h,x=E.useRef(!1),C=E.useRef(!1),{escapeKey:O,outsidePress:D}=Lb(g),{escapeKey:q,outsidePress:J}=Lb(p),K=ui($=>{if(!n||!c||!u||$.key!=="Escape")return;const S=y?Xf(y.nodesRef.current,o):[];if(!O&&($.stopPropagation(),S.length>0)){let H=!0;if(S.forEach(N=>{var R;if((R=N.context)!=null&&R.open&&!N.context.dataRef.current.__escapeKeyBubbles){H=!1;return}}),!H)return}r(!1,Q3($)?$.nativeEvent:$,"escape-key")}),B=ui($=>{var S;const H=()=>{var N;K($),(N=ci($))==null||N.removeEventListener("keydown",H)};(S=ci($))==null||S.addEventListener("keydown",H)}),Z=ui($=>{const S=x.current;x.current=!1;const H=C.current;if(C.current=!1,d==="click"&&H||S||typeof _=="function"&&!_($))return;const N=ci($),R="["+Yg("inert")+"]",V=xa(s).querySelectorAll(R);let W=Mt(N)?N:null;for(;W&&!zi(W);){const Q=Oa(W);if(zi(Q)||!Mt(Q))break;W=Q}if(V.length&&Mt(N)&&!Z3(N)&&!vl(N,s)&&Array.from(V).every(Q=>!vl(W,Q)))return;if(zn(N)&&s){const Q=N.clientWidth>0&&N.scrollWidth>N.clientWidth,ce=N.clientHeight>0&&N.scrollHeight>N.clientHeight;let ge=ce&&$.offsetX>N.clientWidth;if(ce&&qn(N).direction==="rtl"&&(ge=$.offsetX<=N.offsetWidth-N.clientWidth),ge||Q&&$.offsetY>N.clientHeight)return}const oe=y&&Xf(y.nodesRef.current,o).some(Q=>{var ce;return Uf($,(ce=Q.context)==null?void 0:ce.elements.floating)});if(Uf($,s)||Uf($,i)||oe)return;const le=y?Xf(y.nodesRef.current,o):[];if(le.length>0){let Q=!0;if(le.forEach(ce=>{var ge;if((ge=ce.context)!=null&&ge.open&&!ce.context.dataRef.current.__outsidePressBubbles){Q=!1;return}}),!Q)return}r(!1,$,"outside-press")}),M=ui($=>{var S;const H=()=>{var N;Z($),(N=ci($))==null||N.removeEventListener(d,H)};(S=ci($))==null||S.addEventListener(d,H)});return E.useEffect(()=>{if(!n||!c)return;l.current.__escapeKeyBubbles=O,l.current.__outsidePressBubbles=D;function $(N){r(!1,N,"ancestor-scroll")}const S=xa(s);u&&S.addEventListener("keydown",q?B:K,q),_&&S.addEventListener(d,J?M:Z,J);let H=[];return m&&(Mt(i)&&(H=io(i)),Mt(s)&&(H=H.concat(io(s))),!Mt(a)&&a&&a.contextElement&&(H=H.concat(io(a.contextElement)))),H=H.filter(N=>{var R;return N!==((R=S.defaultView)==null?void 0:R.visualViewport)}),H.forEach(N=>{N.addEventListener("scroll",$,{passive:!0})}),()=>{u&&S.removeEventListener("keydown",q?B:K,q),_&&S.removeEventListener(d,J?M:Z,J),H.forEach(N=>{N.removeEventListener("scroll",$)})}},[l,s,i,a,u,_,d,n,r,m,c,O,D,K,q,B,Z,J,M]),E.useEffect(()=>{x.current=!1},[_,d]),E.useMemo(()=>c?{reference:{onKeyDown:K,[KA[w]]:$=>{f&&r(!1,$.nativeEvent,"reference-press")}},floating:{onKeyDown:K,onMouseDown(){C.current=!0},onMouseUp(){C.current=!0},[XA[d]]:()=>{x.current=!0}}}:{},[c,f,d,w,r,K])}function Jg(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:r,nodeId:o}=e,[a,i]=E.useState(null),s=((t=e.elements)==null?void 0:t.reference)||a,l=$A(e),c=Vg(),u=Fg()!=null,h=ui((x,C,O)=>{x&&(f.current.openEvent=C),w.emit("openchange",{open:x,event:C,reason:O,nested:u}),r==null||r(x,C,O)}),d=E.useRef(null),f=E.useRef({}),w=E.useState(()=>qA())[0],m=y_(),g=E.useCallback(x=>{const C=Mt(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;l.refs.setReference(C)},[l.refs]),p=E.useCallback(x=>{(Mt(x)||x===null)&&(d.current=x,i(x)),(Mt(l.refs.reference.current)||l.refs.reference.current===null||x!==null&&!Mt(x))&&l.refs.setReference(x)},[l.refs]),y=E.useMemo(()=>({...l.refs,setReference:p,setPositionReference:g,domReference:d}),[l.refs,p,g]),b=E.useMemo(()=>({...l.elements,domReference:s}),[l.elements,s]),_=E.useMemo(()=>({...l,refs:y,elements:b,dataRef:f,nodeId:o,floatingId:m,events:w,open:n,onOpenChange:h}),[l,o,m,w,n,h,y,b]);return so(()=>{const x=c==null?void 0:c.nodesRef.current.find(C=>C.id===o);x&&(x.context=_)}),E.useMemo(()=>({...l,context:_,refs:y,elements:b}),[l,y,b,_])}function ZA(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,refs:a,elements:{domReference:i}}=e,{enabled:s=!0,visibleOnly:l=!0}=t,c=E.useRef(!1),u=E.useRef(),h=E.useRef(!0);return E.useEffect(()=>{if(!s)return;const d=An(i);function f(){!n&&zn(i)&&i===Ib(xa(i))&&(c.current=!0)}function w(){h.current=!0}return d.addEventListener("blur",f),d.addEventListener("keydown",w,!0),()=>{d.removeEventListener("blur",f),d.removeEventListener("keydown",w,!0)}},[i,n,s]),E.useEffect(()=>{if(!s)return;function d(f){let{reason:w}=f;(w==="reference-press"||w==="escape-key")&&(c.current=!0)}return o.on("openchange",d),()=>{o.off("openchange",d)}},[o,s]),E.useEffect(()=>()=>{clearTimeout(u.current)},[]),E.useMemo(()=>s?{reference:{onPointerDown(d){J3(d.nativeEvent)||(h.current=!1)},onMouseLeave(){c.current=!1},onFocus(d){if(c.current)return;const f=ci(d.nativeEvent);if(l&&Mt(f))try{if(U3()&&K3())throw Error();if(!f.matches(":focus-visible"))return}catch{if(!h.current&&!tA(f))return}r(!0,d.nativeEvent,"focus")},onBlur(d){c.current=!1;const f=d.relatedTarget,w=Mt(f)&&f.hasAttribute(Yg("focus-guard"))&&f.getAttribute("data-type")==="outside";u.current=window.setTimeout(()=>{const m=Ib(i?i.ownerDocument:document);!f&&m===i||vl(a.floating.current,m)||vl(i,m)||w||r(!1,d.nativeEvent,"focus")})}}}:{},[s,l,i,a,r])}const Ob="active",Hb="selected";function Qf(e,t,n){const r=new Map,o=n==="item";let a=e;if(o&&e){const{[Ob]:i,[Hb]:s,...l}=e;a=l}return{...n==="floating"&&{tabIndex:-1},...a,...t.map(i=>{const s=i?i[n]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((i,s)=>(s&&Object.entries(s).forEach(l=>{let[c,u]=l;if(!(o&&[Ob,Hb].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof u=="function"){var h;(h=r.get(c))==null||h.push(u),i[c]=function(){for(var d,f=arguments.length,w=new Array(f),m=0;m<f;m++)w[m]=arguments[m];return(d=r.get(c))==null?void 0:d.map(g=>g(...w)).find(g=>g!==void 0)}}}else i[c]=u}),i),{})}}function eD(e){e===void 0&&(e=[]);const t=e,n=E.useCallback(a=>Qf(a,e,"reference"),t),r=E.useCallback(a=>Qf(a,e,"floating"),t),o=E.useCallback(a=>Qf(a,e,"item"),e.map(a=>a==null?void 0:a.item));return E.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])}const tD=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function nD(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:o}=e,{enabled:a=!0,role:i="dialog"}=t,s=(n=tD.get(i))!=null?n:i,l=y_(),u=Fg()!=null;return E.useMemo(()=>{if(!a)return{};const h={id:o,...s&&{role:s}};return s==="tooltip"||i==="label"?{reference:{["aria-"+(i==="label"?"labelledby":"describedby")]:r?o:void 0},floating:h}:{reference:{"aria-expanded":r?"true":"false","aria-haspopup":s==="alertdialog"?"dialog":s,"aria-controls":r?o:void 0,...s==="listbox"&&{role:"combobox"},...s==="menu"&&{id:l},...s==="menu"&&u&&{role:"menuitem"},...i==="select"&&{"aria-autocomplete":"none"},...i==="combobox"&&{"aria-autocomplete":"list"}},floating:{...h,...s==="menu"&&{"aria-labelledby":l}},item(d){let{active:f,selected:w}=d;const m={role:"option",...f&&{id:o+"-option"}};switch(i){case"select":return{...m,"aria-selected":f&&w};case"combobox":return{...m,...f&&{"aria-selected":!0}}}return{}}}},[a,i,s,r,o,l,u])}function b_(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),o=n==="right"?"left":"right";return r===void 0?o:`${o}-${r}`}return t}function $b(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function jb(e,t,n,r,o){return e==="center"||r==="center"?{left:t}:e==="end"?{[o==="ltr"?"right":"left"]:n}:e==="start"?{[o==="ltr"?"left":"right"]:n}:{}}const rD={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function oD({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,arrowX:a,arrowY:i,dir:s}){const[l,c="center"]=e.split("-"),u={width:me(t),height:me(t),transform:"rotate(45deg)",position:"absolute",[rD[l]]:me(r)},h=me(-t/2);return l==="left"?{...u,...$b(c,i,n,o),right:h,borderLeftColor:"transparent",borderBottomColor:"transparent"}:l==="right"?{...u,...$b(c,i,n,o),left:h,borderRightColor:"transparent",borderTopColor:"transparent"}:l==="top"?{...u,...jb(c,a,n,o,s),bottom:h,borderTopColor:"transparent",borderLeftColor:"transparent"}:l==="bottom"?{...u,...jb(c,a,n,o,s),top:h,borderBottomColor:"transparent",borderRightColor:"transparent"}:{}}const Ug=E.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,visible:a,arrowX:i,arrowY:s,style:l,...c},u)=>{const{dir:h}=es();return a?P.createElement("div",{...c,ref:u,style:{...l,...oD({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,dir:h,arrowX:i,arrowY:s})}}):null});Ug.displayName="@mantine/core/FloatingArrow";const[aD,k_]=qr("Popover component was not found in the tree");function Th({children:e,active:t=!0,refProp:n="ref"}){const r=u5(t),o=Rn(r,e==null?void 0:e.ref);return za(e)?E.cloneElement(e,{[n]:o}):e}function x_(e){return P.createElement(Rg,{tabIndex:-1,"data-autofocus":!0,...e})}Th.displayName="@mantine/core/FocusTrap";x_.displayName="@mantine/core/FocusTrapInitialFocus";Th.InitialFocus=x_;function iD(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}const sD={},__=E.forwardRef((e,t)=>{const{children:n,target:r,...o}=Ae("Portal",sD,e),[a,i]=E.useState(!1),s=E.useRef(null);return Dl(()=>(i(!0),s.current=r?typeof r=="string"?document.querySelector(r):r:iD(o),Tx(t,s.current),!r&&s.current&&document.body.appendChild(s.current),()=>{!r&&s.current&&document.body.removeChild(s.current)}),[r]),!a||!s.current?null:Al.createPortal(P.createElement(P.Fragment,null,n),s.current)});__.displayName="@mantine/core/Portal";function $l({withinPortal:e=!0,children:t,...n}){return e?P.createElement(__,{...n},t):P.createElement(P.Fragment,null,t)}$l.displayName="@mantine/core/OptionalPortal";const Ds=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${me(e==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),Ac={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${me(-20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${me(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${me(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${me(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Ds("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Ds("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Ds("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Ds("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Ds("top"),common:{transformOrigin:"top right"}}},Gb={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function lD({transition:e,state:t,duration:n,timingFunction:r}){const o={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in Ac?{transitionProperty:Ac[e].transitionProperty,...o,...Ac[e].common,...Ac[e][Gb[t]]}:{}:{transitionProperty:e.transitionProperty,...o,...e.common,...e[Gb[t]]}}function cD({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:o,onExit:a,onEntered:i,onExited:s}){const l=yo(),c=Sg(),u=l.respectReducedMotion?c:!1,[h,d]=E.useState(u?0:e),[f,w]=E.useState(r?"entered":"exited"),m=E.useRef(-1),g=E.useRef(-1),p=y=>{const b=y?o:a,_=y?i:s;window.clearTimeout(m.current);const x=u?0:y?e:t;d(x),x===0?(typeof b=="function"&&b(),typeof _=="function"&&_(),w(y?"entered":"exited")):g.current=requestAnimationFrame(()=>{nM.flushSync(()=>{w(y?"pre-entering":"pre-exiting")}),g.current=requestAnimationFrame(()=>{typeof b=="function"&&b(),w(y?"entering":"exiting"),m.current=window.setTimeout(()=>{typeof _=="function"&&_(),w(y?"entered":"exited")},x)})})};return Qo(()=>{p(r)},[r]),E.useEffect(()=>()=>{window.clearTimeout(m.current),cancelAnimationFrame(g.current)},[]),{transitionDuration:h,transitionStatus:f,transitionTimingFunction:n||"ease"}}function Va({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:o,children:a,timingFunction:i="ease",onExit:s,onEntered:l,onEnter:c,onExited:u}){const{transitionDuration:h,transitionStatus:d,transitionTimingFunction:f}=cD({mounted:o,exitDuration:r,duration:n,timingFunction:i,onExit:s,onEntered:l,onEnter:c,onExited:u});return h===0?o?P.createElement(P.Fragment,null,a({})):e?a({display:"none"}):null:d==="exited"?e?a({display:"none"}):null:P.createElement(P.Fragment,null,a(lD({transition:t,duration:h,state:d,timingFunction:f})))}Va.displayName="@mantine/core/Transition";var I_={dropdown:"m-38a85659",arrow:"m-a31dc6c1"};const uD={},Kg=Be((e,t)=>{var g,p,y,b;const n=Ae("PopoverDropdown",uD,e),{className:r,style:o,vars:a,children:i,onKeyDownCapture:s,variant:l,classNames:c,styles:u,...h}=n,d=k_(),f=Ix({opened:d.opened,shouldReturnFocus:d.returnFocus}),w=d.withRoles?{"aria-labelledby":d.getTargetId(),id:d.getDropdownId(),role:"dialog",tabIndex:-1}:{},m=Rn(t,d.floating);return d.disabled?null:P.createElement($l,{...d.portalProps,withinPortal:d.withinPortal},P.createElement(Va,{mounted:d.opened,...d.transitionProps,transition:((g=d.transitionProps)==null?void 0:g.transition)||"fade",duration:((p=d.transitionProps)==null?void 0:p.duration)??150,keepMounted:d.keepMounted,exitDuration:typeof((y=d.transitionProps)==null?void 0:y.exitDuration)=="number"?d.transitionProps.exitDuration:(b=d.transitionProps)==null?void 0:b.duration},_=>P.createElement(Th,{active:d.trapFocus},P.createElement($e,{...w,...h,variant:l,ref:m,onKeyDownCapture:ZM(d.onClose,{active:d.closeOnEscape,onTrigger:f,onKeyDown:s}),"data-position":d.placement,...d.getStyles("dropdown",{className:r,props:n,classNames:c,styles:u,style:[{..._,zIndex:d.zIndex,top:d.y??0,left:d.x??0,width:d.width==="target"?void 0:me(d.width)},o]})},i,P.createElement(Ug,{ref:d.arrowRef,arrowX:d.arrowX,arrowY:d.arrowY,visible:d.withArrow,position:d.placement,arrowSize:d.arrowSize,arrowRadius:d.arrowRadius,arrowOffset:d.arrowOffset,arrowPosition:d.arrowPosition,...d.getStyles("arrow",{props:n,classNames:c,styles:u})})))))});Kg.classes=I_;Kg.displayName="@mantine/core/PopoverDropdown";const hD={refProp:"ref",popupType:"dialog"},S_=Be((e,t)=>{const{children:n,refProp:r,popupType:o,...a}=Ae("PopoverTarget",hD,e);if(!za(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const i=a,s=k_(),l=Rn(s.reference,n.ref,t),c=s.withRoles?{"aria-haspopup":o,"aria-expanded":s.opened,"aria-controls":s.getDropdownId(),id:s.getTargetId()}:{};return E.cloneElement(n,{...i,...c,...s.targetProps,className:hn(s.targetProps.className,i.className,n.props.className),[r]:l,...s.controlled?null:{onClick:s.onToggle}})});S_.displayName="@mantine/core/PopoverTarget";function C_({opened:e,floating:t,position:n,positionDependencies:r}){const[o,a]=E.useState(0);E.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return RA(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,o,n]),Qo(()=>{t.update()},r),Qo(()=>{a(i=>i+1)},[e])}function dD(e,t){var r,o,a,i;const n=[i_(e.offset)];return(r=e.middlewares)!=null&&r.shift&&n.push(qg({limiter:OA()})),(o=e.middlewares)!=null&&o.flip&&n.push(f_()),(a=e.middlewares)!=null&&a.inline&&n.push(m_()),n.push(p_({element:e.arrowRef,padding:e.arrowOffset})),((i=e.middlewares)!=null&&i.size||e.width==="target")&&n.push(LA({apply({rects:s,availableWidth:l,availableHeight:c}){var d,f;const h=((d=t().refs.floating.current)==null?void 0:d.style)??{};(f=e.middlewares)!=null&&f.size&&Object.assign(h,{maxWidth:`${l}px`,maxHeight:`${c}px`}),e.width==="target"&&Object.assign(h,{width:`${s.reference.width}px`})}})),n}function fD(e){const[t,n]=Zo({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var i;t&&((i=e.onClose)==null||i.call(e),n(!1))},o=()=>{var i,s;t?((i=e.onClose)==null||i.call(e),n(!1)):((s=e.onOpen)==null||s.call(e),n(!0))},a=Jg({strategy:e.strategy,placement:e.position,middleware:dD(e,()=>a)});return C_({opened:e.opened,position:e.position,positionDependencies:e.positionDependencies||[],floating:a}),Qo(()=>{var i;(i=e.onPositionChange)==null||i.call(e,a.placement)},[a.placement]),Qo(()=>{var i,s;e.opened?(s=e.onOpen)==null||s.call(e):(i=e.onClose)==null||i.call(e)},[e.opened]),{floating:a,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:o}}const mD={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:go("popover"),__staticSelector:"Popover",width:"max-content"},pD=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:or(t),"--popover-shadow":Ig(n)}});function Dn(e){var je,Me,Fe,Ve,Xe,He;const t=Ae("Popover",mD,e),{children:n,position:r,offset:o,onPositionChange:a,positionDependencies:i,opened:s,transitionProps:l,width:c,middlewares:u,withArrow:h,arrowSize:d,arrowOffset:f,arrowRadius:w,arrowPosition:m,unstyled:g,classNames:p,styles:y,closeOnClickOutside:b,withinPortal:_,portalProps:x,closeOnEscape:C,clickOutsideEvents:O,trapFocus:D,onClose:q,onOpen:J,onChange:K,zIndex:B,radius:Z,shadow:M,id:$,defaultOpened:S,__staticSelector:H,withRoles:N,disabled:R,returnFocus:V,variant:W,keepMounted:oe,vars:le,floatingStrategy:Q,...ce}=t,ge=vt({name:H,props:t,classes:I_,classNames:p,styles:y,unstyled:g,rootSelector:"dropdown",vars:le,varsResolver:pD}),Ee=E.useRef(null),[Te,ue]=E.useState(null),[re,ae]=E.useState(null),{dir:pe}=es(),he=ia($),ie=fD({middlewares:u,width:c,position:b_(pe,r),offset:typeof o=="number"?o+(h?d/2:0):o,arrowRef:Ee,arrowOffset:f,onPositionChange:a,positionDependencies:i,opened:s,defaultOpened:S,onChange:K,onOpen:J,onClose:q,strategy:Q});e5(()=>b&&ie.onClose(),O,[Te,re]);const ye=E.useCallback(Le=>{ue(Le),ie.floating.refs.setReference(Le)},[ie.floating.refs.setReference]),we=E.useCallback(Le=>{ae(Le),ie.floating.refs.setFloating(Le)},[ie.floating.refs.setFloating]);return P.createElement(aD,{value:{returnFocus:V,disabled:R,controlled:ie.controlled,reference:ye,floating:we,x:ie.floating.x,y:ie.floating.y,arrowX:(Fe=(Me=(je=ie.floating)==null?void 0:je.middlewareData)==null?void 0:Me.arrow)==null?void 0:Fe.x,arrowY:(He=(Xe=(Ve=ie.floating)==null?void 0:Ve.middlewareData)==null?void 0:Xe.arrow)==null?void 0:He.y,opened:ie.opened,arrowRef:Ee,transitionProps:l,width:c,withArrow:h,arrowSize:d,arrowOffset:f,arrowRadius:w,arrowPosition:m,placement:ie.floating.placement,trapFocus:D,withinPortal:_,portalProps:x,zIndex:B,radius:Z,shadow:M,closeOnEscape:C,onClose:ie.onClose,onToggle:ie.onToggle,getTargetId:()=>`${he}-target`,getDropdownId:()=>`${he}-dropdown`,withRoles:N,targetProps:ce,__staticSelector:H,classNames:p,styles:y,unstyled:g,variant:W,keepMounted:oe,getStyles:ge}},n)}Dn.Target=S_;Dn.Dropdown=Kg;Dn.displayName="@mantine/core/Popover";Dn.extend=e=>e;var yr={root:"m-5ae2e3c",barsLoader:"m-7a2bd4cd",bar:"m-870bb79","bars-loader-animation":"m-5d2b3b9d",dotsLoader:"m-4e3f22d7",dot:"m-870c4af","loader-dots-animation":"m-aac34a1",ovalLoader:"m-b34414df","oval-loader-animation":"m-f8e89c4b"};const gD=E.forwardRef(({className:e,...t},n)=>P.createElement($e,{component:"span",className:hn(yr.barsLoader,e),...t,ref:n},P.createElement("span",{className:yr.bar}),P.createElement("span",{className:yr.bar}),P.createElement("span",{className:yr.bar}))),yD=E.forwardRef(({className:e,...t},n)=>P.createElement($e,{component:"span",className:hn(yr.dotsLoader,e),...t,ref:n},P.createElement("span",{className:yr.dot}),P.createElement("span",{className:yr.dot}),P.createElement("span",{className:yr.dot}))),wD=E.forwardRef(({className:e,...t},n)=>P.createElement($e,{component:"span",className:hn(yr.ovalLoader,e),...t,ref:n})),E_={bars:gD,oval:wD,dots:yD},vD={loaders:E_,type:"oval"},bD=(e,{size:t,color:n})=>({root:{"--loader-size":At(t,"loader-size"),"--loader-color":n?ea(n,e):void 0}}),Nh=Be((e,t)=>{const n=Ae("Loader",vD,e),{size:r,color:o,type:a,vars:i,className:s,style:l,classNames:c,styles:u,unstyled:h,loaders:d,variant:f,children:w,...m}=n,g=vt({name:"Loader",props:n,classes:yr,className:s,style:l,classNames:c,styles:u,unstyled:h,vars:i,varsResolver:bD});return w?P.createElement($e,{...g("root"),ref:t,...m},w):P.createElement($e,{...g("root"),ref:t,component:d[a],variant:f,size:r,...m})});Nh.defaultLoaders=E_;Nh.classes=yr;Nh.displayName="@mantine/core/Loader";const T_=E.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>P.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n},P.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})));T_.displayName="@mantine/core/CloseIcon";var N_={root:"m-86a44da5","root--subtle":"m-220c80f2"};const kD={variant:"subtle"},xD=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":At(t,"cb-size"),"--cb-radius":n===void 0?void 0:or(n),"--cb-icon-size":me(r)}}),Mh=qa((e,t)=>{const n=Ae("CloseButton",kD,e),{iconSize:r,children:o,vars:a,radius:i,className:s,classNames:l,style:c,styles:u,unstyled:h,"data-disabled":d,disabled:f,variant:w,icon:m,mod:g,...p}=n,y=vt({name:"CloseButton",props:n,className:s,style:c,classes:N_,classNames:l,styles:u,unstyled:h,vars:a,varsResolver:xD});return P.createElement(Ol,{ref:t,...p,unstyled:h,variant:w,disabled:f,mod:[{disabled:f||d},g],...y("root",{variant:w,active:!0})},m||P.createElement(T_,null),o)});Mh.classes=N_;Mh.displayName="@mantine/core/CloseButton";function _D(e){return E.Children.toArray(e).filter(Boolean)}var M_={root:"m-4081bf90"};const ID={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},SD=(e,{grow:t,preventGrowOverflow:n,gap:r,align:o,justify:a,wrap:i},{childWidth:s})=>({root:{"--group-child-width":t&&n?s:void 0,"--group-gap":_g(r),"--group-align":o,"--group-justify":a,"--group-wrap":i}}),Xg=Be((e,t)=>{const n=Ae("Group",ID,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,children:l,gap:c,align:u,justify:h,wrap:d,grow:f,preventGrowOverflow:w,vars:m,variant:g,__size:p,mod:y,...b}=n,_=_D(l),x=_.length,C=_g(c??"md"),D={childWidth:`calc(${100/x}% - (${C} - ${C} / ${x}))`},q=vt({name:"Group",props:n,stylesCtx:D,className:o,style:a,classes:M_,classNames:r,styles:i,unstyled:s,vars:m,varsResolver:SD});return P.createElement($e,{...q("root"),ref:t,variant:g,mod:[{grow:f},y],size:p,...b},_)});Xg.classes=M_;Xg.displayName="@mantine/core/Group";var A_={root:"m-9814e45f"};const CD={zIndex:go("modal")},ED=(e,{gradient:t,color:n,backgroundOpacity:r,blur:o,radius:a,zIndex:i})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&pn(n||"#000",r??.6)||void 0,"--overlay-filter":o?`blur(${me(o)})`:void 0,"--overlay-radius":a===void 0?void 0:or(a),"--overlay-z-index":i==null?void 0:i.toString()}}),Qg=qa((e,t)=>{const n=Ae("Overlay",CD,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:l,fixed:c,center:u,children:h,radius:d,zIndex:f,gradient:w,blur:m,color:g,backgroundOpacity:p,mod:y,...b}=n,_=vt({name:"Overlay",props:n,classes:A_,className:o,style:a,classNames:r,styles:i,unstyled:s,vars:l,varsResolver:ED});return P.createElement($e,{ref:t,..._("root"),mod:[{center:u,fixed:c},y],...b},h)});Qg.classes=A_;Qg.displayName="@mantine/core/Overlay";const[TD,vo]=qr("ModalBase component was not found in tree");function ND({opened:e,transitionDuration:t}){const[n,r]=E.useState(e),o=E.useRef(),i=Sg()?0:t;return E.useEffect(()=>(e?(r(!0),window.clearTimeout(o.current)):i===0?r(!1):o.current=window.setTimeout(()=>r(!1),i),()=>window.clearTimeout(o.current)),[e,i]),n}function MD({id:e,transitionProps:t,opened:n,trapFocus:r,closeOnEscape:o,onClose:a,returnFocus:i}){const s=ia(e),[l,c]=E.useState(!1),[u,h]=E.useState(!1),d=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,f=ND({opened:n,transitionDuration:d});return f5("keydown",w=>{var m;w.key==="Escape"&&o&&((m=w.target)==null?void 0:m.getAttribute("data-mantine-stop-propagation"))!=="true"&&a()},{capture:!0}),Ix({opened:n,shouldReturnFocus:r&&i}),{_id:s,titleMounted:l,bodyMounted:u,shouldLockScroll:f,setTitleMounted:c,setBodyMounted:h}}const D_=E.forwardRef(({keepMounted:e,opened:t,onClose:n,id:r,transitionProps:o,trapFocus:a,closeOnEscape:i,returnFocus:s,closeOnClickOutside:l,withinPortal:c,portalProps:u,lockScroll:h,children:d,zIndex:f,shadow:w,padding:m,__vars:g,unstyled:p,removeScrollProps:y,...b},_)=>{const{_id:x,titleMounted:C,bodyMounted:O,shouldLockScroll:D,setTitleMounted:q,setBodyMounted:J}=MD({id:r,transitionProps:o,opened:t,trapFocus:a,closeOnEscape:i,onClose:n,returnFocus:s});return P.createElement($l,{...u,withinPortal:c},P.createElement(TD,{value:{opened:t,onClose:n,closeOnClickOutside:l,transitionProps:{...o,keepMounted:e},getTitleId:()=>`${x}-title`,getBodyId:()=>`${x}-body`,titleMounted:C,bodyMounted:O,setTitleMounted:q,setBodyMounted:J,trapFocus:a,closeOnEscape:i,zIndex:f,unstyled:p}},P.createElement(WM,{enabled:D&&h,...y},P.createElement($e,{ref:_,...b,__vars:{...g,"--mb-z-index":(f||go("modal")).toString(),"--mb-shadow":Ig(w),"--mb-padding":_g(m)}},d))))});function AD(){const e=vo();return E.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var Fi={title:"m-615af6c9",header:"m-b5489c3c",inner:"m-60c222c7",content:"m-fd1ab0aa",close:"m-606cb269",body:"m-5df29311"};const Zg=E.forwardRef(({className:e,...t},n)=>{const r=AD(),o=vo();return P.createElement($e,{ref:n,...t,id:r,className:hn({[Fi.body]:!o.unstyled},e)})});Zg.displayName="@mantine/core/ModalBaseBody";const ey=E.forwardRef(({className:e,onClick:t,...n},r)=>{const o=vo();return P.createElement(Mh,{ref:r,...n,onClick:a=>{o.onClose(),t==null||t(a)},className:hn({[Fi.close]:!o.unstyled},e),unstyled:o.unstyled})});ey.displayName="@mantine/core/ModalBaseCloseButton";const P_=E.forwardRef(({transitionProps:e,className:t,innerProps:n,onKeyDown:r,style:o,...a},i)=>{const s=vo();return P.createElement(Va,{mounted:s.opened,transition:"pop",...s.transitionProps,...e},l=>P.createElement("div",{...n,className:hn({[Fi.inner]:!s.unstyled},n.className)},P.createElement(Th,{active:s.opened&&s.trapFocus},P.createElement(Lg,{...a,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":s.bodyMounted?s.getBodyId():void 0,"aria-labelledby":s.titleMounted?s.getTitleId():void 0,ref:i,style:[o,l],className:hn({[Fi.content]:!s.unstyled},t),unstyled:s.unstyled},a.children))))}),ty=E.forwardRef(({className:e,...t},n)=>{const r=vo();return P.createElement($e,{component:"header",ref:n,className:hn({[Fi.header]:!r.unstyled},e),...t})});ty.displayName="@mantine/core/ModalBaseHeader";const DD={duration:200,timingFunction:"ease",transition:"fade"};function PD(e){const t=vo();return{...DD,...t.transitionProps,...e}}const ny=E.forwardRef(({onClick:e,transitionProps:t,style:n,...r},o)=>{const a=vo(),i=PD(t);return P.createElement(Va,{mounted:a.opened,...i,transition:"fade"},s=>P.createElement(Qg,{ref:o,fixed:!0,style:[n,s],zIndex:a.zIndex,unstyled:a.unstyled,onClick:l=>{e==null||e(l),a.closeOnClickOutside&&a.onClose()},...r}))});ny.displayName="@mantine/core/ModalBaseOverlay";function RD(){const e=vo();return E.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const ry=E.forwardRef(({className:e,...t},n)=>{const r=RD(),o=vo();return P.createElement($e,{component:"h2",ref:n,className:hn({[Fi.title]:!o.unstyled},e),...t,id:r})});ry.displayName="@mantine/core/ModalBaseTitle";function R_({children:e}){return P.createElement(P.Fragment,null,e)}const[LD,jl]=VM({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var ir={wrapper:"m-6c018570",input:"m-8fb7ebe7",section:"m-82577fc2",placeholder:"m-88bacfd0",root:"m-46b77525",label:"m-8fdc1311",required:"m-78a94662",error:"m-8f816625",description:"m-fe47ce59"};const Bb={},OD=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${er(t)} - ${me(2)})`}}),Ah=Be((e,t)=>{const n=Ae("InputDescription",Bb,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:l,size:c,__staticSelector:u,__inheritStyles:h=!0,variant:d,...f}=Ae("InputDescription",Bb,n),w=jl(),m=vt({name:["InputWrapper",u],props:n,classes:ir,className:o,style:a,classNames:r,styles:i,unstyled:s,rootSelector:"description",vars:l,varsResolver:OD}),g=h&&(w==null?void 0:w.getStyles)||m;return P.createElement($e,{component:"p",ref:t,variant:d,size:c,...g("description",w!=null&&w.getStyles?{className:o,style:a}:void 0),...f})});Ah.classes=ir;Ah.displayName="@mantine/core/InputDescription";const HD={},$D=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${er(t)} - ${me(2)})`}}),Dh=Be((e,t)=>{const n=Ae("InputError",HD,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:l,size:c,__staticSelector:u,__inheritStyles:h=!0,variant:d,...f}=n,w=vt({name:["InputWrapper",u],props:n,classes:ir,className:o,style:a,classNames:r,styles:i,unstyled:s,rootSelector:"error",vars:l,varsResolver:$D}),m=jl(),g=h&&(m==null?void 0:m.getStyles)||w;return P.createElement($e,{component:"p",ref:t,variant:d,size:c,...g("error",m!=null&&m.getStyles?{className:o,style:a}:void 0),...f})});Dh.classes=ir;Dh.displayName="@mantine/core/InputError";const Wb={labelElement:"label"},jD=(e,{size:t})=>({label:{"--input-label-size":er(t),"--input-asterisk-color":void 0}}),Ph=Be((e,t)=>{const n=Ae("InputLabel",Wb,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:l,labelElement:c,size:u,required:h,htmlFor:d,onMouseDown:f,children:w,__staticSelector:m,variant:g,mod:p,...y}=Ae("InputLabel",Wb,n),b=vt({name:["InputWrapper",m],props:n,classes:ir,className:o,style:a,classNames:r,styles:i,unstyled:s,rootSelector:"label",vars:l,varsResolver:jD}),_=jl(),x=(_==null?void 0:_.getStyles)||b;return P.createElement($e,{...x("label",_!=null&&_.getStyles?{className:o,style:a}:void 0),component:c,variant:g,size:u,ref:t,htmlFor:c==="label"?d:void 0,mod:[{required:h},p],onMouseDown:C=>{f==null||f(C),!C.defaultPrevented&&C.detail>1&&C.preventDefault()},...y},w,h&&P.createElement("span",{...x("required"),"aria-hidden":!0}," *"))});Ph.classes=ir;Ph.displayName="@mantine/core/InputLabel";const zb={},oy=Be((e,t)=>{const n=Ae("InputPlaceholder",zb,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:l,__staticSelector:c,variant:u,error:h,mod:d,...f}=Ae("InputPlaceholder",zb,n),w=vt({name:["InputPlaceholder",c],props:n,classes:ir,className:o,style:a,classNames:r,styles:i,unstyled:s,rootSelector:"placeholder"});return P.createElement($e,{...w("placeholder"),mod:[{error:!!h},d],component:"span",variant:u,ref:t,...f})});oy.classes=ir;oy.displayName="@mantine/core/InputPlaceholder";function GD(e,{hasDescription:t,hasError:n}){const r=e.findIndex(l=>l==="input"),o=e[r-1],a=e[r+1];return{offsetBottom:t&&a==="description"||n&&a==="error",offsetTop:t&&o==="description"||n&&o==="error"}}const BD={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},WD=(e,{size:t})=>({label:{"--input-label-size":er(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${er(t)} - ${me(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${er(t)} - ${me(2)})`}}),ay=Be((e,t)=>{const n=Ae("InputWrapper",BD,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:l,size:c,variant:u,__staticSelector:h,inputContainer:d,inputWrapperOrder:f,label:w,error:m,description:g,labelProps:p,descriptionProps:y,errorProps:b,labelElement:_,children:x,withAsterisk:C,id:O,required:D,__stylesApiProps:q,mod:J,...K}=n,B=vt({name:["InputWrapper",h],props:q||n,classes:ir,className:o,style:a,classNames:r,styles:i,unstyled:s,vars:l,varsResolver:WD}),Z={size:c,variant:u,__staticSelector:h},M=ia(O),$=typeof C=="boolean"?C:D,S=(b==null?void 0:b.id)||`${M}-error`,H=(y==null?void 0:y.id)||`${M}-description`,N=M,R=!!m&&typeof m!="boolean",V=!!g,W=`${R?S:""} ${V?H:""}`,oe=W.trim().length>0?W.trim():void 0,le=(p==null?void 0:p.id)||`${M}-label`,Q=w&&P.createElement(Ph,{key:"label",labelElement:_,id:le,htmlFor:N,required:$,...Z,...p},w),ce=V&&P.createElement(Ah,{key:"description",...y,...Z,size:(y==null?void 0:y.size)||Z.size,id:(y==null?void 0:y.id)||H},g),ge=P.createElement(P.Fragment,{key:"input"},d(x)),Ee=R&&P.createElement(Dh,{...b,...Z,size:(b==null?void 0:b.size)||Z.size,key:"error",id:(b==null?void 0:b.id)||S},m),Te=f.map(ue=>{switch(ue){case"label":return Q;case"input":return ge;case"description":return ce;case"error":return Ee;default:return null}});return P.createElement(LD,{value:{getStyles:B,describedBy:oe,inputId:N,labelId:le,...GD(f,{hasDescription:V,hasError:R})}},P.createElement($e,{ref:t,variant:u,size:c,mod:[{error:!!m},J],...B("root"),...K},Te))});ay.classes=ir;ay.displayName="@mantine/core/InputWrapper";const zD={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},qD=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":At(t.size,"input-height"),"--input-fz":er(t.size),"--input-radius":t.radius===void 0?void 0:or(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?me(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?me(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?At(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),dn=qa((e,t)=>{const n=Ae("Input",zD,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,required:l,__staticSelector:c,__stylesApiProps:u,size:h,wrapperProps:d,error:f,disabled:w,leftSection:m,leftSectionProps:g,leftSectionWidth:p,rightSection:y,rightSectionProps:b,rightSectionWidth:_,rightSectionPointerEvents:x,leftSectionPointerEvents:C,variant:O,vars:D,pointer:q,multiline:J,radius:K,id:B,withAria:Z,withErrorStyles:M,mod:$,...S}=n,{styleProps:H,rest:N}=Sh(S),R=jl(),V={offsetBottom:R==null?void 0:R.offsetBottom,offsetTop:R==null?void 0:R.offsetTop},W=vt({name:["Input",c],props:u||n,classes:ir,className:o,style:a,classNames:r,styles:i,unstyled:s,stylesCtx:V,rootSelector:"wrapper",vars:D,varsResolver:qD}),oe=Z?{required:l,disabled:w,"aria-invalid":!!f,"aria-describedby":R==null?void 0:R.describedBy,id:(R==null?void 0:R.inputId)||B}:{};return P.createElement($e,{...W("wrapper"),...H,...d,mod:[{error:!!f&&M,pointer:q,disabled:w,multiline:J,"data-with-right-section":!!y,"data-with-left-section":!!m},$],variant:O,size:h},m&&P.createElement("div",{...g,"data-position":"left",...W("section",{className:g==null?void 0:g.className,style:g==null?void 0:g.style})},m),P.createElement($e,{component:"input",...N,...oe,ref:t,required:l,mod:{disabled:w,error:!!f&&M},variant:O,...W("input")}),y&&P.createElement("div",{...b,"data-position":"right",...W("section",{className:b==null?void 0:b.className,style:b==null?void 0:b.style})},y))});dn.classes=ir;dn.Wrapper=ay;dn.Label=Ph;dn.Error=Dh;dn.Description=Ah;dn.Placeholder=oy;dn.displayName="@mantine/core/Input";function FD(e,t,n){const r=Ae(e,t,n),{label:o,description:a,error:i,required:s,classNames:l,styles:c,className:u,unstyled:h,__staticSelector:d,__stylesApiProps:f,errorProps:w,labelProps:m,descriptionProps:g,wrapperProps:p,id:y,size:b,style:_,inputContainer:x,inputWrapperOrder:C,withAsterisk:O,variant:D,vars:q,mod:J,...K}=r,{styleProps:B,rest:Z}=Sh(K),M={label:o,description:a,error:i,required:s,classNames:l,className:u,__staticSelector:d,__stylesApiProps:f||r,errorProps:w,labelProps:m,descriptionProps:g,unstyled:h,styles:c,size:b,style:_,inputContainer:x,inputWrapperOrder:C,withAsterisk:O,variant:D,id:y,mod:J,...p};return{...Z,classNames:l,styles:c,unstyled:h,wrapperProps:{...M,...B},inputProps:{required:s,classNames:l,styles:c,unstyled:h,size:b,__staticSelector:d,__stylesApiProps:f||r,error:i,variant:D,id:y}}}const VD={__staticSelector:"InputBase",withAria:!0},ns=qa((e,t)=>{const{inputProps:n,wrapperProps:r,...o}=FD("InputBase",VD,e);return P.createElement(dn.Wrapper,{...r},P.createElement(dn,{...n,...o,ref:t}))});ns.classes={...dn.classes,...dn.Wrapper.classes};ns.displayName="@mantine/core/InputBase";const[YD,iy]=qr("Accordion component was not found in the tree");function sy({style:e,size:t=16,...n}){return P.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:me(t),height:me(t),display:"block"},...n},P.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}sy.displayName="@mantine/core/AccordionChevron";const[JD,L_]=qr("Accordion.Item component was not found in the tree");var Gl={root:"m-9bdbb667",panel:"m-df78851f",content:"m-4ba554d4",itemTitle:"m-8fa820a0",control:"m-4ba585b8","control--default":"m-6939a5e9","control--contained":"m-4271d21b",label:"m-df3ffa0f",chevron:"m-3f35ae96",icon:"m-9bd771fe",item:"m-9bd7b098","item--default":"m-fe19b709","item--contained":"m-1f921b3b","item--filled":"m-2cdf939a","item--separated":"m-9f59b069"};const UD={},ly=Be((e,t)=>{const{classNames:n,className:r,style:o,styles:a,vars:i,chevron:s,icon:l,onClick:c,onKeyDown:u,children:h,disabled:d,mod:f,...w}=Ae("AccordionControl",UD,e),{value:m}=L_(),g=iy(),p=g.isItemActive(m),y=typeof g.order=="number",b=`h${g.order}`,_=P.createElement(Ol,{...w,...g.getStyles("control",{className:r,classNames:n,style:o,styles:a,variant:g.variant}),unstyled:g.unstyled,mod:["accordion-control",{active:p,"chevron-position":g.chevronPosition,disabled:d},f],ref:t,onClick:x=>{c==null||c(x),g.onChange(m)},type:"button",disabled:d,"aria-expanded":p,"aria-controls":g.getRegionId(m),id:g.getControlId(m),onKeyDown:KM({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:g.loop,orientation:"vertical",onKeyDown:u})},P.createElement($e,{component:"span",mod:{rotate:!g.disableChevronRotation&&p,position:g.chevronPosition},...g.getStyles("chevron",{classNames:n,styles:a})},s||g.chevron),P.createElement("span",{...g.getStyles("label",{classNames:n,styles:a})},h),l&&P.createElement($e,{component:"span",mod:{"chevron-position":g.chevronPosition},...g.getStyles("icon",{classNames:n,styles:a})},l));return y?P.createElement(b,{...g.getStyles("itemTitle",{classNames:n,styles:a})},_):_});ly.displayName="@mantine/core/AccordionControl";ly.classes=Gl;const KD={},cy=Be((e,t)=>{const{classNames:n,className:r,style:o,styles:a,vars:i,value:s,mod:l,...c}=Ae("AccordionItem",KD,e),u=iy();return P.createElement(JD,{value:{value:s}},P.createElement($e,{ref:t,mod:[{active:u.isItemActive(s)},l],...u.getStyles("item",{className:r,classNames:n,styles:a,style:o,variant:u.variant}),...c}))});cy.displayName="@mantine/core/AccordionItem";cy.classes=Gl;const XD={},uy=Be((e,t)=>{const{classNames:n,className:r,style:o,styles:a,vars:i,children:s,...l}=Ae("AccordionPanel",XD,e),{value:c}=L_(),u=iy();return P.createElement(Bx,{ref:t,...u.getStyles("panel",{className:r,classNames:n,style:o,styles:a}),...l,in:u.isItemActive(c),transitionDuration:u.transitionDuration??200,role:"region",id:u.getRegionId(c),"aria-labelledby":u.getControlId(c)},P.createElement("div",{...u.getStyles("content",{classNames:n,styles:a})},s))});uy.displayName="@mantine/core/AccordionPanel";uy.classes=Gl;const QD={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevron:P.createElement(sy,null)},ZD=(e,{transitionDuration:t,chevronSize:n,radius:r})=>({root:{"--accordion-transition-duration":t===void 0?void 0:`${t}ms`,"--accordion-chevron-size":n===void 0?void 0:me(n),"--accordion-radius":r===void 0?void 0:or(r)}});function In(e){const t=Ae("Accordion",QD,e),{classNames:n,className:r,style:o,styles:a,unstyled:i,vars:s,children:l,multiple:c,value:u,defaultValue:h,onChange:d,id:f,loop:w,transitionDuration:m,disableChevronRotation:g,chevronPosition:p,chevronSize:y,order:b,chevron:_,variant:x,radius:C,...O}=t,D=ia(f),[q,J]=Zo({value:u,defaultValue:h,finalValue:c?[]:null,onChange:d}),K=M=>Array.isArray(q)?q.includes(M):M===q,B=M=>{const $=Array.isArray(q)?q.includes(M)?q.filter(S=>S!==M):[...q,M]:M===q?null:M;J($)},Z=vt({name:"Accordion",classes:Gl,props:t,className:r,style:o,classNames:n,styles:a,unstyled:i,vars:s,varsResolver:ZD});return P.createElement(YD,{value:{isItemActive:K,onChange:B,getControlId:cb(`${D}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:cb(`${D}-panel`,"Accordion.Item component was rendered with invalid value or without value"),transitionDuration:m,disableChevronRotation:g,chevronPosition:p,order:b,chevron:_,loop:w,getStyles:Z,variant:x,unstyled:i}},P.createElement($e,{...Z("root"),id:D,...O,variant:x,"data-accordion":!0},l))}const e4=e=>e;In.extend=e4;In.classes=Gl;In.displayName="@mantine/core/Accordion";In.Item=cy;In.Panel=uy;In.Control=ly;In.Chevron=sy;function O_(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>O_(t))}:e}function t4(e){return e?e.map(t=>O_(t)):[]}function H_(e){return e.reduce((t,n)=>"group"in n?{...t,...H_(n.items)}:(t[n.value]=n,t),{})}var Pn={dropdown:"m-88b62a41",options:"m-b2821a6e",option:"m-92253aa5",search:"m-985517d8",empty:"m-2530cd1d",header:"m-858f94bd",footer:"m-82b967cb",group:"m-254f3e4f",groupLabel:"m-2bb2e9e5",chevron:"m-2943220b",optionsDropdownOption:"m-390b5f4",optionsDropdownCheckIcon:"m-8ee53fc2"};const n4={error:null},r4=(e,{size:t})=>({chevron:{"--combobox-chevron-size":At(t,"combobox-chevron-size")}}),hy=Be((e,t)=>{const n=Ae("ComboboxChevron",n4,e),{size:r,error:o,style:a,className:i,classNames:s,styles:l,unstyled:c,vars:u,mod:h,...d}=n,f=vt({name:"ComboboxChevron",classes:Pn,props:n,style:a,className:i,classNames:s,styles:l,unstyled:c,vars:u,varsResolver:r4,rootSelector:"chevron"});return P.createElement($e,{component:"svg",...d,...f("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:o},h],ref:t},P.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))});hy.classes=Pn;hy.displayName="@mantine/core/ComboboxChevron";const[o4,sr]=qr("Combobox component was not found in tree"),$_=E.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...o},a)=>P.createElement(Mh,{ref:a,size:e||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...o,onMouseDown:i=>{i.preventDefault(),t==null||t(i)},onClick:i=>{r(),n==null||n(i)}}));$_.displayName="@mantine/core/ComboboxClearButton";const a4={},dy=Be((e,t)=>{const{classNames:n,styles:r,className:o,style:a,hidden:i,...s}=Ae("ComboboxDropdown",a4,e),l=sr();return P.createElement(Dn.Dropdown,{...s,ref:t,role:"presentation","data-hidden":i||void 0,...l.getStyles("dropdown",{className:o,style:a,classNames:n,styles:r})})});dy.classes=Pn;dy.displayName="@mantine/core/ComboboxDropdown";const i4={refProp:"ref"},j_=Be((e,t)=>{const{children:n,refProp:r}=Ae("ComboboxDropdownTarget",i4,e);if(sr(),!za(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return P.createElement(Dn.Target,{ref:t,refProp:r},n)});j_.displayName="@mantine/core/ComboboxDropdownTarget";const s4={},fy=Be((e,t)=>{const{classNames:n,className:r,style:o,styles:a,vars:i,...s}=Ae("ComboboxEmpty",s4,e),l=sr();return P.createElement($e,{ref:t,...l.getStyles("empty",{className:r,classNames:n,styles:a,style:o}),...s})});fy.classes=Pn;fy.displayName="@mantine/core/ComboboxEmpty";function my({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:o,autoComplete:a}){const i=sr(),[s,l]=E.useState(null),c=h=>{if(e==null||e(h),!i.readOnly&&t){if(h.nativeEvent.code==="ArrowDown"&&(h.preventDefault(),i.store.dropdownOpened?l(i.store.selectNextOption()):(i.store.openDropdown("keyboard"),l(i.store.selectActiveOption()))),h.nativeEvent.code==="ArrowUp"&&(h.preventDefault(),i.store.dropdownOpened?l(i.store.selectPreviousOption()):(i.store.openDropdown("keyboard"),l(i.store.selectActiveOption()))),h.nativeEvent.code==="Enter"||h.nativeEvent.code==="NumpadEnter"){const d=i.store.getSelectedOptionIndex();i.store.dropdownOpened&&d!==-1?(h.preventDefault(),i.store.clickSelectedOption()):o==="button"&&(h.preventDefault(),i.store.openDropdown("keyboard"))}h.nativeEvent.code==="Escape"&&i.store.closeDropdown("keyboard"),h.nativeEvent.code==="Space"&&o==="button"&&(h.preventDefault(),i.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(i.store.listId&&i.store.dropdownOpened)||void 0,"aria-controls":i.store.listId,"aria-activedescendant":i.store.dropdownOpened&&s||void 0,autoComplete:a,"data-expanded":i.store.dropdownOpened||void 0,"data-mantine-stop-propagation":i.store.dropdownOpened||void 0}:{},onKeyDown:c}}const l4={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},G_=Be((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:o,withAriaAttributes:a,withExpandedAttribute:i,targetType:s,autoComplete:l,...c}=Ae("ComboboxEventsTarget",l4,e);if(!za(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const u=sr(),h=my({targetType:s,withAriaAttributes:a,withKeyboardNavigation:o,withExpandedAttribute:i,onKeyDown:n.props.onKeyDown,autoComplete:l});return E.cloneElement(n,{...h,...c,[r]:Rn(t,u.store.targetRef,n==null?void 0:n.ref)})});G_.displayName="@mantine/core/ComboboxEventsTarget";const c4={},py=Be((e,t)=>{const{classNames:n,className:r,style:o,styles:a,vars:i,...s}=Ae("ComboboxFooter",c4,e),l=sr();return P.createElement($e,{ref:t,...l.getStyles("footer",{className:r,classNames:n,style:o,styles:a}),...s})});py.classes=Pn;py.displayName="@mantine/core/ComboboxFooter";const u4={},gy=Be((e,t)=>{const{classNames:n,className:r,style:o,styles:a,vars:i,children:s,label:l,...c}=Ae("ComboboxGroup",u4,e),u=sr();return P.createElement($e,{ref:t,...u.getStyles("group",{className:r,classNames:n,style:o,styles:a}),...c},l&&P.createElement("div",{...u.getStyles("groupLabel",{classNames:n,styles:a})},l),s)});gy.classes=Pn;gy.displayName="@mantine/core/ComboboxGroup";const h4={},yy=Be((e,t)=>{const{classNames:n,className:r,style:o,styles:a,vars:i,...s}=Ae("ComboboxHeader",h4,e),l=sr();return P.createElement($e,{ref:t,...l.getStyles("header",{className:r,classNames:n,style:o,styles:a}),...s})});yy.classes=Pn;yy.displayName="@mantine/core/ComboboxHeader";const d4={},wy=Be((e,t)=>{const n=Ae("ComboboxOption",d4,e),{classNames:r,className:o,style:a,styles:i,vars:s,onClick:l,id:c,active:u,onMouseDown:h,onMouseOver:d,disabled:f,selected:w,mod:m,...g}=n,p=sr(),y=E.useId(),b=c||y;return P.createElement($e,{...p.getStyles("option",{className:o,classNames:r,styles:i,style:a}),...g,ref:t,id:b,mod:["combobox-option",{"combobox-active":u,"combobox-disabled":f,"combobox-selected":w},m],role:"option",onClick:_=>{var x;f?_.preventDefault():((x=p.onOptionSubmit)==null||x.call(p,n.value,n),l==null||l(_))},onMouseDown:_=>{_.preventDefault(),h==null||h(_)},onMouseOver:_=>{p.resetSelectionOnOptionHover&&p.store.resetSelectedOption(),d==null||d(_)}})});wy.classes=Pn;wy.displayName="@mantine/core/ComboboxOption";const f4={},vy=Be((e,t)=>{const n=Ae("ComboboxOptions",f4,e),{classNames:r,className:o,style:a,styles:i,id:s,onMouseDown:l,labelledBy:c,...u}=n,h=sr(),d=ia(s);return E.useEffect(()=>{h.store.setListId(d)},[d]),P.createElement($e,{ref:t,...h.getStyles("options",{className:o,style:a,classNames:r,styles:i}),...u,id:d,role:"listbox","aria-labelledby":c,onMouseDown:f=>{f.preventDefault(),l==null||l(f)}})});vy.classes=Pn;vy.displayName="@mantine/core/ComboboxOptions";const m4={withAriaAttributes:!0,withKeyboardNavigation:!0},by=Be((e,t)=>{const n=Ae("ComboboxSearch",m4,e),{classNames:r,styles:o,unstyled:a,vars:i,withAriaAttributes:s,onKeyDown:l,withKeyboardNavigation:c,size:u,...h}=n,d=sr(),f=d.getStyles("search"),w=my({targetType:"input",withAriaAttributes:s,withKeyboardNavigation:c,withExpandedAttribute:!1,onKeyDown:l,autoComplete:"off"});return P.createElement(dn,{ref:Rn(t,d.store.searchRef),classNames:[{input:f.className},r],styles:[{input:f.style},o],size:u||d.size,...w,...h,__staticSelector:"Combobox"})});by.classes=Pn;by.displayName="@mantine/core/ComboboxSearch";const p4={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},B_=Be((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:o,withAriaAttributes:a,withExpandedAttribute:i,targetType:s,autoComplete:l,...c}=Ae("ComboboxTarget",p4,e);if(!za(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const u=sr(),h=my({targetType:s,withAriaAttributes:a,withKeyboardNavigation:o,withExpandedAttribute:i,onKeyDown:n.props.onKeyDown,autoComplete:l}),d=E.cloneElement(n,{...h,...c});return P.createElement(Dn.Target,{ref:Rn(t,u.store.targetRef)},d)});B_.displayName="@mantine/core/ComboboxTarget";function g4(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function y4(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function w4(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function W_({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:o,loop:a=!0,scrollBehavior:i="instant"}={}){const[s,l]=Zo({value:t,defaultValue:e,finalValue:!1,onChange:n}),c=E.useRef(null),u=E.useRef(-1),h=E.useRef(null),d=E.useRef(null),f=E.useRef(-1),w=E.useRef(-1),m=E.useRef(-1),g=E.useCallback((S="unknown")=>{s||(l(!0),o==null||o(S))},[l,o,s]),p=E.useCallback((S="unknown")=>{s&&(l(!1),r==null||r(S))},[l,r,s]),y=E.useCallback((S="unknown")=>{s?p(S):g(S)},[p,g,s]),b=E.useCallback(()=>{const S=document.querySelector(`#${c.current} [data-combobox-selected]`);S==null||S.removeAttribute("data-combobox-selected"),S==null||S.removeAttribute("aria-selected")},[]),_=E.useCallback(S=>{const H=document.getElementById(c.current),N=H==null?void 0:H.querySelectorAll("[data-combobox-option]");if(!N)return null;const R=S>=N.length?0:S<0?N.length-1:S;return u.current=R,N!=null&&N[R]&&!N[R].hasAttribute("data-combobox-disabled")?(b(),N[R].setAttribute("data-combobox-selected","true"),N[R].setAttribute("aria-selected","true"),N[R].scrollIntoView({block:"nearest",behavior:i}),N[R].id):null},[i,b]),x=E.useCallback(()=>{const S=document.querySelector(`#${c.current} [data-combobox-active]`);if(S){const H=document.querySelectorAll(`#${c.current} [data-combobox-option]`),N=Array.from(H).findIndex(R=>R===S);return _(N)}return _(0)},[_]),C=E.useCallback(()=>_(y4(u.current,document.querySelectorAll(`#${c.current} [data-combobox-option]`),a)),[_,a]),O=E.useCallback(()=>_(g4(u.current,document.querySelectorAll(`#${c.current} [data-combobox-option]`),a)),[_,a]),D=E.useCallback(()=>_(w4(document.querySelectorAll(`#${c.current} [data-combobox-option]`))),[_]),q=E.useCallback((S="selected",H)=>{m.current=window.setTimeout(()=>{var V;const N=document.querySelectorAll(`#${c.current} [data-combobox-option]`),R=Array.from(N).findIndex(W=>W.hasAttribute(`data-combobox-${S}`));u.current=R,H!=null&&H.scrollIntoView&&((V=N[R])==null||V.scrollIntoView({block:"nearest",behavior:i}))},0)},[]),J=E.useCallback(()=>{u.current=-1,b()},[b]),K=E.useCallback(()=>{const S=document.querySelectorAll(`#${c.current} [data-combobox-option]`),H=S==null?void 0:S[u.current];H==null||H.click()},[]),B=E.useCallback(S=>{c.current=S},[]),Z=E.useCallback(()=>{f.current=window.setTimeout(()=>h.current.focus(),0)},[]),M=E.useCallback(()=>{w.current=window.setTimeout(()=>d.current.focus(),0)},[]),$=E.useCallback(()=>u.current,[]);return E.useEffect(()=>()=>{window.clearTimeout(f.current),window.clearTimeout(w.current),window.clearTimeout(m.current)},[]),{dropdownOpened:s,openDropdown:g,closeDropdown:p,toggleDropdown:y,selectedOptionIndex:u.current,getSelectedOptionIndex:$,selectOption:_,selectFirstOption:D,selectActiveOption:x,selectNextOption:C,selectPreviousOption:O,resetSelectedOption:J,updateSelectedOptionIndex:q,listId:c.current,setListId:B,clickSelectedOption:K,searchRef:h,focusSearchInput:Z,targetRef:d,focusTarget:M}}const v4={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},b4=(e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":er(t),"--combobox-option-padding":At(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:me(n),"--combobox-option-fz":er(t),"--combobox-option-padding":At(t,"combobox-option-padding")}});function xt(e){const t=Ae("Combobox",v4,e),{classNames:n,styles:r,unstyled:o,children:a,store:i,vars:s,onOptionSubmit:l,onClose:c,size:u,dropdownPadding:h,resetSelectionOnOptionHover:d,__staticSelector:f,readOnly:w,...m}=t,g=W_(),p=i||g,y=vt({name:f||"Combobox",classes:Pn,props:t,classNames:n,styles:r,unstyled:o,vars:s,varsResolver:b4}),b=()=>{c==null||c(),p.closeDropdown()};return P.createElement(o4,{value:{getStyles:y,store:p,onOptionSubmit:l,size:u,resetSelectionOnOptionHover:d,readOnly:w}},P.createElement(Dn,{opened:p.dropdownOpened,...m,onClose:b,withRoles:!1,unstyled:o},a))}const k4=e=>e;xt.extend=k4;xt.classes=Pn;xt.displayName="@mantine/core/Combobox";xt.Target=B_;xt.Dropdown=dy;xt.Options=vy;xt.Option=wy;xt.Search=by;xt.Empty=fy;xt.Chevron=hy;xt.Footer=py;xt.Header=yy;xt.EventsTarget=G_;xt.DropdownTarget=j_;xt.Group=gy;xt.ClearButton=$_;var z_={root:"m-5f75b09e",body:"m-5f6e695e",labelWrapper:"m-d3ea56bb",label:"m-8ee546b8",description:"m-328f68c0",error:"m-8e8a99cc"};const x4=z_,q_=E.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:o,unstyled:a,children:i,label:s,description:l,id:c,disabled:u,error:h,size:d,labelPosition:f="left",bodyElement:w="div",labelElement:m="label",variant:g,style:p,vars:y,mod:b,..._},x)=>{const C=vt({name:e,props:t,className:n,style:p,classes:z_,classNames:r,styles:o,unstyled:a});return P.createElement($e,{...C("root"),ref:x,__vars:{"--label-fz":er(d),"--label-lh":At(d,"label-lh")},mod:[{"label-position":f},b],variant:g,size:d,..._},P.createElement($e,{component:w,htmlFor:w==="label"?c:void 0,...C("body")},i,P.createElement("div",{...C("labelWrapper"),"data-disabled":u||void 0},s&&P.createElement($e,{component:m,htmlFor:m==="label"?c:void 0,...C("label"),"data-disabled":u||void 0},s),l&&P.createElement(dn.Description,{size:d,__inheritStyles:!1,...C("description")},l),h&&h!=="boolean"&&P.createElement(dn.Error,{size:d,__inheritStyles:!1,...C("error")},h))))});q_.displayName="@mantine/core/InlineInput";function _4({children:e,role:t}){const n=jl();return n?P.createElement("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy},e):P.createElement(P.Fragment,null,e)}function I4({size:e,style:t,...n}){const r=e!==void 0?{width:me(e),height:me(e),...t}:t;return P.createElement("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n},P.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function bl(e){return"group"in e}function F_({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),o=[];for(let a=0;a<e.length;a+=1){const i=e[a];if(o.length===n)return o;bl(i)&&o.push({group:i.group,items:F_({options:i.items,search:t,limit:n-o.length})}),bl(i)||i.label.toLowerCase().includes(r)&&o.push(i)}return o}function S4(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function V_(e,t=new Set){if(Array.isArray(e))for(const n of e)if(bl(n))V_(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function C4(e,t){return Array.isArray(e)?e.includes(t):e===t}function Y_({data:e,withCheckIcon:t,value:n,checkIconPosition:r,unstyled:o,renderOption:a}){if(!bl(e)){const s=C4(n,e.value),l=t&&s&&P.createElement(I4,{className:Pn.optionsDropdownCheckIcon}),c=P.createElement(P.Fragment,null,r==="left"&&l,P.createElement("span",null,e.label),r==="right"&&l);return P.createElement(xt.Option,{value:e.value,disabled:e.disabled,className:hn({[Pn.optionsDropdownOption]:!o}),"data-reverse":r==="right"||void 0,"data-checked":s||void 0,"aria-selected":s,active:s},typeof a=="function"?a({option:e,checked:s}):c)}const i=e.items.map(s=>P.createElement(Y_,{data:s,value:n,key:s.value,unstyled:o,withCheckIcon:t,checkIconPosition:r}));return P.createElement(xt.Group,{label:e.group},i)}function E4({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:o,limit:a,maxDropdownHeight:i,withScrollArea:s=!0,filterOptions:l=!0,withCheckIcon:c=!1,value:u,checkIconPosition:h,nothingFoundMessage:d,unstyled:f,labelId:w,renderOption:m}){V_(e);const p=typeof o=="string"?(r||F_)({options:e,search:l?o:"",limit:a??1/0}):e,y=S4(p),b=p.map(_=>P.createElement(Y_,{data:_,key:bl(_)?_.group:_.value,withCheckIcon:c,value:u,checkIconPosition:h,unstyled:f,renderOption:m}));return P.createElement(xt.Dropdown,{hidden:t||n&&y},P.createElement(xt.Options,{labelledBy:w},s?P.createElement(Ll.Autosize,{mah:i??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y"},b):b,y&&d&&P.createElement(xt.Empty,null,d)))}var Rh={root:"m-77c9d27d",inner:"m-80f1301b",label:"m-811560b9",section:"m-a74036a",loader:"m-a25b86ee",group:"m-80d6d844"};const qb={orientation:"horizontal"},T4=(e,{borderWidth:t})=>({group:{"--button-border-width":me(t)}}),ky=Be((e,t)=>{const n=Ae("ButtonGroup",qb,e),{className:r,style:o,classNames:a,styles:i,unstyled:s,orientation:l,vars:c,borderWidth:u,variant:h,mod:d,...f}=Ae("ButtonGroup",qb,e),w=vt({name:"ButtonGroup",props:n,classes:Rh,className:r,style:o,classNames:a,styles:i,unstyled:s,vars:c,varsResolver:T4,rootSelector:"group"});return P.createElement($e,{...w("group"),ref:t,variant:h,mod:[{"data-orientation":l},d],role:"group",...f})});ky.classes=Rh;ky.displayName="@mantine/core/ButtonGroup";const N4={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${me(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},M4={},A4=(e,{radius:t,color:n,gradient:r,variant:o,size:a,justify:i,autoContrast:s})=>{const l=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:s});return{root:{"--button-justify":i,"--button-height":At(a,"button-height"),"--button-padding-x":At(a,"button-padding-x"),"--button-fz":a!=null&&a.includes("compact")?er(a.replace("compact-","")):er(a),"--button-radius":t===void 0?void 0:or(t),"--button-bg":n||o?l.background:void 0,"--button-hover":n||o?l.hover:void 0,"--button-color":l.color,"--button-bd":n||o?l.border:void 0,"--button-hover-color":n||o?l.hoverColor:void 0}}},nt=qa((e,t)=>{const n=Ae("Button",M4,e),{style:r,vars:o,className:a,color:i,disabled:s,children:l,leftSection:c,rightSection:u,fullWidth:h,variant:d,radius:f,loading:w,loaderProps:m,gradient:g,classNames:p,styles:y,unstyled:b,"data-disabled":_,autoContrast:x,mod:C,...O}=n,D=vt({name:"Button",props:n,classes:Rh,className:a,style:r,classNames:p,styles:y,unstyled:b,vars:o,varsResolver:A4}),q=!!c,J=!!u;return P.createElement(Ol,{ref:t,...D("root",{active:!s&&!w&&!_}),unstyled:b,variant:d,disabled:s||w,mod:[{disabled:s||_,loading:w,block:h,"with-left-section":q,"with-right-section":J},C],...O},P.createElement(Va,{mounted:!!w,transition:N4,duration:150},K=>P.createElement($e,{component:"span",...D("loader",{style:K}),"aria-hidden":!0},P.createElement(Nh,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...m}))),P.createElement("span",{...D("inner")},c&&P.createElement($e,{component:"span",...D("section"),mod:{position:"left"}},c),P.createElement($e,{component:"span",mod:{loading:w},...D("label")},l),u&&P.createElement($e,{component:"span",...D("section"),mod:{position:"right"}},u)))});nt.classes=Rh;nt.displayName="@mantine/core/Button";nt.Group=ky;var J_={root:"m-3eebeb36",label:"m-9e365f20"};const D4={orientation:"horizontal"},P4=(e,{color:t,variant:n,size:r})=>({root:{"--divider-color":t?ea(t,e):void 0,"--divider-border-style":n,"--divider-size":At(r,"divider-size")}}),Vi=Be((e,t)=>{const n=Ae("Divider",D4,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:l,color:c,orientation:u,label:h,labelPosition:d,mod:f,...w}=n,m=vt({name:"Divider",classes:J_,props:n,className:o,style:a,classNames:r,styles:i,unstyled:s,vars:l,varsResolver:P4});return P.createElement($e,{ref:t,mod:[{orientation:u,"with-label":!!h},f],...m("root"),...w,role:"separator"},h&&P.createElement($e,{component:"span",mod:{position:d},...m("label")},h))});Vi.classes=J_;Vi.displayName="@mantine/core/Divider";const[R4,rs]=qr("Drawer component was not found in tree");var bo={root:"m-f11b401e",header:"m-5a7c2c9",content:"m-b8a05bbd",inner:"m-31cd769a"};const L4={},Lh=Be((e,t)=>{const n=Ae("DrawerBody",L4,e),{classNames:r,className:o,style:a,styles:i,vars:s,...l}=n,c=rs();return P.createElement(Zg,{ref:t,...c.getStyles("body",{classNames:r,style:a,styles:i,className:o}),...l})});Lh.classes=bo;Lh.displayName="@mantine/core/DrawerBody";const O4={},Oh=Be((e,t)=>{const n=Ae("DrawerCloseButton",O4,e),{classNames:r,className:o,style:a,styles:i,vars:s,...l}=n,c=rs();return P.createElement(ey,{ref:t,...c.getStyles("close",{classNames:r,style:a,styles:i,className:o}),...l})});Oh.classes=bo;Oh.displayName="@mantine/core/DrawerCloseButton";const H4={},Hh=Be((e,t)=>{const n=Ae("DrawerContent",H4,e),{classNames:r,className:o,style:a,styles:i,vars:s,children:l,radius:c,...u}=n,h=rs(),d=h.scrollAreaComponent||R_;return P.createElement(P_,{...h.getStyles("content",{className:o,style:a,styles:i,classNames:r}),innerProps:h.getStyles("inner",{className:o,style:a,styles:i,classNames:r}),ref:t,...u,radius:c||h.radius||0},P.createElement(d,{style:{height:"100vh"}},l))});Hh.classes=bo;Hh.displayName="@mantine/core/DrawerContent";const $4={},$h=Be((e,t)=>{const n=Ae("DrawerHeader",$4,e),{classNames:r,className:o,style:a,styles:i,vars:s,...l}=n,c=rs();return P.createElement(ty,{ref:t,...c.getStyles("header",{classNames:r,style:a,styles:i,className:o}),...l})});$h.classes=bo;$h.displayName="@mantine/core/DrawerHeader";const j4={},jh=Be((e,t)=>{const n=Ae("DrawerOverlay",j4,e),{classNames:r,className:o,style:a,styles:i,vars:s,...l}=n,c=rs();return P.createElement(ny,{ref:t,...c.getStyles("overlay",{classNames:r,style:a,styles:i,className:o}),...l})});jh.classes=bo;jh.displayName="@mantine/core/DrawerOverlay";function G4(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function B4(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const W4={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},z4={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},q4={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:go("modal"),position:"left"},F4=(e,{position:t,size:n,offset:r})=>({root:{"--drawer-size":At(n,"drawer-size"),"--drawer-flex":B4(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":G4(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":me(r)}}),Gh=Be((e,t)=>{const n=Ae("DrawerRoot",q4,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:l,scrollAreaComponent:c,position:u,transitionProps:h,radius:d,...f}=n,{dir:w}=es(),m=vt({name:"Drawer",classes:bo,props:n,className:o,style:a,classNames:r,styles:i,unstyled:s,vars:l,varsResolver:F4}),g=(w==="rtl"?z4:W4)[u];return P.createElement(R4,{value:{scrollAreaComponent:c,getStyles:m,radius:d}},P.createElement(D_,{ref:t,...m("root"),transitionProps:{transition:g,...h},unstyled:s,...f}))});Gh.classes=bo;Gh.displayName="@mantine/core/DrawerRoot";const V4={},Bh=Be((e,t)=>{const n=Ae("DrawerTitle",V4,e),{classNames:r,className:o,style:a,styles:i,vars:s,...l}=n,c=rs();return P.createElement(ry,{ref:t,...c.getStyles("title",{classNames:r,style:a,styles:i,className:o}),...l})});Bh.classes=bo;Bh.displayName="@mantine/core/DrawerTitle";const Y4={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:go("modal"),withOverlay:!0,withCloseButton:!0},Fr=Be((e,t)=>{const{title:n,withOverlay:r,overlayProps:o,withCloseButton:a,closeButtonProps:i,children:s,...l}=Ae("Drawer",Y4,e),c=!!n||a;return P.createElement(Gh,{ref:t,...l},r&&P.createElement(jh,{...o}),P.createElement(Hh,null,c&&P.createElement($h,null,n&&P.createElement(Bh,null,n),a&&P.createElement(Oh,{...i})),P.createElement(Lh,null,s)))});Fr.classes=bo;Fr.displayName="@mantine/core/Drawer";Fr.Root=Gh;Fr.Overlay=jh;Fr.Content=Hh;Fr.Body=Lh;Fr.Header=$h;Fr.Title=Bh;Fr.CloseButton=Oh;function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lp.apply(this,arguments)}function J4(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var U4=E.useLayoutEffect,K4=function(t){var n=E.useRef(t);return U4(function(){n.current=t}),n},Fb=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},X4=function(t,n){var r=E.useRef();return E.useCallback(function(o){t.current=o,r.current&&Fb(r.current,null),r.current=n,n&&Fb(n,o)},[n])},Vb={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Q4=function(t){Object.keys(Vb).forEach(function(n){t.style.setProperty(n,Vb[n],"important")})},Yb=Q4,fn=null,Jb=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function Z4(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),fn||(fn=document.createElement("textarea"),fn.setAttribute("tabindex","-1"),fn.setAttribute("aria-hidden","true"),Yb(fn)),fn.parentNode===null&&document.body.appendChild(fn);var o=e.paddingSize,a=e.borderSize,i=e.sizingStyle,s=i.boxSizing;Object.keys(i).forEach(function(d){var f=d;fn.style[f]=i[f]}),Yb(fn),fn.value=t;var l=Jb(fn,e);fn.value=t,l=Jb(fn,e),fn.value="x";var c=fn.scrollHeight-o,u=c*n;s==="border-box"&&(u=u+o+a),l=Math.max(u,l);var h=c*r;return s==="border-box"&&(h=h+o+a),l=Math.min(h,l),[l,c]}var Ub=function(){},eP=function(t,n){return t.reduce(function(r,o){return r[o]=n[o],r},{})},tP=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],nP=!!document.documentElement.currentStyle,rP=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=eP(tP,n),o=r.boxSizing;if(o==="")return null;nP&&o==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var a=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),i=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:a,borderSize:i}},oP=rP;function U_(e,t,n){var r=K4(n);E.useLayoutEffect(function(){var o=function(i){return r.current(i)};if(e)return e.addEventListener(t,o),function(){return e.removeEventListener(t,o)}},[])}var aP=function(t){U_(window,"resize",t)},iP=function(t){U_(document.fonts,"loadingdone",t)},sP=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],lP=function(t,n){var r=t.cacheMeasurements,o=t.maxRows,a=t.minRows,i=t.onChange,s=i===void 0?Ub:i,l=t.onHeightChange,c=l===void 0?Ub:l,u=J4(t,sP),h=u.value!==void 0,d=E.useRef(null),f=X4(d,n),w=E.useRef(0),m=E.useRef(),g=function(){var b=d.current,_=r&&m.current?m.current:oP(b);if(_){m.current=_;var x=Z4(_,b.value||b.placeholder||"x",a,o),C=x[0],O=x[1];w.current!==C&&(w.current=C,b.style.setProperty("height",C+"px","important"),c(C,{rowHeight:O}))}},p=function(b){h||g(),s(b)};return E.useLayoutEffect(g),aP(g),iP(g),E.createElement("textarea",lp({},u,{onChange:p,ref:f}))},cP=E.forwardRef(lP);const uP={},Ta=Be((e,t)=>{const{autosize:n,maxRows:r,minRows:o,__staticSelector:a,resize:i,...s}=Ae("Textarea",uP,e),l=n&&g5()!=="test",c=l?{maxRows:r,minRows:o}:{};return P.createElement(ns,{component:l?cP:"textarea",ref:t,...s,__staticSelector:a||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":i},...c})});Ta.classes=ns.classes;Ta.displayName="@mantine/core/Textarea";const[hP,os]=qr("Modal component was not found in tree");var ko={root:"m-9df02822",content:"m-54c44539",inner:"m-1f958f16",header:"m-d0e2b9cd"};const dP={},Wh=Be((e,t)=>{const n=Ae("ModalBody",dP,e),{classNames:r,className:o,style:a,styles:i,vars:s,...l}=n,c=os();return P.createElement(Zg,{ref:t,...c.getStyles("body",{classNames:r,style:a,styles:i,className:o}),...l})});Wh.classes=ko;Wh.displayName="@mantine/core/ModalBody";const fP={},zh=Be((e,t)=>{const n=Ae("ModalCloseButton",fP,e),{classNames:r,className:o,style:a,styles:i,vars:s,...l}=n,c=os();return P.createElement(ey,{ref:t,...c.getStyles("close",{classNames:r,style:a,styles:i,className:o}),...l})});zh.classes=ko;zh.displayName="@mantine/core/ModalCloseButton";const mP={},qh=Be((e,t)=>{const n=Ae("ModalContent",mP,e),{classNames:r,className:o,style:a,styles:i,vars:s,children:l,...c}=n,u=os(),h=u.scrollAreaComponent||R_;return P.createElement(P_,{...u.getStyles("content",{className:o,style:a,styles:i,classNames:r}),innerProps:u.getStyles("inner",{className:o,style:a,styles:i,classNames:r}),"data-full-screen":u.fullScreen||void 0,ref:t,...c},P.createElement(h,{style:{maxHeight:u.fullScreen?"100dvh":`calc(100dvh - (${me(u.yOffset)} * 2))`}},l))});qh.classes=ko;qh.displayName="@mantine/core/ModalContent";const pP={},Fh=Be((e,t)=>{const n=Ae("ModalHeader",pP,e),{classNames:r,className:o,style:a,styles:i,vars:s,...l}=n,c=os();return P.createElement(ty,{ref:t,...c.getStyles("header",{classNames:r,style:a,styles:i,className:o}),...l})});Fh.classes=ko;Fh.displayName="@mantine/core/ModalHeader";const gP={},Vh=Be((e,t)=>{const n=Ae("ModalOverlay",gP,e),{classNames:r,className:o,style:a,styles:i,vars:s,...l}=n,c=os();return P.createElement(ny,{ref:t,...c.getStyles("overlay",{classNames:r,style:a,styles:i,className:o}),...l})});Vh.classes=ko;Vh.displayName="@mantine/core/ModalOverlay";const yP={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:go("modal"),transitionProps:{duration:200,transition:"pop"},yOffset:"5dvh"},wP=(e,{radius:t,size:n,yOffset:r,xOffset:o})=>({root:{"--modal-radius":t===void 0?void 0:or(t),"--modal-size":At(n,"modal-size"),"--modal-y-offset":me(r),"--modal-x-offset":me(o)}}),Yh=Be((e,t)=>{const n=Ae("ModalRoot",yP,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:l,yOffset:c,scrollAreaComponent:u,radius:h,fullScreen:d,centered:f,xOffset:w,__staticSelector:m,...g}=n,p=vt({name:m,classes:ko,props:n,className:o,style:a,classNames:r,styles:i,unstyled:s,vars:l,varsResolver:wP});return P.createElement(hP,{value:{yOffset:c,scrollAreaComponent:u,getStyles:p,fullScreen:d}},P.createElement(D_,{ref:t,...p("root"),"data-full-screen":d||void 0,"data-centered":f||void 0,unstyled:s,...g}))});Yh.classes=ko;Yh.displayName="@mantine/core/ModalRoot";const vP={},Jh=Be((e,t)=>{const n=Ae("ModalTitle",vP,e),{classNames:r,className:o,style:a,styles:i,vars:s,...l}=n,c=os();return P.createElement(ry,{ref:t,...c.getStyles("title",{classNames:r,style:a,styles:i,className:o}),...l})});Jh.classes=ko;Jh.displayName="@mantine/core/ModalTitle";const bP={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:go("modal"),transitionProps:{duration:200,transition:"pop"},withOverlay:!0,withCloseButton:!0},Tr=Be((e,t)=>{const{title:n,withOverlay:r,overlayProps:o,withCloseButton:a,closeButtonProps:i,children:s,radius:l,...c}=Ae("Modal",bP,e),u=!!n||a;return P.createElement(Yh,{ref:t,radius:l,...c},r&&P.createElement(Vh,{...o}),P.createElement(qh,{radius:l},u&&P.createElement(Fh,null,n&&P.createElement(Jh,null,n),a&&P.createElement(zh,{...i})),P.createElement(Wh,null,s)))});Tr.classes=ko;Tr.displayName="@mantine/core/Modal";Tr.Root=Yh;Tr.Overlay=Vh;Tr.Content=qh;Tr.Body=Wh;Tr.Header=Fh;Tr.Title=Jh;Tr.CloseButton=zh;const kP={duration:100,transition:"fade"};function xP(e,t){return{...kP,...t,...e}}function _P({offset:e,position:t}){const[n,r]=E.useState(!1),o=E.useRef(),{x:a,y:i,elements:s,refs:l,update:c,placement:u}=Jg({placement:t,middleware:[qg({crossAxis:!0,padding:5,rootBoundary:"document"})]}),h=u.includes("right")?e:t.includes("left")?e*-1:0,d=u.includes("bottom")?e:t.includes("top")?e*-1:0,f=E.useCallback(({clientX:w,clientY:m})=>{l.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:w,y:m,left:w+h,top:m+d,right:w,bottom:m}}})},[s.reference]);return E.useEffect(()=>{if(l.floating.current){const w=o.current;w.addEventListener("mousemove",f);const m=io(l.floating.current);return m.forEach(g=>{g.addEventListener("scroll",c)}),()=>{w.removeEventListener("mousemove",f),m.forEach(g=>{g.removeEventListener("scroll",c)})}}},[s.reference,l.floating.current,c,f,n]),{handleMouseMove:f,x:a,y:i,opened:n,setOpened:r,boundaryRef:o,floating:l.setFloating}}var Uh={tooltip:"m-1b3c8819",arrow:"m-f898399f"};const IP={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:go("popover")},SP=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:or(t),"--tooltip-bg":n?ea(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),xy=Be((e,t)=>{const n=Ae("TooltipFloating",IP,e),{children:r,refProp:o,withinPortal:a,style:i,className:s,classNames:l,styles:c,unstyled:u,radius:h,color:d,label:f,offset:w,position:m,multiline:g,zIndex:p,disabled:y,variant:b,vars:_,portalProps:x,...C}=n,O=yo(),D=vt({name:"TooltipFloating",props:n,classes:Uh,className:s,style:i,classNames:l,styles:c,unstyled:u,rootSelector:"tooltip",vars:_,varsResolver:SP}),{handleMouseMove:q,x:J,y:K,opened:B,boundaryRef:Z,floating:M,setOpened:$}=_P({offset:w,position:m});if(!za(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const S=Rn(Z,r.ref,t),H=R=>{var V,W;(W=(V=r.props).onMouseEnter)==null||W.call(V,R),q(R),$(!0)},N=R=>{var V,W;(W=(V=r.props).onMouseLeave)==null||W.call(V,R),$(!1)};return P.createElement(P.Fragment,null,P.createElement($l,{...x,withinPortal:a},P.createElement($e,{...C,...D("tooltip",{style:{...Mg(i,O),zIndex:p,display:!y&&B?"block":"none",top:(K&&Math.round(K))??"",left:(J&&Math.round(J))??""}}),variant:b,ref:M,mod:{multiline:g}},f)),E.cloneElement(r,{...r.props,[o]:S,onMouseEnter:H,onMouseLeave:N}))});xy.classes=Uh;xy.displayName="@mantine/core/TooltipFloating";const K_=E.createContext(!1),CP=K_.Provider,EP=()=>E.useContext(K_),TP={openDelay:0,closeDelay:0};function X_(e){const{openDelay:t,closeDelay:n,children:r}=Ae("TooltipGroup",TP,e);return P.createElement(CP,{value:!0},P.createElement(JA,{delay:{open:t,close:n}},r))}X_.displayName="@mantine/core/TooltipGroup";function NP(e){var C,O,D;const[t,n]=E.useState(!1),o=typeof e.opened=="boolean"?e.opened:t,a=EP(),i=ia(),{delay:s,currentId:l,setCurrentId:c}=v_(),u=E.useCallback(q=>{n(q),q&&c(i)},[c,i]),{x:h,y:d,context:f,refs:w,update:m,placement:g,middlewareData:{arrow:{x:p,y}={}}}=Jg({strategy:e.strategy,placement:e.position,open:o,onOpenChange:u,middleware:[i_(e.offset),qg({padding:8}),f_(),p_({element:e.arrowRef,padding:e.arrowOffset}),...e.inline?[m_()]:[]]}),{getReferenceProps:b,getFloatingProps:_}=eD([YA(f,{enabled:(C=e.events)==null?void 0:C.hover,delay:a?s:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((O=e.events)!=null&&O.touch)}),ZA(f,{enabled:(D=e.events)==null?void 0:D.focus,visibleOnly:!0}),nD(f,{role:"tooltip"}),QA(f,{enabled:typeof e.opened>"u"}),UA(f,{id:i})]);C_({opened:o,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:w,update:m}}),Qo(()=>{var q;(q=e.onPositionChange)==null||q.call(e,g)},[g]);const x=o&&l&&l!==i;return{x:h,y:d,arrowX:p,arrowY:y,reference:w.setReference,floating:w.setFloating,getFloatingProps:_,getReferenceProps:b,isGroupPhase:x,opened:o,placement:g}}const Kb={position:"top",refProp:"ref",withinPortal:!0,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:go("popover"),positionDependencies:[]},MP=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:or(t),"--tooltip-bg":n?ea(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),Bl=Be((e,t)=>{const n=Ae("Tooltip",Kb,e),{children:r,position:o,refProp:a,label:i,openDelay:s,closeDelay:l,onPositionChange:c,opened:u,withinPortal:h,radius:d,color:f,classNames:w,styles:m,unstyled:g,style:p,className:y,withArrow:b,arrowSize:_,arrowOffset:x,arrowRadius:C,arrowPosition:O,offset:D,transitionProps:q,multiline:J,events:K,zIndex:B,disabled:Z,positionDependencies:M,onClick:$,onMouseEnter:S,onMouseLeave:H,inline:N,variant:R,keepMounted:V,vars:W,portalProps:oe,mod:le,floatingStrategy:Q,...ce}=Ae("Tooltip",Kb,n),{dir:ge}=es(),Ee=E.useRef(null),Te=NP({position:b_(ge,o),closeDelay:l,openDelay:s,onPositionChange:c,opened:u,events:K,arrowRef:Ee,arrowOffset:x,offset:typeof D=="number"?D+(b?_/2:0):D,positionDependencies:[...M,r],inline:N,strategy:Q}),ue=vt({name:"Tooltip",props:n,classes:Uh,className:y,style:p,classNames:w,styles:m,unstyled:g,rootSelector:"tooltip",vars:W,varsResolver:MP});if(!za(r))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const re=Rn(Te.reference,r.ref,t),ae=xP(q,{duration:100,transition:"fade"});return P.createElement(P.Fragment,null,P.createElement($l,{...oe,withinPortal:h},P.createElement(Va,{...ae,keepMounted:V,mounted:!Z&&!!Te.opened,duration:Te.isGroupPhase?10:ae.duration},pe=>P.createElement($e,{...ce,variant:R,mod:[{multiline:J},le],...Te.getFloatingProps({ref:Te.floating,className:ue("tooltip").className,style:{...ue("tooltip").style,...pe,zIndex:B,top:Te.y??0,left:Te.x??0}})},i,P.createElement(Ug,{ref:Ee,arrowX:Te.arrowX,arrowY:Te.arrowY,visible:b,position:Te.placement,arrowSize:_,arrowOffset:x,arrowRadius:C,arrowPosition:O,...ue("arrow")})))),E.cloneElement(r,Te.getReferenceProps({onClick:$,onMouseEnter:S,onMouseLeave:H,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,[a]:re,className:hn(y,r.props.className),...r.props})))});Bl.classes=Uh;Bl.displayName="@mantine/core/Tooltip";Bl.Floating=xy;Bl.Group=X_;const AP={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},ro=Be((e,t)=>{const n=Ae("Select",AP,e),{classNames:r,styles:o,unstyled:a,vars:i,dropdownOpened:s,defaultDropdownOpened:l,onDropdownClose:c,onDropdownOpen:u,onFocus:h,onBlur:d,onClick:f,onChange:w,data:m,value:g,defaultValue:p,selectFirstOptionOnChange:y,onOptionSubmit:b,comboboxProps:_,readOnly:x,disabled:C,filter:O,limit:D,withScrollArea:q,maxDropdownHeight:J,size:K,searchable:B,rightSection:Z,checkIconPosition:M,withCheckIcon:$,nothingFoundMessage:S,name:H,form:N,searchValue:R,defaultSearchValue:V,onSearchChange:W,allowDeselect:oe,error:le,rightSectionPointerEvents:Q,id:ce,clearable:ge,clearButtonProps:Ee,hiddenInputProps:Te,renderOption:ue,onClear:re,autoComplete:ae,...pe}=n,he=E.useMemo(()=>t4(m),[m]),ie=E.useMemo(()=>H_(he),[he]),ye=ia(ce),[we,je]=Zo({value:g,defaultValue:p,finalValue:null,onChange:w}),Me=typeof we=="string"?ie[we]:void 0,[Fe,Ve]=Zo({value:R,defaultValue:V,finalValue:Me?Me.label:"",onChange:W}),Xe=W_({opened:s,defaultOpened:l,onDropdownOpen:()=>{u==null||u(),Xe.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{c==null||c(),Xe.resetSelectedOption()}}),{resolvedClassNames:He,resolvedStyles:Le}=q5({props:n,styles:o,classNames:r});E.useEffect(()=>{y&&Xe.selectFirstOption()},[y,we]),E.useEffect(()=>{g===null&&Ve(""),typeof g=="string"&&Me&&Ve(Me.label)},[g,Me]);const Ct=ge&&!!we&&!C&&!x&&P.createElement(xt.ClearButton,{size:K,...Ee,onClear:()=>{je(null,null),Ve(""),re==null||re()}});return P.createElement(P.Fragment,null,P.createElement(xt,{store:Xe,__staticSelector:"Select",classNames:He,styles:Le,unstyled:a,readOnly:x,onOptionSubmit:Ge=>{b==null||b(Ge);const at=oe&&ie[Ge].value===we?null:ie[Ge],Ht=at?at.value:null;je(Ht,at),Ve(typeof Ht=="string"&&(at==null?void 0:at.label)||""),Xe.closeDropdown()},size:K,..._},P.createElement(xt.Target,{targetType:B?"input":"button",autoComplete:ae},P.createElement(ns,{id:ye,ref:t,rightSection:Z||Ct||P.createElement(xt.Chevron,{size:K,error:le,unstyled:a}),rightSectionPointerEvents:Q||(Ct?"all":"none"),...pe,size:K,__staticSelector:"Select",disabled:C,readOnly:x||!B,value:Fe,onChange:Ge=>{Ve(Ge.currentTarget.value),Xe.openDropdown(),y&&Xe.selectFirstOption()},onFocus:Ge=>{B&&Xe.openDropdown(),h==null||h(Ge)},onBlur:Ge=>{var at;B&&Xe.closeDropdown(),Ve(we!=null&&((at=ie[we])==null?void 0:at.label)||""),d==null||d(Ge)},onClick:Ge=>{B?Xe.openDropdown():Xe.toggleDropdown(),f==null||f(Ge)},classNames:He,styles:Le,unstyled:a,pointer:!B,error:le})),P.createElement(E4,{data:he,hidden:x||C,filter:O,search:Fe,limit:D,hiddenWhenEmpty:!B||!S,withScrollArea:q,maxDropdownHeight:J,filterOptions:B&&(Me==null?void 0:Me.label)!==Fe,value:we,checkIconPosition:M,withCheckIcon:$,nothingFoundMessage:S,unstyled:a,labelId:`${ye}-label`,renderOption:ue})),P.createElement("input",{type:"hidden",name:H,value:we||"",form:N,disabled:C,...Te}))});ro.classes={...ns.classes,...xt.classes};ro.displayName="@mantine/core/Select";const[DP,Kh]=qr("SliderProvider was not found in tree"),Q_=E.forwardRef(({size:e,disabled:t,variant:n,color:r,thumbSize:o,radius:a,...i},s)=>{const{getStyles:l}=Kh();return P.createElement($e,{tabIndex:-1,variant:n,size:e,ref:s,...l("root"),...i})});Q_.displayName="@mantine/core/SliderRoot";const cp=E.forwardRef(({max:e,min:t,value:n,position:r,label:o,dragging:a,onMouseDown:i,onKeyDownCapture:s,labelTransitionProps:l,labelAlwaysOn:c,thumbLabel:u,onFocus:h,onBlur:d,showLabelOnHover:f,isHovered:w,children:m=null,disabled:g},p)=>{const{getStyles:y}=Kh(),[b,_]=E.useState(!1),x=c||a||b||f&&w;return P.createElement($e,{tabIndex:0,role:"slider","aria-label":u,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:p,__vars:{"--slider-thumb-offset":`${r}%`},...y("thumb",{focusable:!0}),mod:{dragging:a,disabled:g},onFocus:()=>{_(!0),typeof h=="function"&&h()},onBlur:()=>{_(!1),typeof d=="function"&&d()},onTouchStart:i,onMouseDown:i,onKeyDownCapture:s,onClick:C=>C.stopPropagation()},m,P.createElement(Va,{mounted:o!=null&&!!x,transition:"fade",duration:0,...l},C=>P.createElement("div",{...y("label",{style:C})},o)))});cp.displayName="@mantine/core/SliderThumb";function up({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function PP({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}function Z_({marks:e,min:t,max:n,disabled:r,value:o,offset:a,inverted:i}){const{getStyles:s}=Kh();if(!e)return null;const l=e.map((c,u)=>P.createElement($e,{...s("markWrapper"),__vars:{"--mark-offset":`${up({value:c.value,min:t,max:n})}%`},key:u},P.createElement($e,{...s("mark"),mod:{filled:PP({mark:c,value:o,offset:a,inverted:i}),disabled:r}}),c.label&&P.createElement("div",{...s("markLabel")},c.label)));return P.createElement("div",null,l)}Z_.displayName="@mantine/core/SliderMarks";function eI({filled:e,children:t,offset:n,disabled:r,marksOffset:o,inverted:a,containerProps:i,...s}){const{getStyles:l}=Kh();return P.createElement(P.Fragment,null,P.createElement($e,{...l("trackContainer"),mod:{disabled:r},...i},P.createElement($e,{...l("track"),mod:{inverted:a,disabled:r}},P.createElement($e,{mod:{inverted:a,disabled:r},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${n}% - var(--slider-size))`},...l("bar")}),t,P.createElement(Z_,{...s,offset:o,disabled:r,inverted:a}))))}eI.displayName="@mantine/core/SliderTrack";function Xb({value:e,containerWidth:t,min:n,max:r,step:o,precision:a}){const s=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),l=(s!==0?Math.round(s/o)*o:0)+n,c=Math.max(l,n);return a!==void 0?Number(c.toFixed(a)):c}function Po(e,t){return parseFloat(e.toFixed(t))}function RP(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}var tI={root:"m-dd36362e",label:"m-c9357328",thumb:"m-c9a9a60a",trackContainer:"m-a8645c2",track:"m-c9ade57f",bar:"m-38aeed47",markWrapper:"m-b7b0423a",mark:"m-dd33bc19",markLabel:"m-68c77a5b"};function LP(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}const OP=(e,{size:t,color:n,thumbSize:r,radius:o})=>({root:{"--slider-size":At(t,"slider-size"),"--slider-color":n?ea(n,e):void 0,"--slider-radius":o===void 0?void 0:or(o),"--slider-thumb-size":r!==void 0?me(r):"calc(var(--slider-size) * 2)"}}),HP={min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,showLabelOnHover:!0,disabled:!1,scale:e=>e},_y=Be((e,t)=>{const n=Ae("RangeSlider",HP,e),{classNames:r,styles:o,value:a,onChange:i,onChangeEnd:s,size:l,min:c,max:u,minRange:h,maxRange:d,step:f,precision:w,defaultValue:m,name:g,marks:p,label:y,labelTransitionProps:b,labelAlwaysOn:_,thumbFromLabel:x,thumbToLabel:C,showLabelOnHover:O,thumbChildren:D,disabled:q,unstyled:J,scale:K,inverted:B,className:Z,style:M,vars:$,hiddenInputProps:S,...H}=n,N=vt({name:"Slider",props:n,classes:tI,classNames:r,className:Z,styles:o,style:M,vars:$,varsResolver:OP,unstyled:J}),{dir:R}=es(),[V,W]=E.useState(-1),[oe,le]=E.useState(!1),[Q,ce]=Zo({value:a,defaultValue:m,finalValue:[c,u],onChange:i}),ge=E.useRef(Q),Ee=E.useRef([]),Te=E.useRef(void 0),ue=[up({value:Q[0],min:c,max:u}),up({value:Q[1],min:c,max:u})],re=w??RP(f),ae=He=>{ce(He),ge.current=He};E.useEffect(()=>{Array.isArray(a)&&(ge.current=a)},Array.isArray(a)?[a[0],a[1]]:[null,null]);const pe=(He,Le,Ct)=>{const Ge=[...ge.current];Ge[Le]=He,Le===0&&(He>Ge[1]-(h-1e-9)&&(Ge[1]=Math.min(He+h,u)),He>(u-(h-1e-9)||c)&&(Ge[Le]=ge.current[Le]),Ge[1]-He>d&&(Ge[1]=He+d)),Le===1&&(He<Ge[0]+h&&(Ge[0]=Math.max(He-h,c)),He<Ge[0]+h&&(Ge[Le]=ge.current[Le]),He-Ge[0]>d&&(Ge[0]=He-d)),Ge[0]=Po(Ge[0],re),Ge[1]=Po(Ge[1],re),ae(Ge),Ct&&(s==null||s(ge.current))},he=He=>{if(!q){const Le=Xb({value:He,min:c,max:u,step:f,precision:re});pe(Le,Te.current,!1)}},{ref:ie,active:ye}=m5(({x:He})=>he(He),{onScrubEnd:()=>s==null?void 0:s(ge.current)},R);function we(He){Te.current=He}const je=He=>{ie.current.focus();const Le=ie.current.getBoundingClientRect(),Ct=LP(He.nativeEvent),Ge=Xb({value:Ct-Le.left,max:u,min:c,step:f,containerWidth:Le.width}),at=Math.abs(Q[0]-Ge)>Math.abs(Q[1]-Ge)?1:0,Ht=R==="ltr"?at:at===1?0:1;Te.current=Ht},Me=()=>V!==1&&V!==0?(W(0),0):V,Fe=He=>{if(!q)switch(He.key){case"ArrowUp":{He.preventDefault();const Le=Me();Ee.current[Le].focus(),pe(Po(Math.min(Math.max(ge.current[Le]+f,c),u),re),Le,!0);break}case"ArrowRight":{He.preventDefault();const Le=Me();Ee.current[Le].focus(),pe(Po(Math.min(Math.max(R==="rtl"?ge.current[Le]-f:ge.current[Le]+f,c),u),re),Le,!0);break}case"ArrowDown":{He.preventDefault();const Le=Me();Ee.current[Le].focus(),pe(Po(Math.min(Math.max(ge.current[Le]-f,c),u),re),Le,!0);break}case"ArrowLeft":{He.preventDefault();const Le=Me();Ee.current[Le].focus(),pe(Po(Math.min(Math.max(R==="rtl"?ge.current[Le]+f:ge.current[Le]-f,c),u),re),Le,!0);break}}},Ve={max:u,min:c,size:l,labelTransitionProps:b,labelAlwaysOn:_,onBlur:()=>W(-1)},Xe=Array.isArray(D);return P.createElement(DP,{value:{getStyles:N}},P.createElement(Q_,{...H,size:l,ref:t,disabled:q},P.createElement(eI,{offset:ue[0],marksOffset:Q[0],filled:ue[1]-ue[0],marks:p,inverted:B,min:c,max:u,value:Q[1],disabled:q,containerProps:{ref:ie,onMouseEnter:O?()=>le(!0):void 0,onMouseLeave:O?()=>le(!1):void 0,onTouchStartCapture:je,onTouchEndCapture:()=>{Te.current=-1},onMouseDownCapture:je,onMouseUpCapture:()=>{Te.current=-1},onKeyDownCapture:Fe}},P.createElement(cp,{...Ve,value:K(Q[0]),position:ue[0],dragging:ye,label:typeof y=="function"?y(Po(K(Q[0]),re)):y,ref:He=>{Ee.current[0]=He},thumbLabel:x,onMouseDown:()=>we(0),onFocus:()=>W(0),showLabelOnHover:O,isHovered:oe,disabled:q},Xe?D[0]:D),P.createElement(cp,{...Ve,thumbLabel:C,value:K(Q[1]),position:ue[1],dragging:ye,label:typeof y=="function"?y(Po(K(Q[1]),re)):y,ref:He=>{Ee.current[1]=He},onMouseDown:()=>we(1),onFocus:()=>W(1),showLabelOnHover:O,isHovered:oe,disabled:q},Xe?D[1]:D)),P.createElement("input",{type:"hidden",name:`${g}_from`,value:Q[0],...S}),P.createElement("input",{type:"hidden",name:`${g}_to`,value:Q[1],...S})))});_y.classes=tI;_y.displayName="@mantine/core/RangeSlider";const nI=E.createContext(null),$P=nI.Provider,jP=()=>E.useContext(nI),GP={},Iy=Be((e,t)=>{const{value:n,defaultValue:r,onChange:o,size:a,wrapperProps:i,children:s,readOnly:l,...c}=Ae("SwitchGroup",GP,e),[u,h]=Zo({value:n,defaultValue:r,finalValue:[],onChange:o}),d=f=>{const w=f.currentTarget.value;!l&&h(u.includes(w)?u.filter(m=>m!==w):[...u,w])};return P.createElement($P,{value:{value:u,onChange:d,size:a}},P.createElement(dn.Wrapper,{size:a,ref:t,...i,...c,labelElement:"div",__staticSelector:"SwitchGroup"},P.createElement(_4,{role:"group"},s)))});Iy.classes=dn.Wrapper.classes;Iy.displayName="@mantine/core/SwitchGroup";var rI={root:"m-5f93f3bb",input:"m-926b4011",track:"m-9307d992",thumb:"m-93039a1d",trackLabel:"m-8277e082"};const BP={labelPosition:"right"},WP=(e,{radius:t,color:n,size:r})=>({root:{"--switch-radius":t===void 0?void 0:or(t),"--switch-height":At(r,"switch-height"),"--switch-width":At(r,"switch-width"),"--switch-thumb-size":At(r,"switch-thumb-size"),"--switch-label-font-size":At(r,"switch-label-font-size"),"--switch-track-label-padding":At(r,"switch-track-label-padding"),"--switch-color":n?ea(n,e):void 0}}),xr=Be((e,t)=>{const n=Ae("Switch",BP,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:l,color:c,label:u,offLabel:h,onLabel:d,id:f,size:w,radius:m,wrapperProps:g,children:p,thumbIcon:y,checked:b,defaultChecked:_,onChange:x,labelPosition:C,description:O,error:D,disabled:q,variant:J,rootRef:K,mod:B,...Z}=n,M=jP(),$=w||(M==null?void 0:M.size),S=vt({name:"Switch",props:n,classes:rI,className:o,style:a,classNames:r,styles:i,unstyled:s,vars:l,varsResolver:WP}),{styleProps:H,rest:N}=Sh(Z),R=ia(f),V=M?{checked:M.value.includes(N.value),onChange:M.onChange}:{},[W,oe]=Zo({value:V.checked??b,defaultValue:_,finalValue:!1});return P.createElement(q_,{...S("root"),__staticSelector:"Switch",__stylesApiProps:n,id:R,size:$,labelPosition:C,label:u,description:O,error:D,disabled:q,bodyElement:"label",labelElement:"span",classNames:r,styles:i,unstyled:s,"data-checked":V.checked||void 0,variant:J,ref:K,mod:B,...H,...g},P.createElement("input",{...N,disabled:q,checked:W,onChange:le=>{var Q;M?(Q=V.onChange)==null||Q.call(V,le):x==null||x(le),oe(le.currentTarget.checked)},id:R,ref:t,type:"checkbox",role:"switch",...S("input")}),P.createElement($e,{"aria-hidden":"true",mod:{error:D,"label-position":C},...S("track")},P.createElement($e,{component:"span",mod:"reduce-motion",...S("thumb")},y),P.createElement("span",{...S("trackLabel")},W?d:h)))});xr.classes={...rI,...x4};xr.displayName="@mantine/core/Switch";xr.Group=Iy;var zP={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Qb=e=>{let t;const n=new Set,r=(u,h)=>{const d=typeof u=="function"?u(t):u;if(!Object.is(d,t)){const f=t;t=h??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(w=>w(t,f))}},o=()=>t,l={setState:r,getState:o,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(zP?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,o,l);return l},qP=e=>e?Qb(e):Qb;var oI={exports:{}},aI={},iI={exports:{}},sI={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yi=E;function FP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var VP=typeof Object.is=="function"?Object.is:FP,YP=Yi.useState,JP=Yi.useEffect,UP=Yi.useLayoutEffect,KP=Yi.useDebugValue;function XP(e,t){var n=t(),r=YP({inst:{value:n,getSnapshot:t}}),o=r[0].inst,a=r[1];return UP(function(){o.value=n,o.getSnapshot=t,Zf(o)&&a({inst:o})},[e,n,t]),JP(function(){return Zf(o)&&a({inst:o}),e(function(){Zf(o)&&a({inst:o})})},[e]),KP(n),n}function Zf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!VP(e,n)}catch{return!0}}function QP(e,t){return t()}var ZP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?QP:XP;sI.useSyncExternalStore=Yi.useSyncExternalStore!==void 0?Yi.useSyncExternalStore:ZP;iI.exports=sI;var eR=iI.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh=E,tR=eR;function nR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rR=typeof Object.is=="function"?Object.is:nR,oR=tR.useSyncExternalStore,aR=Xh.useRef,iR=Xh.useEffect,sR=Xh.useMemo,lR=Xh.useDebugValue;aI.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var a=aR(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=sR(function(){function l(f){if(!c){if(c=!0,u=f,f=r(f),o!==void 0&&i.hasValue){var w=i.value;if(o(w,f))return h=w}return h=f}if(w=h,rR(u,f))return w;var m=r(f);return o!==void 0&&o(w,m)?w:(u=f,h=m)}var c=!1,u,h,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,o]);var s=oR(e,a[0],a[1]);return iR(function(){i.hasValue=!0,i.value=s},[s]),lR(s),s};oI.exports=aI;var cR=oI.exports;const uR=Sl(cR);var lI={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:hR}=P,{useSyncExternalStoreWithSelector:dR}=uR;let Zb=!1;const fR=e=>e;function mR(e,t=fR,n){(lI?"production":void 0)!=="production"&&n&&!Zb&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Zb=!0);const r=dR(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return hR(r),r}const e0=e=>{(lI?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?qP(e):e,n=(r,o)=>mR(t,r,o);return Object.assign(n,t),n},Sy=e=>e?e0(e):e0,pR=!1,t0={yAxis:"location",colorBy:"sentiment",sizeBy:"importance",weightBy:"conflict",characterColor:"llm",showChapters:!1,scaleByLength:!1,showOverlay:!0,storyScroll:0,storyScrollX:0,locationHover:"",characterHover:"",groupHover:"",customHover:"",linkHover:[],sceneHover:"",chapterHover:"",legendHover:"",networkHover:"",hidden:[],minimized:[],showLegend:!0,cumulativeMode:!1,verboseMode:!0,detailView:!1},ct=Sy()(e=>({demoMode:pR,story:"gatsby-new",chapterView:!0,themeView:!1,fullHeight:!1,yAxisHeight:0,xAxisWidth:0,storyMarginTop:0,sidebarOpen:!1,showChapterText:!1,curScrollScene:"",scrollSource:!1,modalOpened:!1,aboutModalOpened:!0,modalLoading:!1,modalType:"",isBackendActive:!1,isUpdatingData:!1,...t0,setStory:t=>e({story:t}),setYAxis:t=>e({yAxis:t}),setChapterView:t=>e({chapterView:t}),setThemeView:t=>e({themeView:t}),setFullHeight:t=>e({fullHeight:t}),setYAxisHeight:t=>e({yAxisHeight:t}),setXAxisWidth:t=>e({xAxisWidth:t}),setScaleByLength:t=>e({scaleByLength:t}),setStoryMarginTop:t=>e({storyMarginTop:t}),setStoryScroll:t=>e({storyScroll:t}),setStoryScrollX:t=>e({storyScrollX:t}),setShowOverlay:t=>e({showOverlay:t}),setColorBy:t=>e({colorBy:t}),setSizeBy:t=>e({sizeBy:t}),setWeightBy:t=>e({weightBy:t}),setCharacterColor:t=>e({characterColor:t}),setShowChapters:t=>e({showChapters:t}),setLocationHover:t=>e({locationHover:t}),setCharacterHover:t=>e({characterHover:t}),setGroupHover:t=>e({groupHover:t}),setCustomHover:t=>e({customHover:t}),setLinkHover:t=>e({linkHover:t}),setSceneHover:t=>e({sceneHover:t}),setChapterHover:t=>e({chapterHover:t}),setHidden:t=>e({hidden:t}),setShowLegend:t=>e({showLegend:t}),setMinimized:t=>e({minimized:t}),setLegendHover:t=>e({legendHover:t}),setNetworkHover:t=>e({networkHover:t}),setSidebarOpen:t=>e({sidebarOpen:t}),setDetailView:t=>e({detailView:t}),setShowChapterText:t=>e({showChapterText:t}),setCurScrollScene:t=>e({curScrollScene:t}),setScrollSource:t=>e({scrollSource:t}),setCumulativeMode:t=>e({cumulativeMode:t}),setVerboseMode:t=>e({verboseMode:t}),setModalOpened:t=>e({modalOpened:t}),setAboutModalOpened:t=>e({aboutModalOpened:t}),setModalLoading:t=>e({modalLoading:t}),setModalType:t=>e({modalType:t}),setIsBackendActive:t=>e({isBackendActive:t}),setIsUpdatingData:t=>e({isUpdatingData:t}),resetAll:()=>e({...t0})}));function n0(e,t){let n,r;if(t===void 0)for(const o of e)o!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)));else{let o=-1;for(let a of e)(a=t(a,++o,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}const gR=Math.sqrt(50),yR=Math.sqrt(10),wR=Math.sqrt(2);function Wu(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),a=r/Math.pow(10,o),i=a>=gR?10:a>=yR?5:a>=wR?2:1;let s,l,c;return o<0?(c=Math.pow(10,-o)/i,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,o)*i,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?Wu(e,t,n*2):[s,l,c]}function vR(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[o,a,i]=r?Wu(t,e,n):Wu(e,t,n);if(!(a>=o))return[];const s=a-o+1,l=new Array(s);if(r)if(i<0)for(let c=0;c<s;++c)l[c]=(a-c)/-i;else for(let c=0;c<s;++c)l[c]=(a-c)*i;else if(i<0)for(let c=0;c<s;++c)l[c]=(o+c)/-i;else for(let c=0;c<s;++c)l[c]=(o+c)*i;return l}function hp(e,t,n){return t=+t,e=+e,n=+n,Wu(e,t,n)[2]}function bR(e,t,n){t=+t,e=+e,n=+n;const r=t<e,o=r?hp(t,e,n):hp(e,t,n);return(r?-1:1)*(o<0?1/-o:o)}function kR(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of e)(o=t(o,++r,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function r0(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of e)(o=t(o,++r,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function xR(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(o);++r<o;)a[r]=e+r*n;return a}var _R={value:()=>{}};function Qh(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ru(n)}function ru(e){this._=e}function IR(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ru.prototype=Qh.prototype={constructor:ru,on:function(e,t){var n=this._,r=IR(e+"",n),o,a=-1,i=r.length;if(arguments.length<2){for(;++a<i;)if((o=(e=r[a]).type)&&(o=SR(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<i;)if(o=(e=r[a]).type)n[o]=o0(n[o],e.name,t);else if(t==null)for(o in n)n[o]=o0(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ru(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,a;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,o=a.length;r<o;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,a=r.length;o<a;++o)r[o].value.apply(t,n)}};function SR(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function o0(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=_R,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var dp="http://www.w3.org/1999/xhtml";const a0={svg:"http://www.w3.org/2000/svg",xhtml:dp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Zh(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),a0.hasOwnProperty(t)?{space:a0[t],local:e}:e}function CR(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===dp&&t.documentElement.namespaceURI===dp?t.createElement(e):t.createElementNS(n,e)}}function ER(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function cI(e){var t=Zh(e);return(t.local?ER:CR)(t)}function TR(){}function Cy(e){return e==null?TR:function(){return this.querySelector(e)}}function NR(e){typeof e!="function"&&(e=Cy(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a=t[o],i=a.length,s=r[o]=new Array(i),l,c,u=0;u<i;++u)(l=a[u])&&(c=e.call(l,l.__data__,u,a))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new Fn(r,this._parents)}function MR(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function AR(){return[]}function uI(e){return e==null?AR:function(){return this.querySelectorAll(e)}}function DR(e){return function(){return MR(e.apply(this,arguments))}}function PR(e){typeof e=="function"?e=DR(e):e=uI(e);for(var t=this._groups,n=t.length,r=[],o=[],a=0;a<n;++a)for(var i=t[a],s=i.length,l,c=0;c<s;++c)(l=i[c])&&(r.push(e.call(l,l.__data__,c,i)),o.push(l));return new Fn(r,o)}function hI(e){return function(){return this.matches(e)}}function dI(e){return function(t){return t.matches(e)}}var RR=Array.prototype.find;function LR(e){return function(){return RR.call(this.children,e)}}function OR(){return this.firstElementChild}function HR(e){return this.select(e==null?OR:LR(typeof e=="function"?e:dI(e)))}var $R=Array.prototype.filter;function jR(){return Array.from(this.children)}function GR(e){return function(){return $R.call(this.children,e)}}function BR(e){return this.selectAll(e==null?jR:GR(typeof e=="function"?e:dI(e)))}function WR(e){typeof e!="function"&&(e=hI(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a=t[o],i=a.length,s=r[o]=[],l,c=0;c<i;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&s.push(l);return new Fn(r,this._parents)}function fI(e){return new Array(e.length)}function zR(){return new Fn(this._enter||this._groups.map(fI),this._parents)}function zu(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}zu.prototype={constructor:zu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function qR(e){return function(){return e}}function FR(e,t,n,r,o,a){for(var i=0,s,l=t.length,c=a.length;i<c;++i)(s=t[i])?(s.__data__=a[i],r[i]=s):n[i]=new zu(e,a[i]);for(;i<l;++i)(s=t[i])&&(o[i]=s)}function VR(e,t,n,r,o,a,i){var s,l,c=new Map,u=t.length,h=a.length,d=new Array(u),f;for(s=0;s<u;++s)(l=t[s])&&(d[s]=f=i.call(l,l.__data__,s,t)+"",c.has(f)?o[s]=l:c.set(f,l));for(s=0;s<h;++s)f=i.call(e,a[s],s,a)+"",(l=c.get(f))?(r[s]=l,l.__data__=a[s],c.delete(f)):n[s]=new zu(e,a[s]);for(s=0;s<u;++s)(l=t[s])&&c.get(d[s])===l&&(o[s]=l)}function YR(e){return e.__data__}function JR(e,t){if(!arguments.length)return Array.from(this,YR);var n=t?VR:FR,r=this._parents,o=this._groups;typeof e!="function"&&(e=qR(e));for(var a=o.length,i=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],h=o[c],d=h.length,f=UR(e.call(u,u&&u.__data__,c,r)),w=f.length,m=s[c]=new Array(w),g=i[c]=new Array(w),p=l[c]=new Array(d);n(u,h,m,g,p,f,t);for(var y=0,b=0,_,x;y<w;++y)if(_=m[y]){for(y>=b&&(b=y+1);!(x=g[b])&&++b<w;);_._next=x||null}}return i=new Fn(i,r),i._enter=s,i._exit=l,i}function UR(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function KR(){return new Fn(this._exit||this._groups.map(fI),this._parents)}function XR(e,t,n){var r=this.enter(),o=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?a.remove():n(a),r&&o?r.merge(o).order():o}function QR(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,a=r.length,i=Math.min(o,a),s=new Array(o),l=0;l<i;++l)for(var c=n[l],u=r[l],h=c.length,d=s[l]=new Array(h),f,w=0;w<h;++w)(f=c[w]||u[w])&&(d[w]=f);for(;l<o;++l)s[l]=n[l];return new Fn(s,this._parents)}function ZR(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,a=r[o],i;--o>=0;)(i=r[o])&&(a&&i.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(i,a),a=i);return this}function e6(e){e||(e=t6);function t(h,d){return h&&d?e(h.__data__,d.__data__):!h-!d}for(var n=this._groups,r=n.length,o=new Array(r),a=0;a<r;++a){for(var i=n[a],s=i.length,l=o[a]=new Array(s),c,u=0;u<s;++u)(c=i[u])&&(l[u]=c);l.sort(t)}return new Fn(o,this._parents).order()}function t6(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function n6(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function r6(){return Array.from(this)}function o6(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,a=r.length;o<a;++o){var i=r[o];if(i)return i}return null}function a6(){let e=0;for(const t of this)++e;return e}function i6(){return!this.node()}function s6(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],a=0,i=o.length,s;a<i;++a)(s=o[a])&&e.call(s,s.__data__,a,o);return this}function l6(e){return function(){this.removeAttribute(e)}}function c6(e){return function(){this.removeAttributeNS(e.space,e.local)}}function u6(e,t){return function(){this.setAttribute(e,t)}}function h6(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function d6(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function f6(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function m6(e,t){var n=Zh(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?c6:l6:typeof t=="function"?n.local?f6:d6:n.local?h6:u6)(n,t))}function mI(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function p6(e){return function(){this.style.removeProperty(e)}}function g6(e,t,n){return function(){this.style.setProperty(e,t,n)}}function y6(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function w6(e,t,n){return arguments.length>1?this.each((t==null?p6:typeof t=="function"?y6:g6)(e,t,n??"")):Ji(this.node(),e)}function Ji(e,t){return e.style.getPropertyValue(t)||mI(e).getComputedStyle(e,null).getPropertyValue(t)}function v6(e){return function(){delete this[e]}}function b6(e,t){return function(){this[e]=t}}function k6(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function x6(e,t){return arguments.length>1?this.each((t==null?v6:typeof t=="function"?k6:b6)(e,t)):this.node()[e]}function pI(e){return e.trim().split(/^|\s+/)}function Ey(e){return e.classList||new gI(e)}function gI(e){this._node=e,this._names=pI(e.getAttribute("class")||"")}gI.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function yI(e,t){for(var n=Ey(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function wI(e,t){for(var n=Ey(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function _6(e){return function(){yI(this,e)}}function I6(e){return function(){wI(this,e)}}function S6(e,t){return function(){(t.apply(this,arguments)?yI:wI)(this,e)}}function C6(e,t){var n=pI(e+"");if(arguments.length<2){for(var r=Ey(this.node()),o=-1,a=n.length;++o<a;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?S6:t?_6:I6)(n,t))}function E6(){this.textContent=""}function T6(e){return function(){this.textContent=e}}function N6(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function M6(e){return arguments.length?this.each(e==null?E6:(typeof e=="function"?N6:T6)(e)):this.node().textContent}function A6(){this.innerHTML=""}function D6(e){return function(){this.innerHTML=e}}function P6(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function R6(e){return arguments.length?this.each(e==null?A6:(typeof e=="function"?P6:D6)(e)):this.node().innerHTML}function L6(){this.nextSibling&&this.parentNode.appendChild(this)}function O6(){return this.each(L6)}function H6(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $6(){return this.each(H6)}function j6(e){var t=typeof e=="function"?e:cI(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function G6(){return null}function B6(e,t){var n=typeof e=="function"?e:cI(e),r=t==null?G6:typeof t=="function"?t:Cy(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function W6(){var e=this.parentNode;e&&e.removeChild(this)}function z6(){return this.each(W6)}function q6(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function F6(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function V6(e){return this.select(e?F6:q6)}function Y6(e){return arguments.length?this.property("__data__",e):this.node().__data__}function J6(e){return function(t){e.call(this,t,this.__data__)}}function U6(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function K6(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,a;n<o;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function X6(e,t,n){return function(){var r=this.__on,o,a=J6(t);if(r){for(var i=0,s=r.length;i<s;++i)if((o=r[i]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),o.value=t;return}}this.addEventListener(e.type,a,n),o={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(o):this.__on=[o]}}function Q6(e,t,n){var r=U6(e+""),o,a=r.length,i;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(o=0,u=s[l];o<a;++o)if((i=r[o]).type===u.type&&i.name===u.name)return u.value}return}for(s=t?X6:K6,o=0;o<a;++o)this.each(s(r[o],t,n));return this}function vI(e,t,n){var r=mI(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Z6(e,t){return function(){return vI(this,e,t)}}function e8(e,t){return function(){return vI(this,e,t.apply(this,arguments))}}function t8(e,t){return this.each((typeof t=="function"?e8:Z6)(e,t))}function*n8(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,a=r.length,i;o<a;++o)(i=r[o])&&(yield i)}var bI=[null];function Fn(e,t){this._groups=e,this._parents=t}function Wl(){return new Fn([[document.documentElement]],bI)}function r8(){return this}Fn.prototype=Wl.prototype={constructor:Fn,select:NR,selectAll:PR,selectChild:HR,selectChildren:BR,filter:WR,data:JR,enter:zR,exit:KR,join:XR,merge:QR,selection:r8,order:ZR,sort:e6,call:n6,nodes:r6,node:o6,size:a6,empty:i6,each:s6,attr:m6,style:w6,property:x6,classed:C6,text:M6,html:R6,raise:O6,lower:$6,append:j6,insert:B6,remove:z6,clone:V6,datum:Y6,on:Q6,dispatch:t8,[Symbol.iterator]:n8};function pr(e){return typeof e=="string"?new Fn([[document.querySelector(e)]],[document.documentElement]):new Fn([[e]],bI)}function o8(e){let t;for(;t=e.sourceEvent;)e=t;return e}function fa(e,t){if(e=o8(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const fp={capture:!0,passive:!1};function mp(e){e.preventDefault(),e.stopImmediatePropagation()}function a8(e){var t=e.document.documentElement,n=pr(e).on("dragstart.drag",mp,fp);"onselectstart"in t?n.on("selectstart.drag",mp,fp):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function i8(e,t){var n=e.document.documentElement,r=pr(e).on("dragstart.drag",null);t&&(r.on("click.drag",mp,fp),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ty(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function kI(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function zl(){}var kl=.7,qu=1/kl,Pi="\\s*([+-]?\\d+)\\s*",xl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s8=/^#([0-9a-f]{3,8})$/,l8=new RegExp(`^rgb\\(${Pi},${Pi},${Pi}\\)$`),c8=new RegExp(`^rgb\\(${Wr},${Wr},${Wr}\\)$`),u8=new RegExp(`^rgba\\(${Pi},${Pi},${Pi},${xl}\\)$`),h8=new RegExp(`^rgba\\(${Wr},${Wr},${Wr},${xl}\\)$`),d8=new RegExp(`^hsl\\(${xl},${Wr},${Wr}\\)$`),f8=new RegExp(`^hsla\\(${xl},${Wr},${Wr},${xl}\\)$`),i0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ty(zl,$a,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:s0,formatHex:s0,formatHex8:m8,formatHsl:p8,formatRgb:l0,toString:l0});function s0(){return this.rgb().formatHex()}function m8(){return this.rgb().formatHex8()}function p8(){return xI(this).formatHsl()}function l0(){return this.rgb().formatRgb()}function $a(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=s8.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?c0(t):n===3?new En(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Dc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Dc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=l8.exec(e))?new En(t[1],t[2],t[3],1):(t=c8.exec(e))?new En(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=u8.exec(e))?Dc(t[1],t[2],t[3],t[4]):(t=h8.exec(e))?Dc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=d8.exec(e))?d0(t[1],t[2]/100,t[3]/100,1):(t=f8.exec(e))?d0(t[1],t[2]/100,t[3]/100,t[4]):i0.hasOwnProperty(e)?c0(i0[e]):e==="transparent"?new En(NaN,NaN,NaN,0):null}function c0(e){return new En(e>>16&255,e>>8&255,e&255,1)}function Dc(e,t,n,r){return r<=0&&(e=t=n=NaN),new En(e,t,n,r)}function g8(e){return e instanceof zl||(e=$a(e)),e?(e=e.rgb(),new En(e.r,e.g,e.b,e.opacity)):new En}function Fu(e,t,n,r){return arguments.length===1?g8(e):new En(e,t,n,r??1)}function En(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ty(En,Fu,kI(zl,{brighter(e){return e=e==null?qu:Math.pow(qu,e),new En(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?kl:Math.pow(kl,e),new En(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new En(Na(this.r),Na(this.g),Na(this.b),Vu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:u0,formatHex:u0,formatHex8:y8,formatRgb:h0,toString:h0}));function u0(){return`#${_a(this.r)}${_a(this.g)}${_a(this.b)}`}function y8(){return`#${_a(this.r)}${_a(this.g)}${_a(this.b)}${_a((isNaN(this.opacity)?1:this.opacity)*255)}`}function h0(){const e=Vu(this.opacity);return`${e===1?"rgb(":"rgba("}${Na(this.r)}, ${Na(this.g)}, ${Na(this.b)}${e===1?")":`, ${e})`}`}function Vu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Na(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function _a(e){return e=Na(e),(e<16?"0":"")+e.toString(16)}function d0(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new gr(e,t,n,r)}function xI(e){if(e instanceof gr)return new gr(e.h,e.s,e.l,e.opacity);if(e instanceof zl||(e=$a(e)),!e)return new gr;if(e instanceof gr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),a=Math.max(t,n,r),i=NaN,s=a-o,l=(a+o)/2;return s?(t===a?i=(n-r)/s+(n<r)*6:n===a?i=(r-t)/s+2:i=(t-n)/s+4,s/=l<.5?a+o:2-a-o,i*=60):s=l>0&&l<1?0:i,new gr(i,s,l,e.opacity)}function w8(e,t,n,r){return arguments.length===1?xI(e):new gr(e,t,n,r??1)}function gr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ty(gr,w8,kI(zl,{brighter(e){return e=e==null?qu:Math.pow(qu,e),new gr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?kl:Math.pow(kl,e),new gr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new En(em(e>=240?e-240:e+120,o,r),em(e,o,r),em(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new gr(f0(this.h),Pc(this.s),Pc(this.l),Vu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vu(this.opacity);return`${e===1?"hsl(":"hsla("}${f0(this.h)}, ${Pc(this.s)*100}%, ${Pc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function f0(e){return e=(e||0)%360,e<0?e+360:e}function Pc(e){return Math.max(0,Math.min(1,e||0))}function em(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function v8(e,t,n,r,o){var a=e*e,i=a*e;return((1-3*e+3*a-i)*t+(4-6*a+3*i)*n+(1+3*e+3*a-3*i)*r+i*o)/6}function b8(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],a=e[r+1],i=r>0?e[r-1]:2*o-a,s=r<t-1?e[r+2]:2*a-o;return v8((n-r/t)*t,i,o,a,s)}}const Ny=e=>()=>e;function k8(e,t){return function(n){return e+n*t}}function x8(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function _8(e){return(e=+e)==1?_I:function(t,n){return n-t?x8(t,n,e):Ny(isNaN(t)?n:t)}}function _I(e,t){var n=t-e;return n?k8(e,n):Ny(isNaN(e)?t:e)}const Yu=function e(t){var n=_8(t);function r(o,a){var i=n((o=Fu(o)).r,(a=Fu(a)).r),s=n(o.g,a.g),l=n(o.b,a.b),c=_I(o.opacity,a.opacity);return function(u){return o.r=i(u),o.g=s(u),o.b=l(u),o.opacity=c(u),o+""}}return r.gamma=e,r}(1);function I8(e){return function(t){var n=t.length,r=new Array(n),o=new Array(n),a=new Array(n),i,s;for(i=0;i<n;++i)s=Fu(t[i]),r[i]=s.r||0,o[i]=s.g||0,a[i]=s.b||0;return r=e(r),o=e(o),a=e(a),s.opacity=1,function(l){return s.r=r(l),s.g=o(l),s.b=a(l),s+""}}}var S8=I8(b8);function C8(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(a){for(o=0;o<n;++o)r[o]=e[o]*(1-a)+t[o]*a;return r}}function E8(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function T8(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),a=new Array(n),i;for(i=0;i<r;++i)o[i]=My(e[i],t[i]);for(;i<n;++i)a[i]=t[i];return function(s){for(i=0;i<r;++i)a[i]=o[i](s);return a}}function N8(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Or(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function M8(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=My(e[o],t[o]):r[o]=t[o];return function(a){for(o in n)r[o]=n[o](a);return r}}var pp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tm=new RegExp(pp.source,"g");function A8(e){return function(){return e}}function D8(e){return function(t){return e(t)+""}}function II(e,t){var n=pp.lastIndex=tm.lastIndex=0,r,o,a,i=-1,s=[],l=[];for(e=e+"",t=t+"";(r=pp.exec(e))&&(o=tm.exec(t));)(a=o.index)>n&&(a=t.slice(n,a),s[i]?s[i]+=a:s[++i]=a),(r=r[0])===(o=o[0])?s[i]?s[i]+=o:s[++i]=o:(s[++i]=null,l.push({i,x:Or(r,o)})),n=tm.lastIndex;return n<t.length&&(a=t.slice(n),s[i]?s[i]+=a:s[++i]=a),s.length<2?l[0]?D8(l[0].x):A8(t):(t=l.length,function(c){for(var u=0,h;u<t;++u)s[(h=l[u]).i]=h.x(c);return s.join("")})}function My(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ny(t):(n==="number"?Or:n==="string"?(r=$a(t))?(t=r,Yu):II:t instanceof $a?Yu:t instanceof Date?N8:E8(t)?C8:Array.isArray(t)?T8:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?M8:Or)(e,t)}function P8(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var m0=180/Math.PI,gp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function SI(e,t,n,r,o,a){var i,s,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*m0,skewX:Math.atan(l)*m0,scaleX:i,scaleY:s}}var Rc;function R8(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?gp:SI(t.a,t.b,t.c,t.d,t.e,t.f)}function L8(e){return e==null||(Rc||(Rc=document.createElementNS("http://www.w3.org/2000/svg","g")),Rc.setAttribute("transform",e),!(e=Rc.transform.baseVal.consolidate()))?gp:(e=e.matrix,SI(e.a,e.b,e.c,e.d,e.e,e.f))}function CI(e,t,n,r){function o(c){return c.length?c.pop()+" ":""}function a(c,u,h,d,f,w){if(c!==h||u!==d){var m=f.push("translate(",null,t,null,n);w.push({i:m-4,x:Or(c,h)},{i:m-2,x:Or(u,d)})}else(h||d)&&f.push("translate("+h+t+d+n)}function i(c,u,h,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:h.push(o(h)+"rotate(",null,r)-2,x:Or(c,u)})):u&&h.push(o(h)+"rotate("+u+r)}function s(c,u,h,d){c!==u?d.push({i:h.push(o(h)+"skewX(",null,r)-2,x:Or(c,u)}):u&&h.push(o(h)+"skewX("+u+r)}function l(c,u,h,d,f,w){if(c!==h||u!==d){var m=f.push(o(f)+"scale(",null,",",null,")");w.push({i:m-4,x:Or(c,h)},{i:m-2,x:Or(u,d)})}else(h!==1||d!==1)&&f.push(o(f)+"scale("+h+","+d+")")}return function(c,u){var h=[],d=[];return c=e(c),u=e(u),a(c.translateX,c.translateY,u.translateX,u.translateY,h,d),i(c.rotate,u.rotate,h,d),s(c.skewX,u.skewX,h,d),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,h,d),c=u=null,function(f){for(var w=-1,m=d.length,g;++w<m;)h[(g=d[w]).i]=g.x(f);return h.join("")}}}var O8=CI(R8,"px, ","px)","deg)"),H8=CI(L8,", ",")",")"),$8=1e-12;function p0(e){return((e=Math.exp(e))+1/e)/2}function j8(e){return((e=Math.exp(e))-1/e)/2}function G8(e){return((e=Math.exp(2*e))-1)/(e+1)}const B8=function e(t,n,r){function o(a,i){var s=a[0],l=a[1],c=a[2],u=i[0],h=i[1],d=i[2],f=u-s,w=h-l,m=f*f+w*w,g,p;if(m<$8)p=Math.log(d/c)/t,g=function(O){return[s+O*f,l+O*w,c*Math.exp(t*O*p)]};else{var y=Math.sqrt(m),b=(d*d-c*c+r*m)/(2*c*n*y),_=(d*d-c*c-r*m)/(2*d*n*y),x=Math.log(Math.sqrt(b*b+1)-b),C=Math.log(Math.sqrt(_*_+1)-_);p=(C-x)/t,g=function(O){var D=O*p,q=p0(x),J=c/(n*y)*(q*G8(t*D+x)-j8(x));return[s+J*f,l+J*w,c*q/p0(t*D+x)]}}return g.duration=p*1e3*t/Math.SQRT2,g}return o.rho=function(a){var i=Math.max(.001,+a),s=i*i,l=s*s;return e(i,s,l)},o}(Math.SQRT2,2,4);var Ui=0,Ws=0,Ps=0,EI=1e3,Ju,zs,Uu=0,ja=0,ed=0,_l=typeof performance=="object"&&performance.now?performance:Date,TI=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ay(){return ja||(TI(W8),ja=_l.now()+ed)}function W8(){ja=0}function Ku(){this._call=this._time=this._next=null}Ku.prototype=Dy.prototype={constructor:Ku,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ay():+n)+(t==null?0:+t),!this._next&&zs!==this&&(zs?zs._next=this:Ju=this,zs=this),this._call=e,this._time=n,yp()},stop:function(){this._call&&(this._call=null,this._time=1/0,yp())}};function Dy(e,t,n){var r=new Ku;return r.restart(e,t,n),r}function z8(){Ay(),++Ui;for(var e=Ju,t;e;)(t=ja-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ui}function g0(){ja=(Uu=_l.now())+ed,Ui=Ws=0;try{z8()}finally{Ui=0,F8(),ja=0}}function q8(){var e=_l.now(),t=e-Uu;t>EI&&(ed-=t,Uu=e)}function F8(){for(var e,t=Ju,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ju=n);zs=e,yp(r)}function yp(e){if(!Ui){Ws&&(Ws=clearTimeout(Ws));var t=e-ja;t>24?(e<1/0&&(Ws=setTimeout(g0,e-_l.now()-ed)),Ps&&(Ps=clearInterval(Ps))):(Ps||(Uu=_l.now(),Ps=setInterval(q8,EI)),Ui=1,TI(g0))}}function y0(e,t,n){var r=new Ku;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var V8=Qh("start","end","cancel","interrupt"),Y8=[],NI=0,w0=1,wp=2,ou=3,v0=4,vp=5,au=6;function td(e,t,n,r,o,a){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;J8(e,n,{name:t,index:r,group:o,on:V8,tween:Y8,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:NI})}function Py(e,t){var n=Nr(e,t);if(n.state>NI)throw new Error("too late; already scheduled");return n}function Vr(e,t){var n=Nr(e,t);if(n.state>ou)throw new Error("too late; already running");return n}function Nr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function J8(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Dy(a,0,n.time);function a(c){n.state=w0,n.timer.restart(i,n.delay,n.time),n.delay<=c&&i(c-n.delay)}function i(c){var u,h,d,f;if(n.state!==w0)return l();for(u in r)if(f=r[u],f.name===n.name){if(f.state===ou)return y0(i);f.state===v0?(f.state=au,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete r[u]):+u<t&&(f.state=au,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete r[u])}if(y0(function(){n.state===ou&&(n.state=v0,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=wp,n.on.call("start",e,e.__data__,n.index,n.group),n.state===wp){for(n.state=ou,o=new Array(d=n.tween.length),u=0,h=-1;u<d;++u)(f=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(o[++h]=f);o.length=h+1}}function s(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=vp,1),h=-1,d=o.length;++h<d;)o[h].call(e,u);n.state===vp&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=au,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function iu(e,t){var n=e.__transition,r,o,a=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){a=!1;continue}o=r.state>wp&&r.state<vp,r.state=au,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}a&&delete e.__transition}}function U8(e){return this.each(function(){iu(this,e)})}function K8(e,t){var n,r;return function(){var o=Vr(this,e),a=o.tween;if(a!==n){r=n=a;for(var i=0,s=r.length;i<s;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}o.tween=r}}function X8(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var a=Vr(this,e),i=a.tween;if(i!==r){o=(r=i).slice();for(var s={name:t,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=s;break}l===c&&o.push(s)}a.tween=o}}function Q8(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Nr(this.node(),n).tween,o=0,a=r.length,i;o<a;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((t==null?K8:X8)(n,e,t))}function Ry(e,t,n){var r=e._id;return e.each(function(){var o=Vr(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Nr(o,r).value[t]}}function MI(e,t){var n;return(typeof t=="number"?Or:t instanceof $a?Yu:(n=$a(t))?(t=n,Yu):II)(e,t)}function Z8(e){return function(){this.removeAttribute(e)}}function eL(e){return function(){this.removeAttributeNS(e.space,e.local)}}function tL(e,t,n){var r,o=n+"",a;return function(){var i=this.getAttribute(e);return i===o?null:i===r?a:a=t(r=i,n)}}function nL(e,t,n){var r,o=n+"",a;return function(){var i=this.getAttributeNS(e.space,e.local);return i===o?null:i===r?a:a=t(r=i,n)}}function rL(e,t,n){var r,o,a;return function(){var i,s=n(this),l;return s==null?void this.removeAttribute(e):(i=this.getAttribute(e),l=s+"",i===l?null:i===r&&l===o?a:(o=l,a=t(r=i,s)))}}function oL(e,t,n){var r,o,a;return function(){var i,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),l=s+"",i===l?null:i===r&&l===o?a:(o=l,a=t(r=i,s)))}}function aL(e,t){var n=Zh(e),r=n==="transform"?H8:MI;return this.attrTween(e,typeof t=="function"?(n.local?oL:rL)(n,r,Ry(this,"attr."+e,t)):t==null?(n.local?eL:Z8)(n):(n.local?nL:tL)(n,r,t))}function iL(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function sL(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function lL(e,t){var n,r;function o(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&sL(e,a)),n}return o._value=t,o}function cL(e,t){var n,r;function o(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&iL(e,a)),n}return o._value=t,o}function uL(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Zh(e);return this.tween(n,(r.local?lL:cL)(r,t))}function hL(e,t){return function(){Py(this,e).delay=+t.apply(this,arguments)}}function dL(e,t){return t=+t,function(){Py(this,e).delay=t}}function fL(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?hL:dL)(t,e)):Nr(this.node(),t).delay}function mL(e,t){return function(){Vr(this,e).duration=+t.apply(this,arguments)}}function pL(e,t){return t=+t,function(){Vr(this,e).duration=t}}function gL(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?mL:pL)(t,e)):Nr(this.node(),t).duration}function yL(e,t){if(typeof t!="function")throw new Error;return function(){Vr(this,e).ease=t}}function wL(e){var t=this._id;return arguments.length?this.each(yL(t,e)):Nr(this.node(),t).ease}function vL(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Vr(this,e).ease=n}}function bL(e){if(typeof e!="function")throw new Error;return this.each(vL(this._id,e))}function kL(e){typeof e!="function"&&(e=hI(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a=t[o],i=a.length,s=r[o]=[],l,c=0;c<i;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&s.push(l);return new mo(r,this._parents,this._name,this._id)}function xL(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,a=Math.min(r,o),i=new Array(r),s=0;s<a;++s)for(var l=t[s],c=n[s],u=l.length,h=i[s]=new Array(u),d,f=0;f<u;++f)(d=l[f]||c[f])&&(h[f]=d);for(;s<r;++s)i[s]=t[s];return new mo(i,this._parents,this._name,this._id)}function _L(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function IL(e,t,n){var r,o,a=_L(t)?Py:Vr;return function(){var i=a(this,e),s=i.on;s!==r&&(o=(r=s).copy()).on(t,n),i.on=o}}function SL(e,t){var n=this._id;return arguments.length<2?Nr(this.node(),n).on.on(e):this.each(IL(n,e,t))}function CL(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function EL(){return this.on("end.remove",CL(this._id))}function TL(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Cy(e));for(var r=this._groups,o=r.length,a=new Array(o),i=0;i<o;++i)for(var s=r[i],l=s.length,c=a[i]=new Array(l),u,h,d=0;d<l;++d)(u=s[d])&&(h=e.call(u,u.__data__,d,s))&&("__data__"in u&&(h.__data__=u.__data__),c[d]=h,td(c[d],t,n,d,c,Nr(u,n)));return new mo(a,this._parents,t,n)}function NL(e){var t=this._name,n=this._id;typeof e!="function"&&(e=uI(e));for(var r=this._groups,o=r.length,a=[],i=[],s=0;s<o;++s)for(var l=r[s],c=l.length,u,h=0;h<c;++h)if(u=l[h]){for(var d=e.call(u,u.__data__,h,l),f,w=Nr(u,n),m=0,g=d.length;m<g;++m)(f=d[m])&&td(f,t,n,m,d,w);a.push(d),i.push(u)}return new mo(a,i,t,n)}var ML=Wl.prototype.constructor;function AL(){return new ML(this._groups,this._parents)}function DL(e,t){var n,r,o;return function(){var a=Ji(this,e),i=(this.style.removeProperty(e),Ji(this,e));return a===i?null:a===n&&i===r?o:o=t(n=a,r=i)}}function AI(e){return function(){this.style.removeProperty(e)}}function PL(e,t,n){var r,o=n+"",a;return function(){var i=Ji(this,e);return i===o?null:i===r?a:a=t(r=i,n)}}function RL(e,t,n){var r,o,a;return function(){var i=Ji(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Ji(this,e))),i===l?null:i===r&&l===o?a:(o=l,a=t(r=i,s))}}function LL(e,t){var n,r,o,a="style."+t,i="end."+a,s;return function(){var l=Vr(this,e),c=l.on,u=l.value[a]==null?s||(s=AI(t)):void 0;(c!==n||o!==u)&&(r=(n=c).copy()).on(i,o=u),l.on=r}}function OL(e,t,n){var r=(e+="")=="transform"?O8:MI;return t==null?this.styleTween(e,DL(e,r)).on("end.style."+e,AI(e)):typeof t=="function"?this.styleTween(e,RL(e,r,Ry(this,"style."+e,t))).each(LL(this._id,e)):this.styleTween(e,PL(e,r,t),n).on("end.style."+e,null)}function HL(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function $L(e,t,n){var r,o;function a(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&HL(e,i,n)),r}return a._value=t,a}function jL(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,$L(e,t,n??""))}function GL(e){return function(){this.textContent=e}}function BL(e){return function(){var t=e(this);this.textContent=t??""}}function WL(e){return this.tween("text",typeof e=="function"?BL(Ry(this,"text",e)):GL(e==null?"":e+""))}function zL(e){return function(t){this.textContent=e.call(this,t)}}function qL(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&zL(o)),t}return r._value=e,r}function FL(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,qL(e))}function VL(){for(var e=this._name,t=this._id,n=DI(),r=this._groups,o=r.length,a=0;a<o;++a)for(var i=r[a],s=i.length,l,c=0;c<s;++c)if(l=i[c]){var u=Nr(l,t);td(l,e,n,c,i,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new mo(r,this._parents,e,n)}function YL(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(a,i){var s={value:i},l={value:function(){--o===0&&a()}};n.each(function(){var c=Vr(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),o===0&&a()})}var JL=0;function mo(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function DI(){return++JL}var Qr=Wl.prototype;mo.prototype={constructor:mo,select:TL,selectAll:NL,selectChild:Qr.selectChild,selectChildren:Qr.selectChildren,filter:kL,merge:xL,selection:AL,transition:VL,call:Qr.call,nodes:Qr.nodes,node:Qr.node,size:Qr.size,empty:Qr.empty,each:Qr.each,on:SL,attr:aL,attrTween:uL,style:OL,styleTween:jL,text:WL,textTween:FL,remove:EL,tween:Q8,delay:fL,duration:gL,ease:wL,easeVarying:bL,end:YL,[Symbol.iterator]:Qr[Symbol.iterator]};function UL(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var KL={time:null,delay:0,duration:250,ease:UL};function XL(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function QL(e){var t,n;e instanceof mo?(t=e._id,e=e._name):(t=DI(),(n=KL).time=Ay(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,a=0;a<o;++a)for(var i=r[a],s=i.length,l,c=0;c<s;++c)(l=i[c])&&td(l,e,t,c,i,n||XL(l,t));return new mo(r,this._parents,e,t)}Wl.prototype.interrupt=U8;Wl.prototype.transition=QL;function ZL(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function o(){var a,i=n.length,s,l=0,c=0;for(a=0;a<i;++a)s=n[a],l+=s.x,c+=s.y;for(l=(l/i-e)*r,c=(c/i-t)*r,a=0;a<i;++a)s=n[a],s.x-=l,s.y-=c}return o.initialize=function(a){n=a},o.x=function(a){return arguments.length?(e=+a,o):e},o.y=function(a){return arguments.length?(t=+a,o):t},o.strength=function(a){return arguments.length?(r=+a,o):r},o}function eO(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return PI(this.cover(t,n),t,n,e)}function PI(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,a=e._root,i={data:r},s=e._x0,l=e._y0,c=e._x1,u=e._y1,h,d,f,w,m,g,p,y;if(!a)return e._root=i,e;for(;a.length;)if((m=t>=(h=(s+c)/2))?s=h:c=h,(g=n>=(d=(l+u)/2))?l=d:u=d,o=a,!(a=a[p=g<<1|m]))return o[p]=i,e;if(f=+e._x.call(null,a.data),w=+e._y.call(null,a.data),t===f&&n===w)return i.next=a,o?o[p]=i:e._root=i,e;do o=o?o[p]=new Array(4):e._root=new Array(4),(m=t>=(h=(s+c)/2))?s=h:c=h,(g=n>=(d=(l+u)/2))?l=d:u=d;while((p=g<<1|m)===(y=(w>=d)<<1|f>=h));return o[y]=a,o[p]=i,e}function tO(e){var t,n,r=e.length,o,a,i=new Array(r),s=new Array(r),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(o=+this._x.call(null,t=e[n]))||isNaN(a=+this._y.call(null,t))||(i[n]=o,s[n]=a,o<l&&(l=o),o>u&&(u=o),a<c&&(c=a),a>h&&(h=a));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),n=0;n<r;++n)PI(this,i[n],s[n],e[n]);return this}function nO(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,a=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var i=o-n||1,s=this._root,l,c;n>e||e>=o||r>t||t>=a;)switch(c=(t<r)<<1|e<n,l=new Array(4),l[c]=s,s=l,i*=2,c){case 0:o=n+i,a=r+i;break;case 1:n=o-i,a=r+i;break;case 2:o=n+i,r=a-i;break;case 3:n=o-i,r=a-i;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=o,this._y1=a,this}function rO(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function oO(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function gn(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o}function aO(e,t,n){var r,o=this._x0,a=this._y0,i,s,l,c,u=this._x1,h=this._y1,d=[],f=this._root,w,m;for(f&&d.push(new gn(f,o,a,u,h)),n==null?n=1/0:(o=e-n,a=t-n,u=e+n,h=t+n,n*=n);w=d.pop();)if(!(!(f=w.node)||(i=w.x0)>u||(s=w.y0)>h||(l=w.x1)<o||(c=w.y1)<a))if(f.length){var g=(i+l)/2,p=(s+c)/2;d.push(new gn(f[3],g,p,l,c),new gn(f[2],i,p,g,c),new gn(f[1],g,s,l,p),new gn(f[0],i,s,g,p)),(m=(t>=p)<<1|e>=g)&&(w=d[d.length-1],d[d.length-1]=d[d.length-1-m],d[d.length-1-m]=w)}else{var y=e-+this._x.call(null,f.data),b=t-+this._y.call(null,f.data),_=y*y+b*b;if(_<n){var x=Math.sqrt(n=_);o=e-x,a=t-x,u=e+x,h=t+x,r=f.data}}return r}function iO(e){if(isNaN(u=+this._x.call(null,e))||isNaN(h=+this._y.call(null,e)))return this;var t,n=this._root,r,o,a,i=this._x0,s=this._y0,l=this._x1,c=this._y1,u,h,d,f,w,m,g,p;if(!n)return this;if(n.length)for(;;){if((w=u>=(d=(i+l)/2))?i=d:l=d,(m=h>=(f=(s+c)/2))?s=f:c=f,t=n,!(n=n[g=m<<1|w]))return this;if(!n.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(r=t,p=g)}for(;n.data!==e;)if(o=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,o?(a?o.next=a:delete o.next,this):t?(a?t[g]=a:delete t[g],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[p]=n:this._root=n),this):(this._root=a,this)}function sO(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function lO(){return this._root}function cO(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function uO(e){var t=[],n,r=this._root,o,a,i,s,l;for(r&&t.push(new gn(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,a=n.x0,i=n.y0,s=n.x1,l=n.y1)&&r.length){var c=(a+s)/2,u=(i+l)/2;(o=r[3])&&t.push(new gn(o,c,u,s,l)),(o=r[2])&&t.push(new gn(o,a,u,c,l)),(o=r[1])&&t.push(new gn(o,c,i,s,u)),(o=r[0])&&t.push(new gn(o,a,i,c,u))}return this}function hO(e){var t=[],n=[],r;for(this._root&&t.push(new gn(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var o=r.node;if(o.length){var a,i=r.x0,s=r.y0,l=r.x1,c=r.y1,u=(i+l)/2,h=(s+c)/2;(a=o[0])&&t.push(new gn(a,i,s,u,h)),(a=o[1])&&t.push(new gn(a,u,s,l,h)),(a=o[2])&&t.push(new gn(a,i,h,u,c)),(a=o[3])&&t.push(new gn(a,u,h,l,c))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function dO(e){return e[0]}function fO(e){return arguments.length?(this._x=e,this):this._x}function mO(e){return e[1]}function pO(e){return arguments.length?(this._y=e,this):this._y}function RI(e,t,n){var r=new Ly(t??dO,n??mO,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function Ly(e,t,n,r,o,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=a,this._root=void 0}function b0(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var bn=RI.prototype=Ly.prototype;bn.copy=function(){var e=new Ly(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=b0(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var o=0;o<4;++o)(r=t.source[o])&&(r.length?n.push({source:r,target:t.target[o]=new Array(4)}):t.target[o]=b0(r));return e};bn.add=eO;bn.addAll=tO;bn.cover=nO;bn.data=rO;bn.extent=oO;bn.find=aO;bn.remove=iO;bn.removeAll=sO;bn.root=lO;bn.size=cO;bn.visit=uO;bn.visitAfter=hO;bn.x=fO;bn.y=pO;function el(e){return function(){return e}}function _i(e){return(e()-.5)*1e-6}function gO(e){return e.index}function k0(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function yO(e){var t=gO,n=h,r,o=el(30),a,i,s,l,c,u=1;e==null&&(e=[]);function h(g){return 1/Math.min(s[g.source.index],s[g.target.index])}function d(g){for(var p=0,y=e.length;p<u;++p)for(var b=0,_,x,C,O,D,q,J;b<y;++b)_=e[b],x=_.source,C=_.target,O=C.x+C.vx-x.x-x.vx||_i(c),D=C.y+C.vy-x.y-x.vy||_i(c),q=Math.sqrt(O*O+D*D),q=(q-a[b])/q*g*r[b],O*=q,D*=q,C.vx-=O*(J=l[b]),C.vy-=D*J,x.vx+=O*(J=1-J),x.vy+=D*J}function f(){if(i){var g,p=i.length,y=e.length,b=new Map(i.map((x,C)=>[t(x,C,i),x])),_;for(g=0,s=new Array(p);g<y;++g)_=e[g],_.index=g,typeof _.source!="object"&&(_.source=k0(b,_.source)),typeof _.target!="object"&&(_.target=k0(b,_.target)),s[_.source.index]=(s[_.source.index]||0)+1,s[_.target.index]=(s[_.target.index]||0)+1;for(g=0,l=new Array(y);g<y;++g)_=e[g],l[g]=s[_.source.index]/(s[_.source.index]+s[_.target.index]);r=new Array(y),w(),a=new Array(y),m()}}function w(){if(i)for(var g=0,p=e.length;g<p;++g)r[g]=+n(e[g],g,e)}function m(){if(i)for(var g=0,p=e.length;g<p;++g)a[g]=+o(e[g],g,e)}return d.initialize=function(g,p){i=g,c=p,f()},d.links=function(g){return arguments.length?(e=g,f(),d):e},d.id=function(g){return arguments.length?(t=g,d):t},d.iterations=function(g){return arguments.length?(u=+g,d):u},d.strength=function(g){return arguments.length?(n=typeof g=="function"?g:el(+g),w(),d):n},d.distance=function(g){return arguments.length?(o=typeof g=="function"?g:el(+g),m(),d):o},d}const wO=1664525,vO=1013904223,x0=4294967296;function bO(){let e=1;return()=>(e=(wO*e+vO)%x0)/x0}function kO(e){return e.x}function xO(e){return e.y}var _O=10,IO=Math.PI*(3-Math.sqrt(5));function SO(e){var t,n=1,r=.001,o=1-Math.pow(r,1/300),a=0,i=.6,s=new Map,l=Dy(h),c=Qh("tick","end"),u=bO();e==null&&(e=[]);function h(){d(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function d(m){var g,p=e.length,y;m===void 0&&(m=1);for(var b=0;b<m;++b)for(n+=(a-n)*o,s.forEach(function(_){_(n)}),g=0;g<p;++g)y=e[g],y.fx==null?y.x+=y.vx*=i:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=i:(y.y=y.fy,y.vy=0);return t}function f(){for(var m=0,g=e.length,p;m<g;++m){if(p=e[m],p.index=m,p.fx!=null&&(p.x=p.fx),p.fy!=null&&(p.y=p.fy),isNaN(p.x)||isNaN(p.y)){var y=_O*Math.sqrt(.5+m),b=m*IO;p.x=y*Math.cos(b),p.y=y*Math.sin(b)}(isNaN(p.vx)||isNaN(p.vy))&&(p.vx=p.vy=0)}}function w(m){return m.initialize&&m.initialize(e,u),m}return f(),t={tick:d,restart:function(){return l.restart(h),t},stop:function(){return l.stop(),t},nodes:function(m){return arguments.length?(e=m,f(),s.forEach(w),t):e},alpha:function(m){return arguments.length?(n=+m,t):n},alphaMin:function(m){return arguments.length?(r=+m,t):r},alphaDecay:function(m){return arguments.length?(o=+m,t):+o},alphaTarget:function(m){return arguments.length?(a=+m,t):a},velocityDecay:function(m){return arguments.length?(i=1-m,t):1-i},randomSource:function(m){return arguments.length?(u=m,s.forEach(w),t):u},force:function(m,g){return arguments.length>1?(g==null?s.delete(m):s.set(m,w(g)),t):s.get(m)},find:function(m,g,p){var y=0,b=e.length,_,x,C,O,D;for(p==null?p=1/0:p*=p,y=0;y<b;++y)O=e[y],_=m-O.x,x=g-O.y,C=_*_+x*x,C<p&&(D=O,p=C);return D},on:function(m,g){return arguments.length>1?(c.on(m,g),t):c.on(m)}}}function CO(){var e,t,n,r,o=el(-30),a,i=1,s=1/0,l=.81;function c(f){var w,m=e.length,g=RI(e,kO,xO).visitAfter(h);for(r=f,w=0;w<m;++w)t=e[w],g.visit(d)}function u(){if(e){var f,w=e.length,m;for(a=new Array(w),f=0;f<w;++f)m=e[f],a[m.index]=+o(m,f,e)}}function h(f){var w=0,m,g,p=0,y,b,_;if(f.length){for(y=b=_=0;_<4;++_)(m=f[_])&&(g=Math.abs(m.value))&&(w+=m.value,p+=g,y+=g*m.x,b+=g*m.y);f.x=y/p,f.y=b/p}else{m=f,m.x=m.data.x,m.y=m.data.y;do w+=a[m.data.index];while(m=m.next)}f.value=w}function d(f,w,m,g){if(!f.value)return!0;var p=f.x-t.x,y=f.y-t.y,b=g-w,_=p*p+y*y;if(b*b/l<_)return _<s&&(p===0&&(p=_i(n),_+=p*p),y===0&&(y=_i(n),_+=y*y),_<i&&(_=Math.sqrt(i*_)),t.vx+=p*f.value*r/_,t.vy+=y*f.value*r/_),!0;if(f.length||_>=s)return;(f.data!==t||f.next)&&(p===0&&(p=_i(n),_+=p*p),y===0&&(y=_i(n),_+=y*y),_<i&&(_=Math.sqrt(i*_)));do f.data!==t&&(b=a[f.data.index]*r/_,t.vx+=p*b,t.vy+=y*b);while(f=f.next)}return c.initialize=function(f,w){e=f,n=w,u()},c.strength=function(f){return arguments.length?(o=typeof f=="function"?f:el(+f),u(),c):o},c.distanceMin=function(f){return arguments.length?(i=f*f,c):Math.sqrt(i)},c.distanceMax=function(f){return arguments.length?(s=f*f,c):Math.sqrt(s)},c.theta=function(f){return arguments.length?(l=f*f,c):Math.sqrt(l)},c}function EO(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xu(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ki(e){return e=Xu(Math.abs(e)),e?e[1]:NaN}function TO(e,t){return function(n,r){for(var o=n.length,a=[],i=0,s=e[0],l=0;o>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(o-=s,o+s)),!((l+=s+1)>r));)s=e[i=(i+1)%e.length];return a.reverse().join(t)}}function NO(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var MO=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qu(e){if(!(t=MO.exec(e)))throw new Error("invalid format: "+e);var t;return new Oy({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Qu.prototype=Oy.prototype;function Oy(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Oy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function AO(e){e:for(var t=e.length,n=1,r=-1,o;n<t;++n)switch(e[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(o+1):e}var LI;function DO(e,t){var n=Xu(e,t);if(!n)return e+"";var r=n[0],o=n[1],a=o-(LI=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,i=r.length;return a===i?r:a>i?r+new Array(a-i+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Xu(e,Math.max(0,t+a-1))[0]}function _0(e,t){var n=Xu(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}const I0={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:EO,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>_0(e*100,t),r:_0,s:DO,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function S0(e){return e}var C0=Array.prototype.map,E0=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function PO(e){var t=e.grouping===void 0||e.thousands===void 0?S0:TO(C0.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?S0:NO(C0.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(h){h=Qu(h);var d=h.fill,f=h.align,w=h.sign,m=h.symbol,g=h.zero,p=h.width,y=h.comma,b=h.precision,_=h.trim,x=h.type;x==="n"?(y=!0,x="g"):I0[x]||(b===void 0&&(b=12),_=!0,x="g"),(g||d==="0"&&f==="=")&&(g=!0,d="0",f="=");var C=m==="$"?n:m==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",O=m==="$"?r:/[%p]/.test(x)?i:"",D=I0[x],q=/[defgprs%]/.test(x);b=b===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function J(K){var B=C,Z=O,M,$,S;if(x==="c")Z=D(K)+Z,K="";else{K=+K;var H=K<0||1/K<0;if(K=isNaN(K)?l:D(Math.abs(K),b),_&&(K=AO(K)),H&&+K==0&&w!=="+"&&(H=!1),B=(H?w==="("?w:s:w==="-"||w==="("?"":w)+B,Z=(x==="s"?E0[8+LI/3]:"")+Z+(H&&w==="("?")":""),q){for(M=-1,$=K.length;++M<$;)if(S=K.charCodeAt(M),48>S||S>57){Z=(S===46?o+K.slice(M+1):K.slice(M))+Z,K=K.slice(0,M);break}}}y&&!g&&(K=t(K,1/0));var N=B.length+K.length+Z.length,R=N<p?new Array(p-N+1).join(d):"";switch(y&&g&&(K=t(R+K,R.length?p-Z.length:1/0),R=""),f){case"<":K=B+K+Z+R;break;case"=":K=B+R+K+Z;break;case"^":K=R.slice(0,N=R.length>>1)+B+K+Z+R.slice(N);break;default:K=R+B+K+Z;break}return a(K)}return J.toString=function(){return h+""},J}function u(h,d){var f=c((h=Qu(h),h.type="f",h)),w=Math.max(-8,Math.min(8,Math.floor(Ki(d)/3)))*3,m=Math.pow(10,-w),g=E0[8+w/3];return function(p){return f(m*p)+g}}return{format:c,formatPrefix:u}}var Lc,OI,HI;RO({thousands:",",grouping:[3],currency:["$",""]});function RO(e){return Lc=PO(e),OI=Lc.format,HI=Lc.formatPrefix,Lc}function LO(e){return Math.max(0,-Ki(Math.abs(e)))}function OO(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ki(t)/3)))*3-Ki(Math.abs(e)))}function HO(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ki(t)-Ki(e))+1}function $O(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}function $I(e){return e}function jO(e,t,n,r){var o=bR(e,t,n),a;switch(r=Qu(r??",f"),r.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=OO(o,i))&&(r.precision=a),HI(r,i)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=HO(o,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=LO(o))&&(r.precision=a-(r.type==="%")*2);break}}return OI(r)}function GO(e){var t=e.domain;return e.ticks=function(n){var r=t();return vR(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var o=t();return jO(o[0],o[o.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),o=0,a=r.length-1,i=r[o],s=r[a],l,c,u=10;for(s<i&&(c=i,i=s,s=c,c=o,o=a,a=c);u-- >0;){if(c=hp(i,s,n),c===l)return r[o]=i,r[a]=s,t(r);if(c>0)i=Math.floor(i/c)*c,s=Math.ceil(s/c)*c;else if(c<0)i=Math.ceil(i*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function BO(){var e=0,t=1,n,r,o,a,i=$I,s=!1,l;function c(h){return h==null||isNaN(h=+h)?l:i(o===0?.5:(h=(a(h)-n)*o,s?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([e,t]=h,n=a(e=+e),r=a(t=+t),o=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(h){return arguments.length?(s=!!h,c):s},c.interpolator=function(h){return arguments.length?(i=h,c):i};function u(h){return function(d){var f,w;return arguments.length?([f,w]=d,i=h(f,w),c):[i(0),i(1)]}}return c.range=u(My),c.rangeRound=u(P8),c.unknown=function(h){return arguments.length?(l=h,c):l},function(h){return a=h,n=h(e),r=h(t),o=n===r?0:1/(r-n),c}}function WO(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ya(){var e=GO(BO()($I));return e.copy=function(){return WO(e,ya())},$O.apply(e,arguments)}function as(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const is=e=>S8(e[e.length-1]);var zO=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(as);const qO=is(zO);var FO=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(as);const VO=is(FO);var YO=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(as);const JO=is(YO);var UO=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(as);const KO=is(UO);var XO=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(as);const QO=is(XO);var ZO=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(as);const e9=is(ZO),Oc=e=>()=>e;function t9(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function oo(e,t,n){this.k=e,this.x=t,this.y=n}oo.prototype={constructor:oo,scale:function(e){return e===1?this:new oo(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new oo(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Hy=new oo(1,0,0);oo.prototype;function nm(e){e.stopImmediatePropagation()}function Rs(e){e.preventDefault(),e.stopImmediatePropagation()}function n9(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function r9(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function T0(){return this.__zoom||Hy}function o9(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function a9(){return navigator.maxTouchPoints||"ontouchstart"in this}function i9(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),i>a?(a+i)/2:Math.min(0,a)||Math.max(0,i))}function s9(){var e=n9,t=r9,n=i9,r=o9,o=a9,a=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],s=250,l=B8,c=Qh("start","zoom","end"),u,h,d,f=500,w=150,m=0,g=10;function p(M){M.property("__zoom",T0).on("wheel.zoom",D,{passive:!1}).on("mousedown.zoom",q).on("dblclick.zoom",J).filter(o).on("touchstart.zoom",K).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",Z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(M,$,S,H){var N=M.selection?M.selection():M;N.property("__zoom",T0),M!==N?x(M,$,S,H):N.interrupt().each(function(){C(this,arguments).event(H).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},p.scaleBy=function(M,$,S,H){p.scaleTo(M,function(){var N=this.__zoom.k,R=typeof $=="function"?$.apply(this,arguments):$;return N*R},S,H)},p.scaleTo=function(M,$,S,H){p.transform(M,function(){var N=t.apply(this,arguments),R=this.__zoom,V=S==null?_(N):typeof S=="function"?S.apply(this,arguments):S,W=R.invert(V),oe=typeof $=="function"?$.apply(this,arguments):$;return n(b(y(R,oe),V,W),N,i)},S,H)},p.translateBy=function(M,$,S,H){p.transform(M,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof S=="function"?S.apply(this,arguments):S),t.apply(this,arguments),i)},null,H)},p.translateTo=function(M,$,S,H,N){p.transform(M,function(){var R=t.apply(this,arguments),V=this.__zoom,W=H==null?_(R):typeof H=="function"?H.apply(this,arguments):H;return n(Hy.translate(W[0],W[1]).scale(V.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof S=="function"?-S.apply(this,arguments):-S),R,i)},H,N)};function y(M,$){return $=Math.max(a[0],Math.min(a[1],$)),$===M.k?M:new oo($,M.x,M.y)}function b(M,$,S){var H=$[0]-S[0]*M.k,N=$[1]-S[1]*M.k;return H===M.x&&N===M.y?M:new oo(M.k,H,N)}function _(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function x(M,$,S,H){M.on("start.zoom",function(){C(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(H).end()}).tween("zoom",function(){var N=this,R=arguments,V=C(N,R).event(H),W=t.apply(N,R),oe=S==null?_(W):typeof S=="function"?S.apply(N,R):S,le=Math.max(W[1][0]-W[0][0],W[1][1]-W[0][1]),Q=N.__zoom,ce=typeof $=="function"?$.apply(N,R):$,ge=l(Q.invert(oe).concat(le/Q.k),ce.invert(oe).concat(le/ce.k));return function(Ee){if(Ee===1)Ee=ce;else{var Te=ge(Ee),ue=le/Te[2];Ee=new oo(ue,oe[0]-Te[0]*ue,oe[1]-Te[1]*ue)}V.zoom(null,Ee)}})}function C(M,$,S){return!S&&M.__zooming||new O(M,$)}function O(M,$){this.that=M,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(M,$),this.taps=0}O.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,$){return this.mouse&&M!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var $=pr(this.that).datum();c.call(M,this.that,new t9(M,{sourceEvent:this.sourceEvent,target:p,type:M,transform:this.that.__zoom,dispatch:c}),$)}};function D(M,...$){if(!e.apply(this,arguments))return;var S=C(this,$).event(M),H=this.__zoom,N=Math.max(a[0],Math.min(a[1],H.k*Math.pow(2,r.apply(this,arguments)))),R=fa(M);if(S.wheel)(S.mouse[0][0]!==R[0]||S.mouse[0][1]!==R[1])&&(S.mouse[1]=H.invert(S.mouse[0]=R)),clearTimeout(S.wheel);else{if(H.k===N)return;S.mouse=[R,H.invert(R)],iu(this),S.start()}Rs(M),S.wheel=setTimeout(V,w),S.zoom("mouse",n(b(y(H,N),S.mouse[0],S.mouse[1]),S.extent,i));function V(){S.wheel=null,S.end()}}function q(M,...$){if(d||!e.apply(this,arguments))return;var S=M.currentTarget,H=C(this,$,!0).event(M),N=pr(M.view).on("mousemove.zoom",oe,!0).on("mouseup.zoom",le,!0),R=fa(M,S),V=M.clientX,W=M.clientY;a8(M.view),nm(M),H.mouse=[R,this.__zoom.invert(R)],iu(this),H.start();function oe(Q){if(Rs(Q),!H.moved){var ce=Q.clientX-V,ge=Q.clientY-W;H.moved=ce*ce+ge*ge>m}H.event(Q).zoom("mouse",n(b(H.that.__zoom,H.mouse[0]=fa(Q,S),H.mouse[1]),H.extent,i))}function le(Q){N.on("mousemove.zoom mouseup.zoom",null),i8(Q.view,H.moved),Rs(Q),H.event(Q).end()}}function J(M,...$){if(e.apply(this,arguments)){var S=this.__zoom,H=fa(M.changedTouches?M.changedTouches[0]:M,this),N=S.invert(H),R=S.k*(M.shiftKey?.5:2),V=n(b(y(S,R),H,N),t.apply(this,$),i);Rs(M),s>0?pr(this).transition().duration(s).call(x,V,H,M):pr(this).call(p.transform,V,H,M)}}function K(M,...$){if(e.apply(this,arguments)){var S=M.touches,H=S.length,N=C(this,$,M.changedTouches.length===H).event(M),R,V,W,oe;for(nm(M),V=0;V<H;++V)W=S[V],oe=fa(W,this),oe=[oe,this.__zoom.invert(oe),W.identifier],N.touch0?!N.touch1&&N.touch0[2]!==oe[2]&&(N.touch1=oe,N.taps=0):(N.touch0=oe,R=!0,N.taps=1+!!u);u&&(u=clearTimeout(u)),R&&(N.taps<2&&(h=oe[0],u=setTimeout(function(){u=null},f)),iu(this),N.start())}}function B(M,...$){if(this.__zooming){var S=C(this,$).event(M),H=M.changedTouches,N=H.length,R,V,W,oe;for(Rs(M),R=0;R<N;++R)V=H[R],W=fa(V,this),S.touch0&&S.touch0[2]===V.identifier?S.touch0[0]=W:S.touch1&&S.touch1[2]===V.identifier&&(S.touch1[0]=W);if(V=S.that.__zoom,S.touch1){var le=S.touch0[0],Q=S.touch0[1],ce=S.touch1[0],ge=S.touch1[1],Ee=(Ee=ce[0]-le[0])*Ee+(Ee=ce[1]-le[1])*Ee,Te=(Te=ge[0]-Q[0])*Te+(Te=ge[1]-Q[1])*Te;V=y(V,Math.sqrt(Ee/Te)),W=[(le[0]+ce[0])/2,(le[1]+ce[1])/2],oe=[(Q[0]+ge[0])/2,(Q[1]+ge[1])/2]}else if(S.touch0)W=S.touch0[0],oe=S.touch0[1];else return;S.zoom("touch",n(b(V,W,oe),S.extent,i))}}function Z(M,...$){if(this.__zooming){var S=C(this,$).event(M),H=M.changedTouches,N=H.length,R,V;for(nm(M),d&&clearTimeout(d),d=setTimeout(function(){d=null},f),R=0;R<N;++R)V=H[R],S.touch0&&S.touch0[2]===V.identifier?delete S.touch0:S.touch1&&S.touch1[2]===V.identifier&&delete S.touch1;if(S.touch1&&!S.touch0&&(S.touch0=S.touch1,delete S.touch1),S.touch0)S.touch0[1]=this.__zoom.invert(S.touch0[0]);else if(S.end(),S.taps===2&&(V=fa(V,this),Math.hypot(h[0]-V[0],h[1]-V[1])<g)){var W=pr(this).on("dblclick.zoom");W&&W.apply(this,arguments)}}}return p.wheelDelta=function(M){return arguments.length?(r=typeof M=="function"?M:Oc(+M),p):r},p.filter=function(M){return arguments.length?(e=typeof M=="function"?M:Oc(!!M),p):e},p.touchable=function(M){return arguments.length?(o=typeof M=="function"?M:Oc(!!M),p):o},p.extent=function(M){return arguments.length?(t=typeof M=="function"?M:Oc([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),p):t},p.scaleExtent=function(M){return arguments.length?(a[0]=+M[0],a[1]=+M[1],p):[a[0],a[1]]},p.translateExtent=function(M){return arguments.length?(i[0][0]=+M[0][0],i[1][0]=+M[1][0],i[0][1]=+M[0][1],i[1][1]=+M[1][1],p):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},p.constrain=function(M){return arguments.length?(n=M,p):n},p.duration=function(M){return arguments.length?(s=+M,p):s},p.interpolate=function(M){return arguments.length?(l=M,p):l},p.on=function(){var M=c.on.apply(c,arguments);return M===c?p:M},p.clickDistance=function(M){return arguments.length?(m=(M=+M)*M,p):Math.sqrt(m)},p.tapDistance=function(M){return arguments.length?(g=+M,p):g},p}var jI={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(e,t){(function(n,r){e.exports=r()})(Hs,function(){for(var n=function(v,k,T){return k===void 0&&(k=0),T===void 0&&(T=1),v<k?k:v>T?T:v},r=n,o=function(v){v._clipped=!1,v._unclipped=v.slice(0);for(var k=0;k<=3;k++)k<3?((v[k]<0||v[k]>255)&&(v._clipped=!0),v[k]=r(v[k],0,255)):k===3&&(v[k]=r(v[k],0,1));return v},a={},i=0,s=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];i<s.length;i+=1){var l=s[i];a["[object "+l+"]"]=l.toLowerCase()}var c=function(v){return a[Object.prototype.toString.call(v)]||"object"},u=c,h=function(v,k){return k===void 0&&(k=null),v.length>=3?Array.prototype.slice.call(v):u(v[0])=="object"&&k?k.split("").filter(function(T){return v[0][T]!==void 0}).map(function(T){return v[0][T]}):v[0]},d=c,f=function(v){if(v.length<2)return null;var k=v.length-1;return d(v[k])=="string"?v[k].toLowerCase():null},w=Math.PI,m={clip_rgb:o,limit:n,type:c,unpack:h,last:f,PI:w,TWOPI:w*2,PITHIRD:w/3,DEG2RAD:w/180,RAD2DEG:180/w},g={format:{},autodetect:[]},p=m.last,y=m.clip_rgb,b=m.type,_=g,x=function(){for(var k=[],T=arguments.length;T--;)k[T]=arguments[T];var j=this;if(b(k[0])==="object"&&k[0].constructor&&k[0].constructor===this.constructor)return k[0];var F=p(k),Y=!1;if(!F){Y=!0,_.sorted||(_.autodetect=_.autodetect.sort(function(ve,Ne){return Ne.p-ve.p}),_.sorted=!0);for(var G=0,te=_.autodetect;G<te.length;G+=1){var ne=te[G];if(F=ne.test.apply(ne,k),F)break}}if(_.format[F]){var de=_.format[F].apply(null,Y?k:k.slice(0,-1));j._rgb=y(de)}else throw new Error("unknown format: "+k);j._rgb.length===3&&j._rgb.push(1)};x.prototype.toString=function(){return b(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var C=x,O=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];return new(Function.prototype.bind.apply(O.Color,[null].concat(v)))};O.Color=C,O.version="2.4.2";var D=O,q=m.unpack,J=Math.max,K=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];var T=q(v,"rgb"),j=T[0],F=T[1],Y=T[2];j=j/255,F=F/255,Y=Y/255;var G=1-J(j,J(F,Y)),te=G<1?1/(1-G):0,ne=(1-j-G)*te,de=(1-F-G)*te,ve=(1-Y-G)*te;return[ne,de,ve,G]},B=K,Z=m.unpack,M=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];v=Z(v,"cmyk");var T=v[0],j=v[1],F=v[2],Y=v[3],G=v.length>4?v[4]:1;return Y===1?[0,0,0,G]:[T>=1?0:255*(1-T)*(1-Y),j>=1?0:255*(1-j)*(1-Y),F>=1?0:255*(1-F)*(1-Y),G]},$=M,S=D,H=C,N=g,R=m.unpack,V=m.type,W=B;H.prototype.cmyk=function(){return W(this._rgb)},S.cmyk=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];return new(Function.prototype.bind.apply(H,[null].concat(v,["cmyk"])))},N.format.cmyk=$,N.autodetect.push({p:2,test:function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];if(v=R(v,"cmyk"),V(v)==="array"&&v.length===4)return"cmyk"}});var oe=m.unpack,le=m.last,Q=function(v){return Math.round(v*100)/100},ce=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];var T=oe(v,"hsla"),j=le(v)||"lsa";return T[0]=Q(T[0]||0),T[1]=Q(T[1]*100)+"%",T[2]=Q(T[2]*100)+"%",j==="hsla"||T.length>3&&T[3]<1?(T[3]=T.length>3?T[3]:1,j="hsla"):T.length=3,j+"("+T.join(",")+")"},ge=ce,Ee=m.unpack,Te=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];v=Ee(v,"rgba");var T=v[0],j=v[1],F=v[2];T/=255,j/=255,F/=255;var Y=Math.min(T,j,F),G=Math.max(T,j,F),te=(G+Y)/2,ne,de;return G===Y?(ne=0,de=Number.NaN):ne=te<.5?(G-Y)/(G+Y):(G-Y)/(2-G-Y),T==G?de=(j-F)/(G-Y):j==G?de=2+(F-T)/(G-Y):F==G&&(de=4+(T-j)/(G-Y)),de*=60,de<0&&(de+=360),v.length>3&&v[3]!==void 0?[de,ne,te,v[3]]:[de,ne,te]},ue=Te,re=m.unpack,ae=m.last,pe=ge,he=ue,ie=Math.round,ye=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];var T=re(v,"rgba"),j=ae(v)||"rgb";return j.substr(0,3)=="hsl"?pe(he(T),j):(T[0]=ie(T[0]),T[1]=ie(T[1]),T[2]=ie(T[2]),(j==="rgba"||T.length>3&&T[3]<1)&&(T[3]=T.length>3?T[3]:1,j="rgba"),j+"("+T.slice(0,j==="rgb"?3:4).join(",")+")")},we=ye,je=m.unpack,Me=Math.round,Fe=function(){for(var v,k=[],T=arguments.length;T--;)k[T]=arguments[T];k=je(k,"hsl");var j=k[0],F=k[1],Y=k[2],G,te,ne;if(F===0)G=te=ne=Y*255;else{var de=[0,0,0],ve=[0,0,0],Ne=Y<.5?Y*(1+F):Y+F-Y*F,ke=2*Y-Ne,Re=j/360;de[0]=Re+1/3,de[1]=Re,de[2]=Re-1/3;for(var De=0;De<3;De++)de[De]<0&&(de[De]+=1),de[De]>1&&(de[De]-=1),6*de[De]<1?ve[De]=ke+(Ne-ke)*6*de[De]:2*de[De]<1?ve[De]=Ne:3*de[De]<2?ve[De]=ke+(Ne-ke)*(2/3-de[De])*6:ve[De]=ke;v=[Me(ve[0]*255),Me(ve[1]*255),Me(ve[2]*255)],G=v[0],te=v[1],ne=v[2]}return k.length>3?[G,te,ne,k[3]]:[G,te,ne,1]},Ve=Fe,Xe=Ve,He=g,Le=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Ct=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,Ge=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,at=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Ht=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,kn=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Jr=Math.round,Ar=function(v){v=v.toLowerCase().trim();var k;if(He.format.named)try{return He.format.named(v)}catch{}if(k=v.match(Le)){for(var T=k.slice(1,4),j=0;j<3;j++)T[j]=+T[j];return T[3]=1,T}if(k=v.match(Ct)){for(var F=k.slice(1,5),Y=0;Y<4;Y++)F[Y]=+F[Y];return F}if(k=v.match(Ge)){for(var G=k.slice(1,4),te=0;te<3;te++)G[te]=Jr(G[te]*2.55);return G[3]=1,G}if(k=v.match(at)){for(var ne=k.slice(1,5),de=0;de<3;de++)ne[de]=Jr(ne[de]*2.55);return ne[3]=+ne[3],ne}if(k=v.match(Ht)){var ve=k.slice(1,4);ve[1]*=.01,ve[2]*=.01;var Ne=Xe(ve);return Ne[3]=1,Ne}if(k=v.match(kn)){var ke=k.slice(1,4);ke[1]*=.01,ke[2]*=.01;var Re=Xe(ke);return Re[3]=+k[4],Re}};Ar.test=function(v){return Le.test(v)||Ct.test(v)||Ge.test(v)||at.test(v)||Ht.test(v)||kn.test(v)};var Ur=Ar,_o=D,gt=C,Bt=g,Jn=m.type,us=we,Io=Ur;gt.prototype.css=function(v){return us(this._rgb,v)},_o.css=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];return new(Function.prototype.bind.apply(gt,[null].concat(v,["css"])))},Bt.format.css=Io,Bt.autodetect.push({p:5,test:function(v){for(var k=[],T=arguments.length-1;T-- >0;)k[T]=arguments[T+1];if(!k.length&&Jn(v)==="string"&&Io.test(v))return"css"}});var Dr=C,hs=D,Un=g,Ya=m.unpack;Un.format.gl=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];var T=Ya(v,"rgba");return T[0]*=255,T[1]*=255,T[2]*=255,T},hs.gl=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];return new(Function.prototype.bind.apply(Dr,[null].concat(v,["gl"])))},Dr.prototype.gl=function(){var v=this._rgb;return[v[0]/255,v[1]/255,v[2]/255,v[3]]};var ds=m.unpack,Yl=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];var T=ds(v,"rgb"),j=T[0],F=T[1],Y=T[2],G=Math.min(j,F,Y),te=Math.max(j,F,Y),ne=te-G,de=ne*100/255,ve=G/(255-ne)*100,Ne;return ne===0?Ne=Number.NaN:(j===te&&(Ne=(F-Y)/ne),F===te&&(Ne=2+(Y-j)/ne),Y===te&&(Ne=4+(j-F)/ne),Ne*=60,Ne<0&&(Ne+=360)),[Ne,de,ve]},gd=Yl,yd=m.unpack,wd=Math.floor,vd=function(){for(var v,k,T,j,F,Y,G=[],te=arguments.length;te--;)G[te]=arguments[te];G=yd(G,"hcg");var ne=G[0],de=G[1],ve=G[2],Ne,ke,Re;ve=ve*255;var De=de*255;if(de===0)Ne=ke=Re=ve;else{ne===360&&(ne=0),ne>360&&(ne-=360),ne<0&&(ne+=360),ne/=60;var Qe=wd(ne),tt=ne-Qe,it=ve*(1-de),dt=it+De*(1-tt),Qt=it+De*tt,Jt=it+De;switch(Qe){case 0:v=[Jt,Qt,it],Ne=v[0],ke=v[1],Re=v[2];break;case 1:k=[dt,Jt,it],Ne=k[0],ke=k[1],Re=k[2];break;case 2:T=[it,Jt,Qt],Ne=T[0],ke=T[1],Re=T[2];break;case 3:j=[it,dt,Jt],Ne=j[0],ke=j[1],Re=j[2];break;case 4:F=[Qt,it,Jt],Ne=F[0],ke=F[1],Re=F[2];break;case 5:Y=[Jt,it,dt],Ne=Y[0],ke=Y[1],Re=Y[2];break}}return[Ne,ke,Re,G.length>3?G[3]:1]},bd=vd,kd=m.unpack,xd=m.type,_d=D,Jl=C,Ul=g,Kl=gd;Jl.prototype.hcg=function(){return Kl(this._rgb)},_d.hcg=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];return new(Function.prototype.bind.apply(Jl,[null].concat(v,["hcg"])))},Ul.format.hcg=bd,Ul.autodetect.push({p:1,test:function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];if(v=kd(v,"hcg"),xd(v)==="array"&&v.length===3)return"hcg"}});var Id=m.unpack,Sd=m.last,Ja=Math.round,Cd=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];var T=Id(v,"rgba"),j=T[0],F=T[1],Y=T[2],G=T[3],te=Sd(v)||"auto";G===void 0&&(G=1),te==="auto"&&(te=G<1?"rgba":"rgb"),j=Ja(j),F=Ja(F),Y=Ja(Y);var ne=j<<16|F<<8|Y,de="000000"+ne.toString(16);de=de.substr(de.length-6);var ve="0"+Ja(G*255).toString(16);switch(ve=ve.substr(ve.length-2),te.toLowerCase()){case"rgba":return"#"+de+ve;case"argb":return"#"+ve+de;default:return"#"+de}},Xl=Cd,Ed=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Td=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Nd=function(v){if(v.match(Ed)){(v.length===4||v.length===7)&&(v=v.substr(1)),v.length===3&&(v=v.split(""),v=v[0]+v[0]+v[1]+v[1]+v[2]+v[2]);var k=parseInt(v,16),T=k>>16,j=k>>8&255,F=k&255;return[T,j,F,1]}if(v.match(Td)){(v.length===5||v.length===9)&&(v=v.substr(1)),v.length===4&&(v=v.split(""),v=v[0]+v[0]+v[1]+v[1]+v[2]+v[2]+v[3]+v[3]);var Y=parseInt(v,16),G=Y>>24&255,te=Y>>16&255,ne=Y>>8&255,de=Math.round((Y&255)/255*100)/100;return[G,te,ne,de]}throw new Error("unknown hex color: "+v)},Ql=Nd,Md=D,Zl=C,Ad=m.type,ec=g,Dd=Xl;Zl.prototype.hex=function(v){return Dd(this._rgb,v)},Md.hex=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];return new(Function.prototype.bind.apply(Zl,[null].concat(v,["hex"])))},ec.format.hex=Ql,ec.autodetect.push({p:4,test:function(v){for(var k=[],T=arguments.length-1;T-- >0;)k[T]=arguments[T+1];if(!k.length&&Ad(v)==="string"&&[3,4,5,6,7,8,9].indexOf(v.length)>=0)return"hex"}});var Pd=m.unpack,fs=m.TWOPI,sa=Math.min,tc=Math.sqrt,So=Math.acos,Rd=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];var T=Pd(v,"rgb"),j=T[0],F=T[1],Y=T[2];j/=255,F/=255,Y/=255;var G,te=sa(j,F,Y),ne=(j+F+Y)/3,de=ne>0?1-te/ne:0;return de===0?G=NaN:(G=(j-F+(j-Y))/2,G/=tc((j-F)*(j-F)+(j-Y)*(F-Y)),G=So(G),Y>F&&(G=fs-G),G/=fs),[G*360,de,ne]},Ua=Rd,ms=m.unpack,ps=m.limit,Co=m.TWOPI,la=m.PITHIRD,Eo=Math.cos,Ld=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];v=ms(v,"hsi");var T=v[0],j=v[1],F=v[2],Y,G,te;return isNaN(T)&&(T=0),isNaN(j)&&(j=0),T>360&&(T-=360),T<0&&(T+=360),T/=360,T<1/3?(te=(1-j)/3,Y=(1+j*Eo(Co*T)/Eo(la-Co*T))/3,G=1-(te+Y)):T<2/3?(T-=1/3,Y=(1-j)/3,G=(1+j*Eo(Co*T)/Eo(la-Co*T))/3,te=1-(Y+G)):(T-=2/3,G=(1-j)/3,te=(1+j*Eo(Co*T)/Eo(la-Co*T))/3,Y=1-(G+te)),Y=ps(F*Y*3),G=ps(F*G*3),te=ps(F*te*3),[Y*255,G*255,te*255,v.length>3?v[3]:1]},A=Ld,z=m.unpack,L=m.type,X=D,ee=C,U=g,fe=Ua;ee.prototype.hsi=function(){return fe(this._rgb)},X.hsi=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];return new(Function.prototype.bind.apply(ee,[null].concat(v,["hsi"])))},U.format.hsi=A,U.autodetect.push({p:2,test:function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];if(v=z(v,"hsi"),L(v)==="array"&&v.length===3)return"hsi"}});var be=m.unpack,Ie=m.type,Se=D,Ce=C,Oe=g,Ke=ue;Ce.prototype.hsl=function(){return Ke(this._rgb)},Se.hsl=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];return new(Function.prototype.bind.apply(Ce,[null].concat(v,["hsl"])))},Oe.format.hsl=Ve,Oe.autodetect.push({p:2,test:function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];if(v=be(v,"hsl"),Ie(v)==="array"&&v.length===3)return"hsl"}});var ut=m.unpack,ht=Math.min,Rt=Math.max,Et=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];v=ut(v,"rgb");var T=v[0],j=v[1],F=v[2],Y=ht(T,j,F),G=Rt(T,j,F),te=G-Y,ne,de,ve;return ve=G/255,G===0?(ne=Number.NaN,de=0):(de=te/G,T===G&&(ne=(j-F)/te),j===G&&(ne=2+(F-T)/te),F===G&&(ne=4+(T-j)/te),ne*=60,ne<0&&(ne+=360)),[ne,de,ve]},xn=Et,ca=m.unpack,gs=Math.floor,Od=function(){for(var v,k,T,j,F,Y,G=[],te=arguments.length;te--;)G[te]=arguments[te];G=ca(G,"hsv");var ne=G[0],de=G[1],ve=G[2],Ne,ke,Re;if(ve*=255,de===0)Ne=ke=Re=ve;else{ne===360&&(ne=0),ne>360&&(ne-=360),ne<0&&(ne+=360),ne/=60;var De=gs(ne),Qe=ne-De,tt=ve*(1-de),it=ve*(1-de*Qe),dt=ve*(1-de*(1-Qe));switch(De){case 0:v=[ve,dt,tt],Ne=v[0],ke=v[1],Re=v[2];break;case 1:k=[it,ve,tt],Ne=k[0],ke=k[1],Re=k[2];break;case 2:T=[tt,ve,dt],Ne=T[0],ke=T[1],Re=T[2];break;case 3:j=[tt,it,ve],Ne=j[0],ke=j[1],Re=j[2];break;case 4:F=[dt,tt,ve],Ne=F[0],ke=F[1],Re=F[2];break;case 5:Y=[ve,tt,it],Ne=Y[0],ke=Y[1],Re=Y[2];break}}return[Ne,ke,Re,G.length>3?G[3]:1]},ys=Od,Vy=m.unpack,Hd=m.type,$d=D,ws=C,Yy=g,P2=xn;ws.prototype.hsv=function(){return P2(this._rgb)},$d.hsv=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];return new(Function.prototype.bind.apply(ws,[null].concat(v,["hsv"])))},Yy.format.hsv=ys,Yy.autodetect.push({p:2,test:function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];if(v=Vy(v,"hsv"),Hd(v)==="array"&&v.length===3)return"hsv"}});var nc={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Ka=nc,R2=m.unpack,Jy=Math.pow,L2=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];var T=R2(v,"rgb"),j=T[0],F=T[1],Y=T[2],G=O2(j,F,Y),te=G[0],ne=G[1],de=G[2],ve=116*ne-16;return[ve<0?0:ve,500*(te-ne),200*(ne-de)]},jd=function(v){return(v/=255)<=.04045?v/12.92:Jy((v+.055)/1.055,2.4)},Gd=function(v){return v>Ka.t3?Jy(v,1/3):v/Ka.t2+Ka.t0},O2=function(v,k,T){v=jd(v),k=jd(k),T=jd(T);var j=Gd((.4124564*v+.3575761*k+.1804375*T)/Ka.Xn),F=Gd((.2126729*v+.7151522*k+.072175*T)/Ka.Yn),Y=Gd((.0193339*v+.119192*k+.9503041*T)/Ka.Zn);return[j,F,Y]},Uy=L2,Xa=nc,H2=m.unpack,$2=Math.pow,j2=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];v=H2(v,"lab");var T=v[0],j=v[1],F=v[2],Y,G,te,ne,de,ve;return G=(T+16)/116,Y=isNaN(j)?G:G+j/500,te=isNaN(F)?G:G-F/200,G=Xa.Yn*Wd(G),Y=Xa.Xn*Wd(Y),te=Xa.Zn*Wd(te),ne=Bd(3.2404542*Y-1.5371385*G-.4985314*te),de=Bd(-.969266*Y+1.8760108*G+.041556*te),ve=Bd(.0556434*Y-.2040259*G+1.0572252*te),[ne,de,ve,v.length>3?v[3]:1]},Bd=function(v){return 255*(v<=.00304?12.92*v:1.055*$2(v,1/2.4)-.055)},Wd=function(v){return v>Xa.t1?v*v*v:Xa.t2*(v-Xa.t0)},Ky=j2,G2=m.unpack,B2=m.type,W2=D,Xy=C,Qy=g,z2=Uy;Xy.prototype.lab=function(){return z2(this._rgb)},W2.lab=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];return new(Function.prototype.bind.apply(Xy,[null].concat(v,["lab"])))},Qy.format.lab=Ky,Qy.autodetect.push({p:2,test:function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];if(v=G2(v,"lab"),B2(v)==="array"&&v.length===3)return"lab"}});var q2=m.unpack,F2=m.RAD2DEG,V2=Math.sqrt,Y2=Math.atan2,J2=Math.round,U2=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];var T=q2(v,"lab"),j=T[0],F=T[1],Y=T[2],G=V2(F*F+Y*Y),te=(Y2(Y,F)*F2+360)%360;return J2(G*1e4)===0&&(te=Number.NaN),[j,G,te]},Zy=U2,K2=m.unpack,X2=Uy,Q2=Zy,Z2=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];var T=K2(v,"rgb"),j=T[0],F=T[1],Y=T[2],G=X2(j,F,Y),te=G[0],ne=G[1],de=G[2];return Q2(te,ne,de)},eS=Z2,tS=m.unpack,nS=m.DEG2RAD,rS=Math.sin,oS=Math.cos,aS=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];var T=tS(v,"lch"),j=T[0],F=T[1],Y=T[2];return isNaN(Y)&&(Y=0),Y=Y*nS,[j,oS(Y)*F,rS(Y)*F]},ew=aS,iS=m.unpack,sS=ew,lS=Ky,cS=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];v=iS(v,"lch");var T=v[0],j=v[1],F=v[2],Y=sS(T,j,F),G=Y[0],te=Y[1],ne=Y[2],de=lS(G,te,ne),ve=de[0],Ne=de[1],ke=de[2];return[ve,Ne,ke,v.length>3?v[3]:1]},tw=cS,uS=m.unpack,hS=tw,dS=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];var T=uS(v,"hcl").reverse();return hS.apply(void 0,T)},fS=dS,mS=m.unpack,pS=m.type,nw=D,rc=C,zd=g,rw=eS;rc.prototype.lch=function(){return rw(this._rgb)},rc.prototype.hcl=function(){return rw(this._rgb).reverse()},nw.lch=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];return new(Function.prototype.bind.apply(rc,[null].concat(v,["lch"])))},nw.hcl=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];return new(Function.prototype.bind.apply(rc,[null].concat(v,["hcl"])))},zd.format.lch=tw,zd.format.hcl=fS,["lch","hcl"].forEach(function(v){return zd.autodetect.push({p:2,test:function(){for(var k=[],T=arguments.length;T--;)k[T]=arguments[T];if(k=mS(k,v),pS(k)==="array"&&k.length===3)return v}})});var gS={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},ow=gS,yS=C,aw=g,wS=m.type,vs=ow,vS=Ql,bS=Xl;yS.prototype.name=function(){for(var v=bS(this._rgb,"rgb"),k=0,T=Object.keys(vs);k<T.length;k+=1){var j=T[k];if(vs[j]===v)return j.toLowerCase()}return v},aw.format.named=function(v){if(v=v.toLowerCase(),vs[v])return vS(vs[v]);throw new Error("unknown color name: "+v)},aw.autodetect.push({p:5,test:function(v){for(var k=[],T=arguments.length-1;T-- >0;)k[T]=arguments[T+1];if(!k.length&&wS(v)==="string"&&vs[v.toLowerCase()])return"named"}});var kS=m.unpack,xS=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];var T=kS(v,"rgb"),j=T[0],F=T[1],Y=T[2];return(j<<16)+(F<<8)+Y},_S=xS,IS=m.type,SS=function(v){if(IS(v)=="number"&&v>=0&&v<=16777215){var k=v>>16,T=v>>8&255,j=v&255;return[k,T,j,1]}throw new Error("unknown num color: "+v)},CS=SS,ES=D,iw=C,sw=g,TS=m.type,NS=_S;iw.prototype.num=function(){return NS(this._rgb)},ES.num=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];return new(Function.prototype.bind.apply(iw,[null].concat(v,["num"])))},sw.format.num=CS,sw.autodetect.push({p:5,test:function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];if(v.length===1&&TS(v[0])==="number"&&v[0]>=0&&v[0]<=16777215)return"num"}});var MS=D,qd=C,lw=g,cw=m.unpack,uw=m.type,hw=Math.round;qd.prototype.rgb=function(v){return v===void 0&&(v=!0),v===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(hw)},qd.prototype.rgba=function(v){return v===void 0&&(v=!0),this._rgb.slice(0,4).map(function(k,T){return T<3?v===!1?k:hw(k):k})},MS.rgb=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];return new(Function.prototype.bind.apply(qd,[null].concat(v,["rgb"])))},lw.format.rgb=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];var T=cw(v,"rgba");return T[3]===void 0&&(T[3]=1),T},lw.autodetect.push({p:3,test:function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];if(v=cw(v,"rgba"),uw(v)==="array"&&(v.length===3||v.length===4&&uw(v[3])=="number"&&v[3]>=0&&v[3]<=1))return"rgb"}});var oc=Math.log,AS=function(v){var k=v/100,T,j,F;return k<66?(T=255,j=k<6?0:-155.25485562709179-.44596950469579133*(j=k-2)+104.49216199393888*oc(j),F=k<20?0:-254.76935184120902+.8274096064007395*(F=k-10)+115.67994401066147*oc(F)):(T=351.97690566805693+.114206453784165*(T=k-55)-40.25366309332127*oc(T),j=325.4494125711974+.07943456536662342*(j=k-50)-28.0852963507957*oc(j),F=255),[T,j,F,1]},dw=AS,DS=dw,PS=m.unpack,RS=Math.round,LS=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];for(var T=PS(v,"rgb"),j=T[0],F=T[2],Y=1e3,G=4e4,te=.4,ne;G-Y>te;){ne=(G+Y)*.5;var de=DS(ne);de[2]/de[0]>=F/j?G=ne:Y=ne}return RS(ne)},OS=LS,Fd=D,ac=C,Vd=g,HS=OS;ac.prototype.temp=ac.prototype.kelvin=ac.prototype.temperature=function(){return HS(this._rgb)},Fd.temp=Fd.kelvin=Fd.temperature=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];return new(Function.prototype.bind.apply(ac,[null].concat(v,["temp"])))},Vd.format.temp=Vd.format.kelvin=Vd.format.temperature=dw;var $S=m.unpack,Yd=Math.cbrt,jS=Math.pow,GS=Math.sign,BS=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];var T=$S(v,"rgb"),j=T[0],F=T[1],Y=T[2],G=[Jd(j/255),Jd(F/255),Jd(Y/255)],te=G[0],ne=G[1],de=G[2],ve=Yd(.4122214708*te+.5363325363*ne+.0514459929*de),Ne=Yd(.2119034982*te+.6806995451*ne+.1073969566*de),ke=Yd(.0883024619*te+.2817188376*ne+.6299787005*de);return[.2104542553*ve+.793617785*Ne-.0040720468*ke,1.9779984951*ve-2.428592205*Ne+.4505937099*ke,.0259040371*ve+.7827717662*Ne-.808675766*ke]},fw=BS;function Jd(v){var k=Math.abs(v);return k<.04045?v/12.92:(GS(v)||1)*jS((k+.055)/1.055,2.4)}var WS=m.unpack,ic=Math.pow,zS=Math.sign,qS=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];v=WS(v,"lab");var T=v[0],j=v[1],F=v[2],Y=ic(T+.3963377774*j+.2158037573*F,3),G=ic(T-.1055613458*j-.0638541728*F,3),te=ic(T-.0894841775*j-1.291485548*F,3);return[255*Ud(4.0767416621*Y-3.3077115913*G+.2309699292*te),255*Ud(-1.2684380046*Y+2.6097574011*G-.3413193965*te),255*Ud(-.0041960863*Y-.7034186147*G+1.707614701*te),v.length>3?v[3]:1]},mw=qS;function Ud(v){var k=Math.abs(v);return k>.0031308?(zS(v)||1)*(1.055*ic(k,1/2.4)-.055):v*12.92}var FS=m.unpack,VS=m.type,YS=D,pw=C,gw=g,JS=fw;pw.prototype.oklab=function(){return JS(this._rgb)},YS.oklab=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];return new(Function.prototype.bind.apply(pw,[null].concat(v,["oklab"])))},gw.format.oklab=mw,gw.autodetect.push({p:3,test:function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];if(v=FS(v,"oklab"),VS(v)==="array"&&v.length===3)return"oklab"}});var US=m.unpack,KS=fw,XS=Zy,QS=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];var T=US(v,"rgb"),j=T[0],F=T[1],Y=T[2],G=KS(j,F,Y),te=G[0],ne=G[1],de=G[2];return XS(te,ne,de)},ZS=QS,eC=m.unpack,tC=ew,nC=mw,rC=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];v=eC(v,"lch");var T=v[0],j=v[1],F=v[2],Y=tC(T,j,F),G=Y[0],te=Y[1],ne=Y[2],de=nC(G,te,ne),ve=de[0],Ne=de[1],ke=de[2];return[ve,Ne,ke,v.length>3?v[3]:1]},oC=rC,aC=m.unpack,iC=m.type,sC=D,yw=C,ww=g,lC=ZS;yw.prototype.oklch=function(){return lC(this._rgb)},sC.oklch=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];return new(Function.prototype.bind.apply(yw,[null].concat(v,["oklch"])))},ww.format.oklch=oC,ww.autodetect.push({p:3,test:function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];if(v=aC(v,"oklch"),iC(v)==="array"&&v.length===3)return"oklch"}});var vw=C,cC=m.type;vw.prototype.alpha=function(v,k){return k===void 0&&(k=!1),v!==void 0&&cC(v)==="number"?k?(this._rgb[3]=v,this):new vw([this._rgb[0],this._rgb[1],this._rgb[2],v],"rgb"):this._rgb[3]};var uC=C;uC.prototype.clipped=function(){return this._rgb._clipped||!1};var ua=C,hC=nc;ua.prototype.darken=function(v){v===void 0&&(v=1);var k=this,T=k.lab();return T[0]-=hC.Kn*v,new ua(T,"lab").alpha(k.alpha(),!0)},ua.prototype.brighten=function(v){return v===void 0&&(v=1),this.darken(-v)},ua.prototype.darker=ua.prototype.darken,ua.prototype.brighter=ua.prototype.brighten;var dC=C;dC.prototype.get=function(v){var k=v.split("."),T=k[0],j=k[1],F=this[T]();if(j){var Y=T.indexOf(j)-(T.substr(0,2)==="ok"?2:0);if(Y>-1)return F[Y];throw new Error("unknown channel "+j+" in mode "+T)}else return F};var Qa=C,fC=m.type,mC=Math.pow,pC=1e-7,gC=20;Qa.prototype.luminance=function(v){if(v!==void 0&&fC(v)==="number"){if(v===0)return new Qa([0,0,0,this._rgb[3]],"rgb");if(v===1)return new Qa([255,255,255,this._rgb[3]],"rgb");var k=this.luminance(),T="rgb",j=gC,F=function(G,te){var ne=G.interpolate(te,.5,T),de=ne.luminance();return Math.abs(v-de)<pC||!j--?ne:de>v?F(G,ne):F(ne,te)},Y=(k>v?F(new Qa([0,0,0]),this):F(this,new Qa([255,255,255]))).rgb();return new Qa(Y.concat([this._rgb[3]]))}return yC.apply(void 0,this._rgb.slice(0,3))};var yC=function(v,k,T){return v=Kd(v),k=Kd(k),T=Kd(T),.2126*v+.7152*k+.0722*T},Kd=function(v){return v/=255,v<=.03928?v/12.92:mC((v+.055)/1.055,2.4)},On={},bw=C,kw=m.type,sc=On,xw=function(v,k,T){T===void 0&&(T=.5);for(var j=[],F=arguments.length-3;F-- >0;)j[F]=arguments[F+3];var Y=j[0]||"lrgb";if(!sc[Y]&&!j.length&&(Y=Object.keys(sc)[0]),!sc[Y])throw new Error("interpolation mode "+Y+" is not defined");return kw(v)!=="object"&&(v=new bw(v)),kw(k)!=="object"&&(k=new bw(k)),sc[Y](v,k,T).alpha(v.alpha()+T*(k.alpha()-v.alpha()))},_w=C,wC=xw;_w.prototype.mix=_w.prototype.interpolate=function(v,k){k===void 0&&(k=.5);for(var T=[],j=arguments.length-2;j-- >0;)T[j]=arguments[j+2];return wC.apply(void 0,[this,v,k].concat(T))};var Iw=C;Iw.prototype.premultiply=function(v){v===void 0&&(v=!1);var k=this._rgb,T=k[3];return v?(this._rgb=[k[0]*T,k[1]*T,k[2]*T,T],this):new Iw([k[0]*T,k[1]*T,k[2]*T,T],"rgb")};var Xd=C,vC=nc;Xd.prototype.saturate=function(v){v===void 0&&(v=1);var k=this,T=k.lch();return T[1]+=vC.Kn*v,T[1]<0&&(T[1]=0),new Xd(T,"lch").alpha(k.alpha(),!0)},Xd.prototype.desaturate=function(v){return v===void 0&&(v=1),this.saturate(-v)};var Sw=C,Cw=m.type;Sw.prototype.set=function(v,k,T){T===void 0&&(T=!1);var j=v.split("."),F=j[0],Y=j[1],G=this[F]();if(Y){var te=F.indexOf(Y)-(F.substr(0,2)==="ok"?2:0);if(te>-1){if(Cw(k)=="string")switch(k.charAt(0)){case"+":G[te]+=+k;break;case"-":G[te]+=+k;break;case"*":G[te]*=+k.substr(1);break;case"/":G[te]/=+k.substr(1);break;default:G[te]=+k}else if(Cw(k)==="number")G[te]=k;else throw new Error("unsupported value for Color.set");var ne=new Sw(G,F);return T?(this._rgb=ne._rgb,this):ne}throw new Error("unknown channel "+Y+" in mode "+F)}else return G};var bC=C,kC=function(v,k,T){var j=v._rgb,F=k._rgb;return new bC(j[0]+T*(F[0]-j[0]),j[1]+T*(F[1]-j[1]),j[2]+T*(F[2]-j[2]),"rgb")};On.rgb=kC;var xC=C,Qd=Math.sqrt,Za=Math.pow,_C=function(v,k,T){var j=v._rgb,F=j[0],Y=j[1],G=j[2],te=k._rgb,ne=te[0],de=te[1],ve=te[2];return new xC(Qd(Za(F,2)*(1-T)+Za(ne,2)*T),Qd(Za(Y,2)*(1-T)+Za(de,2)*T),Qd(Za(G,2)*(1-T)+Za(ve,2)*T),"rgb")};On.lrgb=_C;var IC=C,SC=function(v,k,T){var j=v.lab(),F=k.lab();return new IC(j[0]+T*(F[0]-j[0]),j[1]+T*(F[1]-j[1]),j[2]+T*(F[2]-j[2]),"lab")};On.lab=SC;var Ew=C,ei=function(v,k,T,j){var F,Y,G,te;j==="hsl"?(G=v.hsl(),te=k.hsl()):j==="hsv"?(G=v.hsv(),te=k.hsv()):j==="hcg"?(G=v.hcg(),te=k.hcg()):j==="hsi"?(G=v.hsi(),te=k.hsi()):j==="lch"||j==="hcl"?(j="hcl",G=v.hcl(),te=k.hcl()):j==="oklch"&&(G=v.oklch().reverse(),te=k.oklch().reverse());var ne,de,ve,Ne,ke,Re;(j.substr(0,1)==="h"||j==="oklch")&&(F=G,ne=F[0],ve=F[1],ke=F[2],Y=te,de=Y[0],Ne=Y[1],Re=Y[2]);var De,Qe,tt,it;return!isNaN(ne)&&!isNaN(de)?(de>ne&&de-ne>180?it=de-(ne+360):de<ne&&ne-de>180?it=de+360-ne:it=de-ne,Qe=ne+T*it):isNaN(ne)?isNaN(de)?Qe=Number.NaN:(Qe=de,(ke==1||ke==0)&&j!="hsv"&&(De=Ne)):(Qe=ne,(Re==1||Re==0)&&j!="hsv"&&(De=ve)),De===void 0&&(De=ve+T*(Ne-ve)),tt=ke+T*(Re-ke),j==="oklch"?new Ew([tt,De,Qe],j):new Ew([Qe,De,tt],j)},CC=ei,Tw=function(v,k,T){return CC(v,k,T,"lch")};On.lch=Tw,On.hcl=Tw;var EC=C,TC=function(v,k,T){var j=v.num(),F=k.num();return new EC(j+T*(F-j),"num")};On.num=TC;var NC=ei,MC=function(v,k,T){return NC(v,k,T,"hcg")};On.hcg=MC;var AC=ei,DC=function(v,k,T){return AC(v,k,T,"hsi")};On.hsi=DC;var PC=ei,RC=function(v,k,T){return PC(v,k,T,"hsl")};On.hsl=RC;var LC=ei,OC=function(v,k,T){return LC(v,k,T,"hsv")};On.hsv=OC;var HC=C,$C=function(v,k,T){var j=v.oklab(),F=k.oklab();return new HC(j[0]+T*(F[0]-j[0]),j[1]+T*(F[1]-j[1]),j[2]+T*(F[2]-j[2]),"oklab")};On.oklab=$C;var jC=ei,GC=function(v,k,T){return jC(v,k,T,"oklch")};On.oklch=GC;var Zd=C,BC=m.clip_rgb,ef=Math.pow,tf=Math.sqrt,nf=Math.PI,Nw=Math.cos,Mw=Math.sin,WC=Math.atan2,zC=function(v,k,T){k===void 0&&(k="lrgb"),T===void 0&&(T=null);var j=v.length;T||(T=Array.from(new Array(j)).map(function(){return 1}));var F=j/T.reduce(function(Qe,tt){return Qe+tt});if(T.forEach(function(Qe,tt){T[tt]*=F}),v=v.map(function(Qe){return new Zd(Qe)}),k==="lrgb")return qC(v,T);for(var Y=v.shift(),G=Y.get(k),te=[],ne=0,de=0,ve=0;ve<G.length;ve++)if(G[ve]=(G[ve]||0)*T[0],te.push(isNaN(G[ve])?0:T[0]),k.charAt(ve)==="h"&&!isNaN(G[ve])){var Ne=G[ve]/180*nf;ne+=Nw(Ne)*T[0],de+=Mw(Ne)*T[0]}var ke=Y.alpha()*T[0];v.forEach(function(Qe,tt){var it=Qe.get(k);ke+=Qe.alpha()*T[tt+1];for(var dt=0;dt<G.length;dt++)if(!isNaN(it[dt]))if(te[dt]+=T[tt+1],k.charAt(dt)==="h"){var Qt=it[dt]/180*nf;ne+=Nw(Qt)*T[tt+1],de+=Mw(Qt)*T[tt+1]}else G[dt]+=it[dt]*T[tt+1]});for(var Re=0;Re<G.length;Re++)if(k.charAt(Re)==="h"){for(var De=WC(de/te[Re],ne/te[Re])/nf*180;De<0;)De+=360;for(;De>=360;)De-=360;G[Re]=De}else G[Re]=G[Re]/te[Re];return ke/=j,new Zd(G,k).alpha(ke>.99999?1:ke,!0)},qC=function(v,k){for(var T=v.length,j=[0,0,0,0],F=0;F<v.length;F++){var Y=v[F],G=k[F]/T,te=Y._rgb;j[0]+=ef(te[0],2)*G,j[1]+=ef(te[1],2)*G,j[2]+=ef(te[2],2)*G,j[3]+=te[3]*G}return j[0]=tf(j[0]),j[1]=tf(j[1]),j[2]=tf(j[2]),j[3]>.9999999&&(j[3]=1),new Zd(BC(j))},lr=D,ti=m.type,FC=Math.pow,rf=function(v){var k="rgb",T=lr("#ccc"),j=0,F=[0,1],Y=[],G=[0,0],te=!1,ne=[],de=!1,ve=0,Ne=1,ke=!1,Re={},De=!0,Qe=1,tt=function(xe){if(xe=xe||["#fff","#000"],xe&&ti(xe)==="string"&&lr.brewer&&lr.brewer[xe.toLowerCase()]&&(xe=lr.brewer[xe.toLowerCase()]),ti(xe)==="array"){xe.length===1&&(xe=[xe[0],xe[0]]),xe=xe.slice(0);for(var We=0;We<xe.length;We++)xe[We]=lr(xe[We]);Y.length=0;for(var et=0;et<xe.length;et++)Y.push(et/(xe.length-1))}return _n(),ne=xe},it=function(xe){if(te!=null){for(var We=te.length-1,et=0;et<We&&xe>=te[et];)et++;return et-1}return 0},dt=function(xe){return xe},Qt=function(xe){return xe},Jt=function(xe,We){var et,Ze;if(We==null&&(We=!1),isNaN(xe)||xe===null)return T;if(We)Ze=xe;else if(te&&te.length>2){var Zt=it(xe);Ze=Zt/(te.length-2)}else Ne!==ve?Ze=(xe-ve)/(Ne-ve):Ze=1;Ze=Qt(Ze),We||(Ze=dt(Ze)),Qe!==1&&(Ze=FC(Ze,Qe)),Ze=G[0]+Ze*(1-G[0]-G[1]),Ze=Math.min(1,Math.max(0,Ze));var bt=Math.floor(Ze*1e4);if(De&&Re[bt])et=Re[bt];else{if(ti(ne)==="array")for(var st=0;st<Y.length;st++){var ft=Y[st];if(Ze<=ft){et=ne[st];break}if(Ze>=ft&&st===Y.length-1){et=ne[st];break}if(Ze>ft&&Ze<Y[st+1]){Ze=(Ze-ft)/(Y[st+1]-ft),et=lr.interpolate(ne[st],ne[st+1],Ze,k);break}}else ti(ne)==="function"&&(et=ne(Ze));De&&(Re[bt]=et)}return et},_n=function(){return Re={}};tt(v);var ot=function(xe){var We=lr(Jt(xe));return de&&We[de]?We[de]():We};return ot.classes=function(xe){if(xe!=null){if(ti(xe)==="array")te=xe,F=[xe[0],xe[xe.length-1]];else{var We=lr.analyze(F);xe===0?te=[We.min,We.max]:te=lr.limits(We,"e",xe)}return ot}return te},ot.domain=function(xe){if(!arguments.length)return F;ve=xe[0],Ne=xe[xe.length-1],Y=[];var We=ne.length;if(xe.length===We&&ve!==Ne)for(var et=0,Ze=Array.from(xe);et<Ze.length;et+=1){var Zt=Ze[et];Y.push((Zt-ve)/(Ne-ve))}else{for(var bt=0;bt<We;bt++)Y.push(bt/(We-1));if(xe.length>2){var st=xe.map(function(mt,yt){return yt/(xe.length-1)}),ft=xe.map(function(mt){return(mt-ve)/(Ne-ve)});ft.every(function(mt,yt){return st[yt]===mt})||(Qt=function(mt){if(mt<=0||mt>=1)return mt;for(var yt=0;mt>=ft[yt+1];)yt++;var ur=(mt-ft[yt])/(ft[yt+1]-ft[yt]),Mo=st[yt]+ur*(st[yt+1]-st[yt]);return Mo})}}return F=[ve,Ne],ot},ot.mode=function(xe){return arguments.length?(k=xe,_n(),ot):k},ot.range=function(xe,We){return tt(xe),ot},ot.out=function(xe){return de=xe,ot},ot.spread=function(xe){return arguments.length?(j=xe,ot):j},ot.correctLightness=function(xe){return xe==null&&(xe=!0),ke=xe,_n(),ke?dt=function(We){for(var et=Jt(0,!0).lab()[0],Ze=Jt(1,!0).lab()[0],Zt=et>Ze,bt=Jt(We,!0).lab()[0],st=et+(Ze-et)*We,ft=bt-st,mt=0,yt=1,ur=20;Math.abs(ft)>.01&&ur-- >0;)(function(){return Zt&&(ft*=-1),ft<0?(mt=We,We+=(yt-We)*.5):(yt=We,We+=(mt-We)*.5),bt=Jt(We,!0).lab()[0],ft=bt-st})();return We}:dt=function(We){return We},ot},ot.padding=function(xe){return xe!=null?(ti(xe)==="number"&&(xe=[xe,xe]),G=xe,ot):G},ot.colors=function(xe,We){arguments.length<2&&(We="hex");var et=[];if(arguments.length===0)et=ne.slice(0);else if(xe===1)et=[ot(.5)];else if(xe>1){var Ze=F[0],Zt=F[1]-Ze;et=VC(0,xe,!1).map(function(yt){return ot(Ze+yt/(xe-1)*Zt)})}else{v=[];var bt=[];if(te&&te.length>2)for(var st=1,ft=te.length,mt=1<=ft;mt?st<ft:st>ft;mt?st++:st--)bt.push((te[st-1]+te[st])*.5);else bt=F;et=bt.map(function(yt){return ot(yt)})}return lr[We]&&(et=et.map(function(yt){return yt[We]()})),et},ot.cache=function(xe){return xe!=null?(De=xe,ot):De},ot.gamma=function(xe){return xe!=null?(Qe=xe,ot):Qe},ot.nodata=function(xe){return xe!=null?(T=lr(xe),ot):T},ot};function VC(v,k,T){for(var j=[],F=v<k,Y=T?F?k+1:k-1:k,G=v;F?G<Y:G>Y;F?G++:G--)j.push(G);return j}var bs=C,YC=rf,JC=function(v){for(var k=[1,1],T=1;T<v;T++){for(var j=[1],F=1;F<=k.length;F++)j[F]=(k[F]||0)+k[F-1];k=j}return k},UC=function(v){var k,T,j,F,Y,G,te;if(v=v.map(function(ke){return new bs(ke)}),v.length===2)k=v.map(function(ke){return ke.lab()}),Y=k[0],G=k[1],F=function(ke){var Re=[0,1,2].map(function(De){return Y[De]+ke*(G[De]-Y[De])});return new bs(Re,"lab")};else if(v.length===3)T=v.map(function(ke){return ke.lab()}),Y=T[0],G=T[1],te=T[2],F=function(ke){var Re=[0,1,2].map(function(De){return(1-ke)*(1-ke)*Y[De]+2*(1-ke)*ke*G[De]+ke*ke*te[De]});return new bs(Re,"lab")};else if(v.length===4){var ne;j=v.map(function(ke){return ke.lab()}),Y=j[0],G=j[1],te=j[2],ne=j[3],F=function(ke){var Re=[0,1,2].map(function(De){return(1-ke)*(1-ke)*(1-ke)*Y[De]+3*(1-ke)*(1-ke)*ke*G[De]+3*(1-ke)*ke*ke*te[De]+ke*ke*ke*ne[De]});return new bs(Re,"lab")}}else if(v.length>=5){var de,ve,Ne;de=v.map(function(ke){return ke.lab()}),Ne=v.length-1,ve=JC(Ne),F=function(ke){var Re=1-ke,De=[0,1,2].map(function(Qe){return de.reduce(function(tt,it,dt){return tt+ve[dt]*Math.pow(Re,Ne-dt)*Math.pow(ke,dt)*it[Qe]},0)});return new bs(De,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return F},KC=function(v){var k=UC(v);return k.scale=function(){return YC(k)},k},of=D,cr=function(v,k,T){if(!cr[T])throw new Error("unknown blend mode "+T);return cr[T](v,k)},To=function(v){return function(k,T){var j=of(T).rgb(),F=of(k).rgb();return of.rgb(v(j,F))}},No=function(v){return function(k,T){var j=[];return j[0]=v(k[0],T[0]),j[1]=v(k[1],T[1]),j[2]=v(k[2],T[2]),j}},XC=function(v){return v},QC=function(v,k){return v*k/255},ZC=function(v,k){return v>k?k:v},eE=function(v,k){return v>k?v:k},tE=function(v,k){return 255*(1-(1-v/255)*(1-k/255))},nE=function(v,k){return k<128?2*v*k/255:255*(1-2*(1-v/255)*(1-k/255))},rE=function(v,k){return 255*(1-(1-k/255)/(v/255))},oE=function(v,k){return v===255?255:(v=255*(k/255)/(1-v/255),v>255?255:v)};cr.normal=To(No(XC)),cr.multiply=To(No(QC)),cr.screen=To(No(tE)),cr.overlay=To(No(nE)),cr.darken=To(No(ZC)),cr.lighten=To(No(eE)),cr.dodge=To(No(oE)),cr.burn=To(No(rE));for(var aE=cr,af=m.type,iE=m.clip_rgb,sE=m.TWOPI,lE=Math.pow,cE=Math.sin,uE=Math.cos,Aw=D,hE=function(v,k,T,j,F){v===void 0&&(v=300),k===void 0&&(k=-1.5),T===void 0&&(T=1),j===void 0&&(j=1),F===void 0&&(F=[0,1]);var Y=0,G;af(F)==="array"?G=F[1]-F[0]:(G=0,F=[F,F]);var te=function(ne){var de=sE*((v+120)/360+k*ne),ve=lE(F[0]+G*ne,j),Ne=Y!==0?T[0]+ne*Y:T,ke=Ne*ve*(1-ve)/2,Re=uE(de),De=cE(de),Qe=ve+ke*(-.14861*Re+1.78277*De),tt=ve+ke*(-.29227*Re-.90649*De),it=ve+ke*(1.97294*Re);return Aw(iE([Qe*255,tt*255,it*255,1]))};return te.start=function(ne){return ne==null?v:(v=ne,te)},te.rotations=function(ne){return ne==null?k:(k=ne,te)},te.gamma=function(ne){return ne==null?j:(j=ne,te)},te.hue=function(ne){return ne==null?T:(T=ne,af(T)==="array"?(Y=T[1]-T[0],Y===0&&(T=T[1])):Y=0,te)},te.lightness=function(ne){return ne==null?F:(af(ne)==="array"?(F=ne,G=ne[1]-ne[0]):(F=[ne,ne],G=0),te)},te.scale=function(){return Aw.scale(te)},te.hue(T),te},dE=C,fE="0123456789abcdef",mE=Math.floor,pE=Math.random,gE=function(){for(var v="#",k=0;k<6;k++)v+=fE.charAt(mE(pE()*16));return new dE(v,"hex")},sf=c,Dw=Math.log,yE=Math.pow,wE=Math.floor,vE=Math.abs,Pw=function(v,k){k===void 0&&(k=null);var T={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return sf(v)==="object"&&(v=Object.values(v)),v.forEach(function(j){k&&sf(j)==="object"&&(j=j[k]),j!=null&&!isNaN(j)&&(T.values.push(j),T.sum+=j,j<T.min&&(T.min=j),j>T.max&&(T.max=j),T.count+=1)}),T.domain=[T.min,T.max],T.limits=function(j,F){return Rw(T,j,F)},T},Rw=function(v,k,T){k===void 0&&(k="equal"),T===void 0&&(T=7),sf(v)=="array"&&(v=Pw(v));var j=v.min,F=v.max,Y=v.values.sort(function(cf,uf){return cf-uf});if(T===1)return[j,F];var G=[];if(k.substr(0,1)==="c"&&(G.push(j),G.push(F)),k.substr(0,1)==="e"){G.push(j);for(var te=1;te<T;te++)G.push(j+te/T*(F-j));G.push(F)}else if(k.substr(0,1)==="l"){if(j<=0)throw new Error("Logarithmic scales are only possible for values > 0");var ne=Math.LOG10E*Dw(j),de=Math.LOG10E*Dw(F);G.push(j);for(var ve=1;ve<T;ve++)G.push(yE(10,ne+ve/T*(de-ne)));G.push(F)}else if(k.substr(0,1)==="q"){G.push(j);for(var Ne=1;Ne<T;Ne++){var ke=(Y.length-1)*Ne/T,Re=wE(ke);if(Re===ke)G.push(Y[Re]);else{var De=ke-Re;G.push(Y[Re]*(1-De)+Y[Re+1]*De)}}G.push(F)}else if(k.substr(0,1)==="k"){var Qe,tt=Y.length,it=new Array(tt),dt=new Array(T),Qt=!0,Jt=0,_n=null;_n=[],_n.push(j);for(var ot=1;ot<T;ot++)_n.push(j+ot/T*(F-j));for(_n.push(F);Qt;){for(var xe=0;xe<T;xe++)dt[xe]=0;for(var We=0;We<tt;We++)for(var et=Y[We],Ze=Number.MAX_VALUE,Zt=void 0,bt=0;bt<T;bt++){var st=vE(_n[bt]-et);st<Ze&&(Ze=st,Zt=bt),dt[Zt]++,it[We]=Zt}for(var ft=new Array(T),mt=0;mt<T;mt++)ft[mt]=null;for(var yt=0;yt<tt;yt++)Qe=it[yt],ft[Qe]===null?ft[Qe]=Y[yt]:ft[Qe]+=Y[yt];for(var ur=0;ur<T;ur++)ft[ur]*=1/dt[ur];Qt=!1;for(var Mo=0;Mo<T;Mo++)if(ft[Mo]!==_n[Mo]){Qt=!0;break}_n=ft,Jt++,Jt>200&&(Qt=!1)}for(var Ao={},ni=0;ni<T;ni++)Ao[ni]=[];for(var ri=0;ri<tt;ri++)Qe=it[ri],Ao[Qe].push(Y[ri]);for(var Xr=[],ha=0;ha<T;ha++)Xr.push(Ao[ha][0]),Xr.push(Ao[ha][Ao[ha].length-1]);Xr=Xr.sort(function(cf,uf){return cf-uf}),G.push(Xr[0]);for(var ks=1;ks<Xr.length;ks+=2){var da=Xr[ks];!isNaN(da)&&G.indexOf(da)===-1&&G.push(da)}}return G},Lw={analyze:Pw,limits:Rw},Ow=C,bE=function(v,k){v=new Ow(v),k=new Ow(k);var T=v.luminance(),j=k.luminance();return T>j?(T+.05)/(j+.05):(j+.05)/(T+.05)},Hw=C,Kr=Math.sqrt,Wt=Math.pow,kE=Math.min,xE=Math.max,$w=Math.atan2,jw=Math.abs,lc=Math.cos,Gw=Math.sin,_E=Math.exp,Bw=Math.PI,IE=function(v,k,T,j,F){T===void 0&&(T=1),j===void 0&&(j=1),F===void 0&&(F=1);var Y=function(da){return 360*da/(2*Bw)},G=function(da){return 2*Bw*da/360};v=new Hw(v),k=new Hw(k);var te=Array.from(v.lab()),ne=te[0],de=te[1],ve=te[2],Ne=Array.from(k.lab()),ke=Ne[0],Re=Ne[1],De=Ne[2],Qe=(ne+ke)/2,tt=Kr(Wt(de,2)+Wt(ve,2)),it=Kr(Wt(Re,2)+Wt(De,2)),dt=(tt+it)/2,Qt=.5*(1-Kr(Wt(dt,7)/(Wt(dt,7)+Wt(25,7)))),Jt=de*(1+Qt),_n=Re*(1+Qt),ot=Kr(Wt(Jt,2)+Wt(ve,2)),xe=Kr(Wt(_n,2)+Wt(De,2)),We=(ot+xe)/2,et=Y($w(ve,Jt)),Ze=Y($w(De,_n)),Zt=et>=0?et:et+360,bt=Ze>=0?Ze:Ze+360,st=jw(Zt-bt)>180?(Zt+bt+360)/2:(Zt+bt)/2,ft=1-.17*lc(G(st-30))+.24*lc(G(2*st))+.32*lc(G(3*st+6))-.2*lc(G(4*st-63)),mt=bt-Zt;mt=jw(mt)<=180?mt:bt<=Zt?mt+360:mt-360,mt=2*Kr(ot*xe)*Gw(G(mt)/2);var yt=ke-ne,ur=xe-ot,Mo=1+.015*Wt(Qe-50,2)/Kr(20+Wt(Qe-50,2)),Ao=1+.045*We,ni=1+.015*We*ft,ri=30*_E(-Wt((st-275)/25,2)),Xr=2*Kr(Wt(We,7)/(Wt(We,7)+Wt(25,7))),ha=-Xr*Gw(2*G(ri)),ks=Kr(Wt(yt/(T*Mo),2)+Wt(ur/(j*Ao),2)+Wt(mt/(F*ni),2)+ha*(ur/(j*Ao))*(mt/(F*ni)));return xE(0,kE(100,ks))},Ww=C,SE=function(v,k,T){T===void 0&&(T="lab"),v=new Ww(v),k=new Ww(k);var j=v.get(T),F=k.get(T),Y=0;for(var G in j){var te=(j[G]||0)-(F[G]||0);Y+=te*te}return Math.sqrt(Y)},CE=C,EE=function(){for(var v=[],k=arguments.length;k--;)v[k]=arguments[k];try{return new(Function.prototype.bind.apply(CE,[null].concat(v))),!0}catch{return!1}},zw=D,qw=rf,TE={cool:function(){return qw([zw.hsl(180,1,.9),zw.hsl(250,.7,.4)])},hot:function(){return qw(["#000","#f00","#ff0","#fff"]).mode("rgb")}},cc={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},lf=0,Fw=Object.keys(cc);lf<Fw.length;lf+=1){var Vw=Fw[lf];cc[Vw.toLowerCase()]=cc[Vw]}var NE=cc,Yt=D;Yt.average=zC,Yt.bezier=KC,Yt.blend=aE,Yt.cubehelix=hE,Yt.mix=Yt.interpolate=xw,Yt.random=gE,Yt.scale=rf,Yt.analyze=Lw.analyze,Yt.contrast=bE,Yt.deltaE=IE,Yt.distance=SE,Yt.limits=Lw.limits,Yt.valid=EE,Yt.scales=TE,Yt.colors=ow,Yt.brewer=NE;var ME=Yt;return ME})})(jI);var l9=jI.exports;const Ue=Sl(l9),nd=["default","llm","group","sentiment","importance"],c9=Ue.scale("YlOrRd").padding([.25,.1]).colors(7).reverse(),u9=Ue.scale("YlGn").padding([.35,.55]).colors(2),h9=Ue.scale("YlGnBu").padding([.35,.1]).colors(7),d9=Ue.scale("RdPu").padding([.3,.1]).colors(7).reverse(),GI=Ue.scale(c9.concat(u9).concat(h9).concat(d9)),f9=Ue.scale("RdBu").padding([.6,0]).colors(7).reverse(),m9=Ue.scale("RdBu").padding([0,.6]).colors(7).reverse(),wr=Ue.scale(f9.concat("#ddd").concat(m9)).domain([-1,1]),rd=Ue.scale("Greens").padding([.25,0]),vr=Ue.scale("Purples").padding([.25,0]),od=Ue.scale("Oranges").padding([.25,0]),ad=Ue.scale("Blues").padding([.25,0]);ya(KO),ya(e9),ya(VO),ya(QO),ya(qO),ya(JO);const Ls=(e,t)=>t?e<.6&&e>-.6?"black":"white":e<.6?"black":"white",ql=e=>{const t=e.domain();return xR(t[0],t[1]+(t[1]-t[0])/4,(t[1]-t[0])/4).sort((o,a)=>o-a)},p9=ql(wr),g9=ql(rd),y9=ql(vr),w9=ql(od),v9=ql(ad),N0={length:w9,importance:y9,conflict:g9,sentiment:p9,numChars:v9},xo=(e,t)=>{const o=t.map(i=>i.character).indexOf(e)/(t.length-1);return Ue(GI(o)).css()},zr=(e,t,n=!1,r=-1)=>{const a=t.indexOf(e)/(t.length-1);let i=Ue(GI(a));return n&&r!==-1&&(i=Ue(i).saturate(r)),i.css()},ss=(e,t)=>{const n=t.find(r=>r.character===e);return n==null?void 0:n.color},BI=e=>{const t=e.match(/\d+/g);if(!t)return"black";const n=parseInt(t[0]),r=parseInt(t[1]),o=parseInt(t[2]);return n*.299+r*.587+o*.114>100?"black":"white"},tr=(e,t,n,r)=>{var s;const o=t.find(l=>l.character===n),a=(s=o==null?void 0:o[r])==null?void 0:s.val,i=e.find(l=>l.val===a);return i?i.color:"gray"},id=["location","character","character (stacked)","importance","sentiment"],b9="'Shantell Sans', cursive",Jo=670,k9=750,Xt=100,$t=Xt/5,Ii=100,x9=Ii,_9=Ii/2,qe=12,Je=1.5*qe,qs=Xt+2*qe,I9=(e,t)=>{let n;return t.length<=24?n=(2200+100*Math.max(e.length-6,0))/t.length:n=100,n},S9=e=>e[e.length-1]&&e[e.length-1].x+_9,zt=(e,t,n,r,o)=>r+(e-t)*(o-r)/(n-t),$y=e=>zt(e,0,qe,1,14),Hc=e=>zt(e,0,1,.5,1.2),$c=e=>zt(e,0,1,1,2.2),su=(e,t)=>{const n=1/t;return zt(e,n,1,0,1)},jc=e=>e<.125?100:e<.25?200:e<.375?300:e<.5?400:e<.625?500:e<.75?600:e<.875?700:800,Ma=e=>e.replace(/[^a-zA-Z ]/g,""),Zu=e=>e&&(e.startsWith("Act")||e==="Prologue"||e.toLowerCase().includes("chapter")||e.includes("#")),_r=e=>{if(e&&e.includes(":")?e=e.split(":")[0]:e&&e.includes(".")&&(e=e.split(".")[0]),e&&e.toLowerCase().includes("the last"))return e;e=e.replace(/#/g,""),e=e.trim();const t=e&&e.match(/^chapter \S+/i);return t?t[0]:e},C9=(e,t)=>{const n=e.replace("-themes",""),r=t.replace("-themes","");return n===r},tl=(e,t,n,r)=>{const o=e.find(a=>a.character===t);return o&&o[n]&&o[n].val===r},Uo=(e,t,n,r)=>e.some(o=>tl(t,o,n,r)),Ri=(e,t)=>{const n=[];let r="",o=e.split(" ");for(let a=0;a<o.length;a++)r.length+o[a].length<t?r+=o[a]+" ":(n.push(r),r=o[a]+" ");return n.push(r),n},Fl=e=>e.startsWith('"')||e.endsWith('"')||e.startsWith("")||e.endsWith("")||e.startsWith("")||e.endsWith("")||e.startsWith("'")||e.endsWith("'"),E9=e=>{const t=e.chapters;return t?(t.forEach(n=>{n.numScenes=n.numScenes?n.numScenes:n.scenes,n.numLines=n.numLines?n.numLines:n.num_lines;const r=n.importance_rank;r>1&&(n.importance=(t.length+1-r)/t.length),delete n.num_lines,delete n.importance_rank,delete n.conflict_rank,delete n.length,delete n.scenes}),t):[]},T9=(e,t)=>{let n=e.scenes;return n.forEach((r,o)=>{r.name=r.name?r.name:r.title,r.number=o+1,r.numLines=r.num_lines?r.num_lines:r.numLines,r.firstLine=r.firstLine?r.firstLine:r.first_line?r.first_line:1,r.lastLine=r.lastLine?r.lastLine:r.last_line?r.last_line:r.numLines,r.ratings=r.ratings?r.ratings:{},r.ratings.conflict=r.ratings.conflict?r.ratings.conflict:r.conflict?r.conflict:0;let a=1,i=n.length,s=0;if(t.length>0){const d=t.find(f=>f.chapter===r.chapter);i=d?d.numScenes:n.length,s=d?d.importance:0,a=.5}const l=r.importance_rank?r.importance_rank:r.ratings.importance;(l>1||!r.ratings.importance)&&(r.ratings.importance=(i+1-l)/i*a+s*a);const c=r.characters,u=c.length,h=[];c.forEach(d=>{d.importance_rank=d.importance_rank?d.importance_rank:d.importance>=1?d.importance:d.importance*u,d.importance=(u-(d.importance_rank-1))/u,d.rating=d.rating?d.rating:d.sentiment?d.sentiment:0,h.push(d.rating);const f=d.quote;d.quote=Fl(f)?f:'"'+f+'"';const w=d.fake_quote;d.fake_quote=w&&!w.includes("No quote available")?w:w&&!d.quote.includes("No quote available")?d.quote:"",delete d.sentiment}),r.ratings.sentiment=r.ratings.sentiment?r.ratings.sentiment:h.reduce((d,f)=>d+f,0)/h.length,delete r.conflict,delete r.conflict_rank,delete r.importance,delete r.importance_rank,delete r.first_line,delete r.last_line,delete r.length,delete r.title,delete r.num_lines}),n},N9=(e,t)=>{const n=[];return e.forEach((r,o)=>{const a={};a.number=o+1,a.name=r.chapter,a.chapter=r.chapter,a.summary=r.summary,a.numLines=r.numLines,a.firstLine=1,a.lastLine=r.numLines,a.numScenes=r.numScenes;const i=r.locations,s=Object.entries(i).sort(([,g],[,p])=>p-g).reduce((g,[p,y])=>(g[p]=y,g),{}),c=Object.keys(s)[0];a.location=c,a.allLocations=s;const u=t.filter(g=>g.chapter===a.chapter);let h=[];r.links?h=r.links:u.forEach(g=>{g.characters.forEach((p,y)=>{for(let b=y+1;b<g.characters.length;b++){const _=g.characters[b],x=h.find(C=>C.source===p.name&&C.target===_.name||C.source===_.name&&C.target===p.name);x?x.value+=1:h.push({source:p.name,target:_.name,value:1})}})});const d=u.reduce((g,p)=>g+p.ratings.sentiment,0)/u.length;a.ratings={importance:r.importance,conflict:r.conflict,sentiment:d};const w=Object.keys(r.characters).sort((g,p)=>r.characters[p]-r.characters[g]),m=w.map(g=>{const b=u.filter(D=>D.characters.some(q=>q.name===g)).sort((D,q)=>D.ratings.importance-q.ratings.importance)[0],_=b&&u.findIndex(D=>D.number===b.number),x=b&&b.characters.find(D=>D.name===g),C=x?Fl(x.quote)?x.quote:'"'+x.quote+'"':"",O=x&&x.fake_quote?x.fake_quote:"";return{emotion:x?x.emotion:"",quote:C,fake_quote:O,rating:x?x.rating:0,top_scene:_?_+1:1}});a.characters=w.map((g,p)=>{const y=(w.length+1-(p+1))/w.length;return{name:g,importance:y,importance_rank:p+1,emotion:m[p].emotion,quote:m[p].quote,fake_quote:m[p].fake_quote,rating:m[p].rating,role:"",top_scene:m[p].top_scene,numScenes:r.characters[g]?r.characters[g]:0}}),a.links=h,n.push(a)}),n},M9=e=>Array.from(new Set(e.map(t=>t.location))),A9=e=>{const t=e.locations;return t.forEach(n=>{n.quote=Fl(n.quote)?n.quote:'"'+n.quote+'"'}),t},D9=e=>Array.from(new Set(e.flatMap(t=>t.characters.map(n=>n.name)))),P9=e=>{const t=e.characters;return t.forEach(n=>{n.character=n.character?n.character:n.name,n.key=n.key?n.key:n.character,n.group=n.group.toLowerCase(),Array.isArray(n.explanation)||(n.explanation=Ri(n.explanation,92)),n.quote=Fl(n.quote)?n.quote:'"'+n.quote+'"',delete n.name}),t},R9=(e,t)=>{const r=Array.from(new Set(e.map(i=>i.group))).map(i=>e.filter(s=>s.group===i));r.forEach(i=>{i.sort((s,l)=>{const c=t.findIndex(h=>h.character.toLowerCase()===s.character.toLowerCase()),u=t.findIndex(h=>h.character.toLowerCase()===l.character.toLowerCase());return c===-1&&u!==-1?1:u===-1&&c!==-1?-1:c-u})}),r.sort((i,s)=>{const l=t.findIndex(u=>u.character.toLowerCase()===i[0].character.toLowerCase()),c=t.findIndex(u=>u.character.toLowerCase()===s[0].character.toLowerCase());return l===-1&&c!==-1?1:c===-1&&l!==-1?-1:l-c});const o=r.flat(),a=o.filter(i=>!i.color||i.color==="");return o.forEach(i=>{if(i.color&&i.color==="rgb(255, 255, 255)")i.color="rgb(255, 240, 240)";else if(!i.color||i.color===""){const s=xo(i.character,a);i.color=s}}),o},L9=(e,t)=>e.map(n=>({character:n,scenes:t.filter(r=>r.characters.some(o=>o.name.toLowerCase()===n.toLowerCase())).map(r=>r.number-1),locations:t.filter(r=>r.characters.some(o=>o.name.toLowerCase()===n.toLowerCase())).map(r=>r.location)})).sort((n,r)=>{const o=r.scenes.length-n.scenes.length;return o!==0?o:n.character.localeCompare(r.character)}),O9=e=>e.map(t=>t.name),H9=e=>e.map(t=>t.location),$9=(e,t)=>e.map(n=>Ri(t?_r(n):n,20)),j9=(e,t,n,r)=>e.map(o=>{const i=t.find(l=>l.name===o).characters.map(l=>l.name).sort((l,c)=>{const u=n.findIndex(d=>d.character.toLowerCase()===l.toLowerCase()),h=n.findIndex(d=>d.character.toLowerCase()===c.toLowerCase());return u-h});let s=i.map(l=>{var c;return((c=r.find(u=>u.character===l))==null?void 0:c.group)||""});return s=Array.from(new Set(s)).filter(l=>l!==""),{scene:o,characters:i,groups:s}}),G9=e=>e.map(t=>{const r=t.characters,a=r.map(s=>{const l=Ri(Fl(s.quote)?s.quote:'"'+s.quote+'"',117),c=Ri(s.fake_quote?s.fake_quote:"",117);return{character:s.name,emotion_quote:l,fake_quote:c}}).sort((s,l)=>{var h,d;const c=((h=r.find(f=>f.name===s.character))==null?void 0:h.importance_rank)||0,u=((d=r.find(f=>f.name===l.character))==null?void 0:d.importance_rank)||0;return c-u}),i=Ri(t.summary,117);return{scene:t.name,summary:i,emotions:a}}),bp=e=>{const t=Math.min(...e.map(r=>r.numLines)),n=Math.max(...e.map(r=>r.numLines));return[t,n]},B9=e=>{const t=bp(e),n=t[0],r=t[1];return{minLines:n,maxLines:r}},W9=(e,t)=>Array.from(new Set(e.map(o=>o.chapter))).map(o=>{const a=e.findIndex(h=>h.chapter===o),i=e.filter(h=>h.chapter===o),s=i.map(h=>h.name),l=Array.from(new Set(i.map(h=>h.location))),c=Array.from(new Set(i.flatMap(h=>h.characters.map(d=>d.name)))),u=Array.from(new Set(c.map(h=>{var d;return((d=t.find(f=>f.character===h))==null?void 0:d.group)||""})));return{chapter:o,index:a,scenes:s,locations:l,characters:c,groups:u}}),jy=(e,t,n="",r=[])=>{const o=E9(e),a=bp(e.scenes.map($=>{const S=$;return S.numLines||(S.numLines=S.num_lines),S})),i=a[0],s=a[1];let l=T9(e,o);const c=[...l],u=N9(o,l),h=bp(u.map($=>{const S=$;return S.numLines||(S.numLines=S.num_lines),S})),d=h[0],f=h[1],w=[...u];r.length>0&&w.forEach($=>{const S=l.filter(R=>R.chapter===$.chapter),H=$.characters;H.forEach(R=>{const V=R.name,W=S.filter(oe=>oe.characters.map(le=>le.name).includes(V));r.forEach(oe=>{const le=W.map(ce=>{var ge;return(ge=ce.characters.find(Ee=>Ee.name===V))==null?void 0:ge[oe]}),Q=le.reduce((ce,ge)=>ce+ge,0)/le.length;R[oe]=Q})});const N={};r.forEach(R=>{N[R]=H.map(V=>({name:V.name,rating:V[R]})).sort((V,W)=>V.rating-W.rating)}),r.forEach(R=>{H.forEach(V=>{const W=N[R].findIndex(oe=>oe.name===V.name);V[R]=W+1})})}),t&&u.length>0&&(l=[...u]),n!==""&&(l=l.filter($=>$.chapter===n).map(($,S)=>($.number=S+1,$)));const m=A9(e),g=P9(e),p=M9(l),y=D9(l),b=L9(y,l),_=R9(g,b),x=O9(l),C=H9(l),O=$9(x,t),D=j9(x,l,b,_),q=G9(l),J=B9(l),K=J.minLines,B=J.maxLines,Z=W9(l,_),M=Z.length;return{scene_data:l,og_scene_data:c,chapter_data:u,location_data:m,character_data:g,locations:p,characters:y,characterScenes:b,sortedCharacters:_,scenes:x,sceneLocations:C,sceneChunks:O,sceneCharacters:D,sceneSummaries:q,minLines:K,maxLines:B,sceneMin:i,sceneMax:s,chapterMin:d,chapterMax:f,chapterDivisions:Z,num_chapters:M}},WI="The Great Gatsby",zI="Book",qI="F. Scott Fitzgerald",FI=1925,VI="https://www.gutenberg.org/ebooks/64317",YI="https://m.media-amazon.com/images/I/61z0MrB6qOS._AC_UF1000,1000_QL80_.jpg",JI=9,UI=60,KI=37,XI=12,QI=[{chapter:"I",scenes:4,length:38374,num_lines:560,summary:"The narrator contemplates his father's wisdom on judgment while recounting his family's history and his relocation to the East, culminating in a dinner visit with Tom and Daisy Buchanan that leaves him pondering the complexities of their lives.",importance:.82,conflict:.4,locations:{"Narrator's Reflection":1,"West Egg":1,"Tom Buchanan's Mansion":1,"Daisy's House":1},characters:{"Nick Carraway":4,"Jay Gatsby":3,"Tom Buchanan":2,"Daisy Buchanan":2,"Jordan Baker":1},links:[{source:"Nick Carraway",target:"Jay Gatsby",value:3,interaction:"Nick reflects on Gatsby's mysterious persona and his own feelings about him, hinting at a future encounter."},{source:"Tom Buchanan",target:"Daisy Buchanan",value:2,interaction:"Tom and Daisy interact in a tense but familiar manner, showcasing their complicated relationship during dinner."},{source:"Tom Buchanan",target:"Jordan Baker",value:1,interaction:"Tom engages with Jordan, displaying his arrogance and dismissive attitude towards her opinions."},{source:"Tom Buchanan",target:"Nick Carraway",value:2,interaction:"Tom treats Nick with a sense of superiority, revealing his disdain for Nick's background and subtly asserting his dominance."},{source:"Daisy Buchanan",target:"Jordan Baker",value:1,interaction:"Daisy and Jordan share a moment of camaraderie, discussing their lives and the superficiality of their social circle."},{source:"Daisy Buchanan",target:"Nick Carraway",value:2,interaction:"Daisy confides in Nick about her dissatisfaction with her life, seeking his understanding and support."},{source:"Jordan Baker",target:"Nick Carraway",value:1,interaction:"Jordan flirts with Nick, drawing him into her world while also revealing her cynical view of relationships."},{source:"Tom Buchanan",target:"Jay Gatsby",value:1,interaction:"Tom expresses hostility towards Gatsby, foreshadowing the conflict between them over Daisy."},{source:"Daisy Buchanan",target:"Jay Gatsby",value:1,interaction:"Daisy's feelings for Gatsby are hinted at, creating tension as she navigates her loyalty to Tom."}],importance_rank:3,conflict_rank:6},{chapter:"II",scenes:4,length:27456,num_lines:407,summary:"The chapter depicts the desolate Valley of Ashes, home to the downtrodden, where the narrator encounters Tom Buchanan's mistress, Myrtle, leading to a lavish yet morally ambiguous party in New York.",importance:.8,conflict:.53,locations:{"Valley Of Ashes":1,"New York City":2,"Front Door":1},characters:{"Tom Buchanan":4,"Doctor T. J. Eckleburg":2,"Nick Carraway":2,"George Wilson":1,"Myrtle Wilson":2,Catherine:1,"Mr. Mckee":1,"Mrs. Mckee":1},links:[{source:"Tom Buchanan",target:"Doctor T. J. Eckleburg",value:2,interaction:"Tom does not directly interact with the eyes of Doctor T. J. Eckleburg, but they symbolize his moral decay and the emptiness of his pursuits."},{source:"Tom Buchanan",target:"Nick Carraway",value:2,interaction:"Tom and Nick interact when Tom introduces Nick to Myrtle and later during their time in New York, showcasing Tom's arrogance and dominance."},{source:"Tom Buchanan",target:"George Wilson",value:1,interaction:"Tom meets George at the garage, where he displays disdain for George and his situation, highlighting the class divide."},{source:"Nick Carraway",target:"Doctor T. J. Eckleburg",value:1,interaction:"Nick observes the eyes of Doctor T. J. Eckleburg, reflecting on their significance as a moral compass in the story."},{source:"Nick Carraway",target:"George Wilson",value:1,interaction:"Nick interacts with George at the garage, sensing George's despair and hopelessness regarding his marriage and life."},{source:"Doctor T. J. Eckleburg",target:"George Wilson",value:1,interaction:"George frequently looks at the eyes of Doctor T. J. Eckleburg, interpreting them as a sign of judgment on his life and actions."},{source:"Tom Buchanan",target:"Myrtle Wilson",value:2,interaction:"Tom and Myrtle have a tumultuous relationship, marked by Tom's control and Myrtle's desire for a better life, which culminates in their trip to New York."},{source:"Myrtle Wilson",target:"Nick Carraway",value:1,interaction:"Myrtle interacts with Nick at the garage and later at the apartment, treating him with a mix of disdain and flirtation."},{source:"Catherine",target:"Myrtle Wilson",value:1,interaction:"Catherine and Myrtle share a close friendship, with Catherine supporting Myrtle's affair with Tom and participating in the party."},{source:"Catherine",target:"Tom Buchanan",value:1,interaction:"Catherine interacts with Tom at the party, acknowledging his status and wealth, which she admires."},{source:"Catherine",target:"Mr. Mckee",value:1,interaction:"Catherine interacts with Mr. Mckee at the party, engaging in conversation and socializing."},{source:"Catherine",target:"Mrs. Mckee",value:1,interaction:"Catherine interacts with Mrs. Mckee during the party, contributing to the social atmosphere."},{source:"Myrtle Wilson",target:"Mr. Mckee",value:1,interaction:"Myrtle interacts with Mr. Mckee at the party, showcasing her flirtatious nature and desire for attention."},{source:"Myrtle Wilson",target:"Mrs. Mckee",value:1,interaction:"Myrtle interacts with Mrs. Mckee at the party, highlighting the social dynamics among the guests."},{source:"Tom Buchanan",target:"Mr. Mckee",value:1,interaction:"Tom interacts with Mr. Mckee at the party, displaying his superiority and dismissive attitude."},{source:"Tom Buchanan",target:"Mrs. Mckee",value:1,interaction:"Tom interacts with Mrs. Mckee at the party, maintaining his aloofness and sense of entitlement."},{source:"Mr. Mckee",target:"Mrs. Mckee",value:1,interaction:"Mr. and Mrs. Mckee interact during the party, contributing to the social environment and dynamics among the guests."}],importance_rank:6,conflict_rank:4},{chapter:"III",scenes:11,length:37862,num_lines:555,summary:"Nick attends one of Gatsby's lavish parties, feeling out of place among the gossiping guests, and eventually meets Gatsby while searching for him with Jordan Baker.",importance:.77,conflict:.29,locations:{"Gatsby's House":11},characters:{"Jay Gatsby":5,"Nick Carraway":6,"The Gypsy Dancer":1,"Young Englishmen":1,"Solid And Prosperous Americans":1,"Jordan Baker":6,Lucille:1,"First Girl":1,"Mr. Mumble (one Of The Men)":1,"Undergraduate Escort":1,"Owl-eyed Man":2,"Rowdy Little Girl":1},links:[{source:"Jay Gatsby",target:"Nick Carraway",value:3,interaction:"Nick feels out of place at Gatsby's party until he finally meets Gatsby, who is welcoming and friendly."},{source:"Jay Gatsby",target:"The Gypsy Dancer",value:1,interaction:"The Gypsy Dancer performs at Gatsby's party, contributing to the extravagant atmosphere."},{source:"Nick Carraway",target:"The Gypsy Dancer",value:1,interaction:"Nick observes the Gypsy Dancer's performance, adding to the surreal experience of the party."},{source:"Nick Carraway",target:"Young Englishmen",value:1,interaction:"Nick interacts with the Young Englishmen, who gossip about Gatsby, revealing the social dynamics at the party."},{source:"Nick Carraway",target:"Solid And Prosperous Americans",value:1,interaction:"Nick mingles with the Solid and Prosperous Americans, who also share their opinions about Gatsby."},{source:"Young Englishmen",target:"Solid And Prosperous Americans",value:1,interaction:"The Young Englishmen and Solid Americans engage in conversations about Gatsby, showcasing the varied perceptions of him."},{source:"Jordan Baker",target:"Nick Carraway",value:3,interaction:"Jordan and Nick connect at the party, sharing a moment of intimacy amidst the chaos."},{source:"Jordan Baker",target:"Lucille",value:1,interaction:"Jordan interacts with Lucille, discussing the party and their experiences."},{source:"Jordan Baker",target:"First Girl",value:1,interaction:"Jordan and the First Girl chat, contributing to the lively atmosphere of the party."},{source:"Jordan Baker",target:"Mr. Mumble (one Of The Men)",value:1,interaction:"Jordan speaks with Mr. Mumble, engaging in light conversation typical of party interactions."},{source:"Lucille",target:"First Girl",value:1,interaction:"Lucille and the First Girl share gossip about the guests, adding to the social dynamics of the party."},{source:"Lucille",target:"Mr. Mumble (one Of The Men)",value:1,interaction:"Lucille interacts with Mr. Mumble, exchanging pleasantries and party banter."},{source:"First Girl",target:"Mr. Mumble (one Of The Men)",value:1,interaction:"The First Girl and Mr. Mumble engage in casual conversation, typical of the party's social scene."},{source:"Jordan Baker",target:"Undergraduate Escort",value:1,interaction:"Jordan is seen with her Undergraduate Escort, highlighting her social status at the party."},{source:"Jordan Baker",target:"Owl-eyed Man",value:1,interaction:"Jordan and the Owl-eyed Man share observations about the party, discussing Gatsby's mysterious persona."},{source:"Jordan Baker",target:"Rowdy Little Girl",value:1,interaction:"Jordan interacts with the Rowdy Little Girl, showcasing the youthful energy at the party."},{source:"Nick Carraway",target:"Rowdy Little Girl",value:1,interaction:"Nick observes the Rowdy Little Girl, reflecting on the carefree nature of the party."},{source:"Jordan Baker",target:"Jay Gatsby",value:1,interaction:"Jordan speaks privately with Gatsby, indicating a deeper connection between them."},{source:"Jay Gatsby",target:"Owl-eyed Man",value:1,interaction:"Gatsby and the Owl-eyed Man have a brief interaction, hinting at Gatsby's enigmatic nature."}],importance_rank:9,conflict_rank:9},{chapter:"IV",scenes:6,length:35623,num_lines:528,summary:"Gatsby invites Nick to lunch, revealing his past and connection to Daisy, while Nick meets Gatsby's shady associate and learns more about their history.",importance:.8,conflict:.37,locations:{"Gatsby's House":2,"West Egg":1,"New York City":2,"Plaza Hotel":1},characters:{"Jay Gatsby":6,"Nick Carraway":5,"Young Ladies":1,"Jordan Baker":3,"Meyer Wolfshiem":1,"Tom Buchanan":2,"Daisy Buchanan":2},links:[{source:"Jay Gatsby",target:"Nick Carraway",value:5,interaction:"Gatsby arrives at Nick's house to invite him for lunch and shares details about his past during their car ride."},{source:"Jay Gatsby",target:"Young Ladies",value:1,interaction:"Gatsby interacts with the young ladies at his party, showcasing his charm and wealth."},{source:"Nick Carraway",target:"Young Ladies",value:1,interaction:"Nick observes the young ladies at Gatsby's party, noting their reactions and interactions."},{source:"Jay Gatsby",target:"Jordan Baker",value:3,interaction:"Gatsby and Jordan discuss Gatsby's feelings for Daisy, revealing their shared history."},{source:"Nick Carraway",target:"Jordan Baker",value:2,interaction:"Nick and Jordan have a conversation about Gatsby's feelings for Daisy, deepening their connection."},{source:"Jay Gatsby",target:"Meyer Wolfshiem",value:1,interaction:"Nick meets Gatsby's associate, Mr. Wolfshiem, who provides insight into Gatsby's business dealings."},{source:"Jay Gatsby",target:"Tom Buchanan",value:2,interaction:"Gatsby and Tom have a tense interaction, hinting at the underlying conflict over Daisy."},{source:"Meyer Wolfshiem",target:"Nick Carraway",value:1,interaction:"Wolfshiem shares stories with Nick, giving him a glimpse into Gatsby's world."},{source:"Meyer Wolfshiem",target:"Tom Buchanan",value:1,interaction:"Wolfshiem and Tom have a brief interaction, highlighting their different social standings."},{source:"Nick Carraway",target:"Tom Buchanan",value:1,interaction:"Nick observes Tom's arrogance and entitlement during their interactions."},{source:"Jordan Baker",target:"Daisy Buchanan",value:2,interaction:"Jordan recounts Daisy and Gatsby's past to Nick, revealing important backstory."},{source:"Jordan Baker",target:"Tom Buchanan",value:1,interaction:"Jordan and Tom interact, showcasing the tension in their relationship."},{source:"Daisy Buchanan",target:"Tom Buchanan",value:1,interaction:"Daisy and Tom's relationship is strained, with underlying tensions evident in their exchanges."},{source:"Daisy Buchanan",target:"Jay Gatsby",value:2,interaction:"Daisy's feelings for Gatsby are explored, revealing her conflicted emotions."},{source:"Nick Carraway",target:"Daisy Buchanan",value:1,interaction:"Nick and Daisy share a moment where Nick learns about her feelings and past with Gatsby."}],importance_rank:7,conflict_rank:7},{chapter:"V",scenes:10,length:27465,num_lines:416,summary:"The narrator facilitates a reunion between Gatsby and Daisy, culminating in an emotional tea at his house where they reconnect and reminisce.",importance:.79,conflict:.34,locations:{"Gatsby's House":8,"Front Door":2},characters:{"Jay Gatsby":10,"Nick Carraway":7,"Daisy Buchanan":7,"Mr. Klipspringer":2,"Dan Cody":1},links:[{source:"Jay Gatsby",target:"Nick Carraway",value:7,interaction:"Nick helps Gatsby prepare for Daisy's visit, discussing the plan to invite her for tea."},{source:"Nick Carraway",target:"Daisy Buchanan",value:5,interaction:"Nick welcomes Daisy to his house for tea, facilitating her reunion with Gatsby."},{source:"Jay Gatsby",target:"Daisy Buchanan",value:7,interaction:"Gatsby and Daisy meet again after years apart, and Gatsby shows her around his mansion."},{source:"Jay Gatsby",target:"Mr. Klipspringer",value:2,interaction:"Klipspringer plays music for Gatsby and Daisy, creating a romantic atmosphere."},{source:"Daisy Buchanan",target:"Mr. Klipspringer",value:2,interaction:"Daisy listens to Klipspringer's music, which adds to the emotional ambiance of the reunion."},{source:"Nick Carraway",target:"Mr. Klipspringer",value:1,interaction:"Nick observes Klipspringer's performance and reflects on the dynamics of the gathering."},{source:"Dan Cody",target:"Jay Gatsby",value:1,interaction:"Gatsby recalls his past with Dan Cody, reflecting on how Cody influenced his life and aspirations."}],importance_rank:8,conflict_rank:8},{chapter:"VI",scenes:4,length:26571,num_lines:398,summary:"A reporter covers Gatsby's extravagant lifestyle, revealing his mysterious rise to wealth, while Tom Buchanan's visit to Gatsby's party stirs tensions, prompting Gatsby to reminisce about his lost love, Daisy.",importance:.82,conflict:.55,locations:{"Gatsby's House":3,"Lake Superior":1},characters:{"Jay Gatsby":4,"The Young Reporter":1,"Dan Cody":1,"Ella Kaye":1,"Tom Buchanan":1,"Daisy Buchanan":1,"Nick Carraway":2,"Mr. Sloane":1},links:[{source:"Jay Gatsby",target:"The Young Reporter",value:1,interaction:"The Young Reporter arrives at Gatsby's house to cover the extravagant party, intrigued by Gatsby's mysterious persona."},{source:"Jay Gatsby",target:"Dan Cody",value:1,interaction:"Gatsby reflects on his past with Dan Cody, who played a pivotal role in shaping his ambitions and lifestyle."},{source:"Jay Gatsby",target:"Ella Kaye",value:1,interaction:"Gatsby recalls Ella Kaye's influence over Dan Cody's fortune, hinting at the complexities of his past."},{source:"Dan Cody",target:"Ella Kaye",value:1,interaction:"Dan Cody's relationship with Ella Kaye is mentioned, highlighting her role in his life and eventual downfall."},{source:"Jay Gatsby",target:"Tom Buchanan",value:1,interaction:"Tom Buchanan arrives at Gatsby's party, creating tension as he is suspicious of Gatsby's intentions towards Daisy."},{source:"Jay Gatsby",target:"Daisy Buchanan",value:1,interaction:"Gatsby reflects on his past romance with Daisy, longing for their lost connection amidst the party atmosphere."},{source:"Jay Gatsby",target:"Nick Carraway",value:2,interaction:"Gatsby confides in Nick about his feelings for Daisy and his hopes for rekindling their relationship."},{source:"Jay Gatsby",target:"Mr. Sloane",value:1,interaction:"Mr. Sloane's presence at the party adds to the social dynamics, as Gatsby tries to impress him despite feeling out of place."},{source:"Tom Buchanan",target:"Daisy Buchanan",value:1,interaction:"Tom and Daisy's relationship is strained, with Tom's jealousy and possessiveness becoming evident during the party."},{source:"Tom Buchanan",target:"Nick Carraway",value:1,interaction:"Tom engages Nick in conversation, showcasing his arrogance and disdain for Gatsby's social status."},{source:"Tom Buchanan",target:"Mr. Sloane",value:1,interaction:"Tom interacts with Mr. Sloane, attempting to assert his dominance and social superiority."},{source:"Daisy Buchanan",target:"Nick Carraway",value:1,interaction:"Daisy shares her feelings with Nick, revealing her conflicted emotions about Gatsby and her marriage."},{source:"Daisy Buchanan",target:"Mr. Sloane",value:1,interaction:"Daisy's interaction with Mr. Sloane is marked by her discomfort with his presence and the social hierarchy."},{source:"Nick Carraway",target:"Mr. Sloane",value:1,interaction:"Nick observes Mr. Sloane's dismissive attitude towards Gatsby's party, highlighting the class divide."}],importance_rank:4,conflict_rank:3},{chapter:"VII",scenes:8,length:57925,num_lines:919,summary:"Tensions escalate during a lunch at the Buchanans' as Gatsby, Tom, and Daisy confront their feelings, culminating in a tragic hit-and-run accident that changes everything.",importance:.81,conflict:.57,locations:{"Gatsby's House":3,"Daisy's House":2,"Valley Of Ashes":2,"Plaza Hotel":1},characters:{"Nick Carraway":3,"Gatsby's Butler":2,"Jay Gatsby":5,"Daisy Buchanan":4,"Jordan Baker":5,"The Woman":1,"The Conductor":1,"Tom Buchanan":5,"Pammy Buchanan":1,"George Wilson":3,"Myrtle Wilson":2},links:[{source:"Nick Carraway",target:"Gatsby's Butler",value:1,interaction:"Nick encounters Gatsby's butler, who provides insights about Gatsby's lifestyle and the events surrounding his parties."},{source:"Jay Gatsby",target:"Nick Carraway",value:2,interaction:"Gatsby calls Nick to discuss his concerns about his servants, showcasing his trust in Nick."},{source:"Jay Gatsby",target:"Daisy Buchanan",value:4,interaction:"Gatsby and Daisy share a tense yet emotional moment during lunch, highlighting their complicated relationship."},{source:"Jay Gatsby",target:"Jordan Baker",value:4,interaction:"Gatsby interacts with Jordan, who serves as a mediator between him and Daisy, discussing their past."},{source:"Nick Carraway",target:"Daisy Buchanan",value:1,interaction:"Nick observes the dynamic between Daisy and Gatsby, feeling the tension and nostalgia in their interactions."},{source:"Nick Carraway",target:"Jordan Baker",value:1,interaction:"Nick and Jordan share a conversation about the events unfolding, revealing their perspectives on the tensions."},{source:"Daisy Buchanan",target:"Jordan Baker",value:4,interaction:"Daisy and Jordan converse, with Daisy expressing her feelings about Gatsby and her current life."},{source:"The Woman",target:"The Conductor",value:1,interaction:"The woman interacts with the conductor, possibly discussing travel plans or her situation."},{source:"The Woman",target:"Gatsby's Butler",value:1,interaction:"The woman speaks with Gatsby's butler, perhaps inquiring about Gatsby or the events at his mansion."},{source:"The Conductor",target:"Gatsby's Butler",value:1,interaction:"The conductor and the butler exchange brief words, likely about the happenings at Gatsby's parties."},{source:"Daisy Buchanan",target:"Tom Buchanan",value:3,interaction:"Daisy and Tom's interaction is tense, revealing underlying issues in their marriage during lunch."},{source:"Daisy Buchanan",target:"Pammy Buchanan",value:1,interaction:"Daisy interacts with her daughter Pammy, showing her maternal side amidst the tension."},{source:"Jordan Baker",target:"Tom Buchanan",value:4,interaction:"Jordan and Tom engage in conversation, with Jordan often challenging Tom's views."},{source:"Jordan Baker",target:"Pammy Buchanan",value:1,interaction:"Jordan interacts with Pammy, possibly showing a softer side as she engages with the child."},{source:"Tom Buchanan",target:"Jay Gatsby",value:4,interaction:"Tom confronts Gatsby during lunch, leading to escalating tensions between them."},{source:"Tom Buchanan",target:"Pammy Buchanan",value:1,interaction:"Tom interacts with Pammy, displaying a mix of affection and detachment."},{source:"Jay Gatsby",target:"Pammy Buchanan",value:1,interaction:"Gatsby shows interest in Pammy, perhaps trying to connect with Daisy through her."},{source:"Tom Buchanan",target:"George Wilson",value:3,interaction:"Tom and George have a strained interaction, reflecting the tension between their worlds."},{source:"Jordan Baker",target:"George Wilson",value:2,interaction:"Jordan and George's interaction is brief, highlighting the divide between their social classes."},{source:"Tom Buchanan",target:"Myrtle Wilson",value:2,interaction:"Tom's relationship with Myrtle is revealed through their interactions, showcasing his dominance."},{source:"Jay Gatsby",target:"George Wilson",value:2,interaction:"Gatsby and George have a tense interaction, especially after the accident involving Myrtle."},{source:"Jay Gatsby",target:"Myrtle Wilson",value:2,interaction:"Gatsby's connection to Myrtle is complicated, especially after the hit-and-run incident."},{source:"Daisy Buchanan",target:"George Wilson",value:1,interaction:"Daisy's interaction with George is fraught with tension, especially after Myrtle's death."},{source:"Daisy Buchanan",target:"Myrtle Wilson",value:1,interaction:"Daisy reflects on Myrtle's death, feeling the weight of the tragedy."},{source:"Jordan Baker",target:"Myrtle Wilson",value:1,interaction:"Jordan and Myrtle's interaction is minimal but charged with the tension of their social standings."},{source:"George Wilson",target:"Myrtle Wilson",value:2,interaction:"George and Myrtle's relationship is explored through their interactions, revealing deep emotional ties."},{source:"Tom Buchanan",target:"Nick Carraway",value:1,interaction:"Tom and Nick have a strained interaction, especially as tensions rise during lunch."},{source:"Myrtle Wilson",target:"Nick Carraway",value:1,interaction:"Myrtle's interaction with Nick is brief, but it highlights her desperation and aspirations."},{source:"George Wilson",target:"Nick Carraway",value:1,interaction:"George and Nick share a moment of tension, especially after the tragic events involving Myrtle."}],importance_rank:5,conflict_rank:2},{chapter:"VIII",scenes:7,length:29555,num_lines:428,summary:"Nick visits Gatsby, who reminisces about Daisy and their past, while Wilson mourns Myrtle and seeks revenge.",importance:.87,conflict:.61,locations:{"Gatsby's House":4,"Daisy's House":1,"New York City":1,"Valley Of Ashes":1},characters:{"Jay Gatsby":5,"Nick Carraway":4,"Daisy Buchanan":1,Gardener:1,"Jordan Baker":1,"George Wilson":2,Michaelis:2,Chauffeur:1},links:[{source:"Jay Gatsby",target:"Nick Carraway",value:3,interaction:"Gatsby shares his memories of Daisy with Nick, reflecting on their past and discussing plans regarding Daisy."},{source:"Jay Gatsby",target:"Daisy Buchanan",value:1,interaction:"Gatsby reminisces about his past with Daisy, highlighting his longing for her and the impact of her choices on their relationship."},{source:"Jay Gatsby",target:"Gardener",value:1,interaction:"Gatsby interacts with the gardener, possibly discussing the upkeep of his estate, which symbolizes his attempts to maintain his image."},{source:"Nick Carraway",target:"Gardener",value:1,interaction:"Nick may have brief interactions with the gardener, observing the environment of Gatsby's mansion and the lifestyle surrounding it."},{source:"Jordan Baker",target:"Nick Carraway",value:1,interaction:"Jordan calls Nick to discuss Daisy, indicating her role in the unfolding drama and her connection to both Nick and Gatsby."},{source:"George Wilson",target:"Michaelis",value:2,interaction:"George mourns Myrtle's death and seeks comfort and answers from Michaelis, who tries to support him during his grief."},{source:"Jay Gatsby",target:"George Wilson",value:1,interaction:"Gatsby is confronted by Wilson, who is seeking answers about Myrtle's death, creating tension between the two characters."},{source:"Jay Gatsby",target:"Michaelis",value:1,interaction:"Gatsby may have a brief interaction with Michaelis, who is involved in the aftermath of Myrtle's death and the chaos that ensues."},{source:"Jay Gatsby",target:"Chauffeur",value:1,interaction:"Gatsby's chauffeur may be involved in logistical discussions regarding Gatsby's plans, reflecting the operational side of his lifestyle."},{source:"George Wilson",target:"Chauffeur",value:1,interaction:"Wilson may interact with the chauffeur inquiring about Gatsby, as he seeks to find out more about the circumstances surrounding Myrtle's death."},{source:"Michaelis",target:"Chauffeur",value:1,interaction:"Michaelis and the chauffeur may discuss the events leading up to Myrtle's death, sharing their perspectives on the tragic situation."}],importance_rank:1,conflict_rank:1},{chapter:"IX",scenes:6,length:33196,num_lines:499,summary:"In the aftermath of Gatsby's death, his father's arrival and sparse funeral attendance reveal Gatsby's isolation and the emptiness of his life.",importance:.85,conflict:.52,locations:{"Gatsby's House":2,"Meyer Wolfshiem's Office":1,"West Egg":1,Cemetery:1,"New York City":1},characters:{"Nick Carraway":6,"Catherine Wilson":1,"George Wilson":1,"Daisy Buchanan":1,"Tom Buchanan":2,"Meyer Wolfshiem":2,"Henry C. Gatz":3,"The Jewess":1,"Owl-eyed Man":1,"Jordan Baker":1,"Jay Gatsby":1},links:[{source:"Nick Carraway",target:"Catherine Wilson",value:1,interaction:"Nick does not interact directly with Catherine Wilson in this chapter."},{source:"Nick Carraway",target:"George Wilson",value:1,interaction:"Nick reflects on George's grief and the impact of Gatsby's death on him."},{source:"Nick Carraway",target:"Daisy Buchanan",value:1,interaction:"Daisy is not present in this chapter, but Nick thinks about her reaction to Gatsby's death."},{source:"Nick Carraway",target:"Tom Buchanan",value:2,interaction:"Nick and Tom have a tense interaction regarding Gatsby's death and the events leading up to it."},{source:"Nick Carraway",target:"Meyer Wolfshiem",value:2,interaction:"Nick visits Wolfshiem to inform him of Gatsby's death, highlighting their past connection."},{source:"Catherine Wilson",target:"George Wilson",value:1,interaction:"Catherine is not present in this chapter, so there is no interaction."},{source:"Catherine Wilson",target:"Daisy Buchanan",value:1,interaction:"Catherine does not interact with Daisy in this chapter."},{source:"Catherine Wilson",target:"Tom Buchanan",value:1,interaction:"Catherine does not interact with Tom in this chapter."},{source:"Catherine Wilson",target:"Meyer Wolfshiem",value:1,interaction:"Catherine does not interact with Wolfshiem in this chapter."},{source:"George Wilson",target:"Daisy Buchanan",value:1,interaction:"George is consumed by grief over Myrtle's death and does not interact with Daisy."},{source:"George Wilson",target:"Tom Buchanan",value:1,interaction:"George confronts Tom about Myrtle's death, suspecting his involvement."},{source:"George Wilson",target:"Meyer Wolfshiem",value:1,interaction:"George does not interact with Wolfshiem in this chapter."},{source:"Daisy Buchanan",target:"Tom Buchanan",value:1,interaction:"Daisy and Tom's relationship is strained as they deal with the aftermath of Gatsby's death."},{source:"Daisy Buchanan",target:"Meyer Wolfshiem",value:1,interaction:"Daisy does not interact with Wolfshiem in this chapter."},{source:"Tom Buchanan",target:"Meyer Wolfshiem",value:1,interaction:"Tom and Wolfshiem do not interact directly in this chapter."},{source:"Henry C. Gatz",target:"Nick Carraway",value:3,interaction:"Mr. Gatz expresses his pride in Gatsby to Nick, sharing memories of his son."},{source:"Meyer Wolfshiem",target:"The Jewess",value:1,interaction:"Wolfshiem's connection to The Jewess is mentioned, but they do not interact in this chapter."},{source:"Nick Carraway",target:"The Jewess",value:1,interaction:"Nick does not interact with The Jewess in this chapter."},{source:"Owl-eyed Man",target:"Nick Carraway",value:1,interaction:"The Owl-eyed Man reflects on Gatsby's life with Nick, sharing insights about Gatsby's character."},{source:"Owl-eyed Man",target:"Henry C. Gatz",value:1,interaction:"The Owl-eyed Man does not interact with Mr. Gatz in this chapter."},{source:"Nick Carraway",target:"Jordan Baker",value:1,interaction:"Nick thinks about Jordan but does not have a direct interaction with her in this chapter."},{source:"Nick Carraway",target:"Jay Gatsby",value:1,interaction:"Nick reflects on Gatsby's life and death, feeling a deep sense of loss."},{source:"Jordan Baker",target:"Tom Buchanan",value:1,interaction:"Jordan does not interact with Tom in this chapter."},{source:"Jordan Baker",target:"Jay Gatsby",value:1,interaction:"Jordan is not present in this chapter, so there is no interaction."},{source:"Tom Buchanan",target:"Jay Gatsby",value:1,interaction:"Tom's actions and words about Gatsby are discussed, but they do not interact directly in this chapter."}],importance_rank:2,conflict_rank:5}],ZI=[{title:"Father's Advice",summary:"The narrator reflects on his father's advice about judgment.",chapter:"I",first_line:1,last_line:43,explanation:"Start of chapter.",text:`In my younger and more vulnerable years my father gave me some advice
that I've been turning over in my mind ever since.
"Whenever you feel like criticizing anyone," he told me, "just
remember that all the people in this world haven't had the advantages
that you've had."
He didn't say any more, but we've always been unusually communicative
in a reserved way, and I understood that he meant a great deal more
than that. In consequence, I'm inclined to reserve all judgements, a
habit that has opened up many curious natures to me and also made me
the victim of not a few veteran bores. The abnormal mind is quick to
detect and attach itself to this quality when it appears in a normal
person, and so it came about that in college I was unjustly accused of
being a politician, because I was privy to the secret griefs of wild,
unknown men. Most of the confidences were unsoughtfrequently I have
feigned sleep, preoccupation, or a hostile levity when I realized by
some unmistakable sign that an intimate revelation was quivering on
the horizon; for the intimate revelations of young men, or at least
the terms in which they express them, are usually plagiaristic and
marred by obvious suppressions. Reserving judgements is a matter of
infinite hope. I am still a little afraid of missing something if I
forget that, as my father snobbishly suggested, and I snobbishly
repeat, a sense of the fundamental decencies is parcelled out
unequally at birth.
And, after boasting this way of my tolerance, I come to the admission
that it has a limit. Conduct may be founded on the hard rock or the
wet marshes, but after a certain point I don't care what it's founded
on. When I came back from the East last autumn I felt that I wanted
the world to be in uniform and at a sort of moral attention forever; I
wanted no more riotous excursions with privileged glimpses into the
human heart. Only Gatsby, the man who gives his name to this book, was
exempt from my reactionGatsby, who represented everything for which I
have an unaffected scorn. If personality is an unbroken series of
successful gestures, then there was something gorgeous about him, some
heightened sensitivity to the promises of life, as if he were related
to one of those intricate machines that register earthquakes ten
thousand miles away. This responsiveness had nothing to do with that
flabby impressionability which is dignified under the name of the
"creative temperament"it was an extraordinary gift for hope, a
romantic readiness such as I have never found in any other person and
which it is not likely I shall ever find again. NoGatsby turned out
all right at the end; it is what preyed on Gatsby, what foul dust
floated in the wake of his dreams that temporarily closed out my
interest in the abortive sorrows and short-winded elations of men.`,length:2815,num_lines:43,location:"Narrator's Reflection",importance:.8,conflict:.2,characters:[{name:"Nick Carraway",importance:1,importance_exp:"The narrator is central to the scene.",emotion:"Reflective and contemplative",sentiment:.5,quote:`"Whenever you feel like criticizing anyone," he told me, "just remember that all the people in this world haven't had the advantages that you've had."`,fake_quote:"",importance_rank:1},{name:"Jay Gatsby",importance:.7,importance_exp:"Gatsby is pivotal to the narrator's reflections.",emotion:"Admired yet scorned",sentiment:.4,quote:'"Gatsby, who represented everything for which I have an unaffected scorn."',fake_quote:"",importance_rank:2}],number:1,importance_rank:2,conflict_rank:3},{title:"Life in the Midwest",summary:"The narrator describes his family's background and his move East.",chapter:"I",first_line:45,last_line:124,explanation:"Change of location to the Midwest.",text:`My family have been prominent, well-to-do people in this Middle
Western city for three generations. The Carraways are something of a
clan, and we have a tradition that we're descended from the Dukes of
Buccleuch, but the actual founder of my line was my grandfather's
brother, who came here in fifty-one, sent a substitute to the Civil
War, and started the wholesale hardware business that my father
carries on today.
I never saw this great-uncle, but I'm supposed to look like himwith
special reference to the rather hard-boiled painting that hangs in
father's office. I graduated from New Haven in 1915, just a quarter of
a century after my father, and a little later I participated in that
delayed Teutonic migration known as the Great War. I enjoyed the
counter-raid so thoroughly that I came back restless. Instead of being
the warm centre of the world, the Middle West now seemed like the
ragged edge of the universeso I decided to go East and learn the bond
business. Everybody I knew was in the bond business, so I supposed it
could support one more single man. All my aunts and uncles talked it
over as if they were choosing a prep school for me, and finally said,
"Whyye-es," with very grave, hesitant faces. Father agreed to finance
me for a year, and after various delays I came East, permanently, I
thought, in the spring of twenty-two.
The practical thing was to find rooms in the city, but it was a warm
season, and I had just left a country of wide lawns and friendly
trees, so when a young man at the office suggested that we take a
house together in a commuting town, it sounded like a great idea. He
found the house, a weather-beaten cardboard bungalow at eighty a
month, but at the last minute the firm ordered him to Washington, and
I went out to the country alone. I had a dogat least I had him for a
few days until he ran awayand an old Dodge and a Finnish woman, who
made my bed and cooked breakfast and muttered Finnish wisdom to
herself over the electric stove.
It was lonely for a day or so until one morning some man, more
recently arrived than I, stopped me on the road.
"How do you get to West Egg village?" he asked helplessly.
I told him. And as I walked on I was lonely no longer. I was a guide,
a pathfinder, an original settler. He had casually conferred on me the
freedom of the neighbourhood.
And so with the sunshine and the great bursts of leaves growing on the
trees, just as things grow in fast movies, I had that familiar
conviction that life was beginning over again with the summer.
There was so much to read, for one thing, and so much fine health to
be pulled down out of the young breath-giving air. I bought a dozen
volumes on banking and credit and investment securities, and they
stood on my shelf in red and gold like new money from the mint,
promising to unfold the shining secrets that only Midas and Morgan and
Maecenas knew. And I had the high intention of reading many other
books besides. I was rather literary in collegeone year I wrote a
series of very solemn and obvious editorials for the Yale Newsand now
I was going to bring back all such things into my life and become
again that most limited of all specialists, the "well-rounded man."
This isn't just an epigramlife is much more successfully looked at
from a single window, after all.
It was a matter of chance that I should have rented a house in one of
the strangest communities in North America. It was on that slender
riotous island which extends itself due east of New Yorkand where
there are, among other natural curiosities, two unusual formations of
land. Twenty miles from the city a pair of enormous eggs, identical in
contour and separated only by a courtesy bay, jut out into the most
domesticated body of salt water in the Western hemisphere, the great
wet barnyard of Long Island Sound. They are not perfect ovalslike the
egg in the Columbus story, they are both crushed flat at the contact
endbut their physical resemblance must be a source of perpetual
wonder to the gulls that fly overhead. To the wingless a more
interesting phenomenon is their dissimilarity in every particular
except shape and size.
I lived at West Egg, thewell, the less fashionable of the two, though
this is a most superficial tag to express the bizarre and not a little
sinister contrast between them. My house was at the very tip of the
egg, only fifty yards from the Sound, and squeezed between two huge
places that rented for twelve or fifteen thousand a season. The one on
my right was a colossal affair by any standardit was a factual
imitation of some Htel de Ville in Normandy, with a tower on one
side, spanking new under a thin beard of raw ivy, and a marble
swimming pool, and more than forty acres of lawn and garden. It was
Gatsby's mansion. Or, rather, as I didn't know Mr. Gatsby, it was a
mansion inhabited by a gentleman of that name. My own house was an
eyesore, but it was a small eyesore, and it had been overlooked, so I
had a view of the water, a partial view of my neighbour's lawn, and
the consoling proximity of millionairesall for eighty dollars a
month.`,length:5101,num_lines:80,location:"West Egg",importance:.8,conflict:.2,characters:[{name:"Nick Carraway",importance:1,importance_exp:"Narrator and central character",emotion:"Reflective and somewhat lonely",sentiment:.2,quote:"I was lonely no longer.",fake_quote:"",importance_rank:1},{name:"Jay Gatsby",importance:.5,importance_exp:"Mysterious neighbor with a grand mansion",emotion:"Unseen but intriguing",sentiment:.5,quote:"It was Gatsby's mansion.",fake_quote:"",importance_rank:2}],number:2,importance_rank:3,conflict_rank:4},{title:"Dinner at East Egg",summary:"The narrator visits Tom and Daisy Buchanan for dinner.",chapter:"I",first_line:125,last_line:493,explanation:"Change of location to East Egg.",text:`Across the courtesy bay the white palaces of fashionable East Egg
glittered along the water, and the history of the summer really begins
on the evening I drove over there to have dinner with the Tom
Buchanans. Daisy was my second cousin once removed, and I'd known Tom
in college. And just after the war I spent two days with them in
Chicago.
Her husband, among various physical accomplishments, had been one of
the most powerful ends that ever played football at New Havena
national figure in a way, one of those men who reach such an acute
limited excellence at twenty-one that everything afterward savours of
anticlimax. His family were enormously wealthyeven in college his
freedom with money was a matter for reproachbut now he'd left Chicago
and come East in a fashion that rather took your breath away: for
instance, he'd brought down a string of polo ponies from Lake
Forest. It was hard to realize that a man in my own generation was
wealthy enough to do that.
Why they came East I don't know. They had spent a year in France for
no particular reason, and then drifted here and there unrestfully
wherever people played polo and were rich together. This was a
permanent move, said Daisy over the telephone, but I didn't believe
itI had no sight into Daisy's heart, but I felt that Tom would drift
on forever seeking, a little wistfully, for the dramatic turbulence of
some irrecoverable football game.
And so it happened that on a warm windy evening I drove over to East
Egg to see two old friends whom I scarcely knew at all. Their house
was even more elaborate than I expected, a cheerful red-and-white
Georgian Colonial mansion, overlooking the bay. The lawn started at
the beach and ran towards the front door for a quarter of a mile,
jumping over sundials and brick walks and burning gardensfinally when
it reached the house drifting up the side in bright vines as though
from the momentum of its run. The front was broken by a line of French
windows, glowing now with reflected gold and wide open to the warm
windy afternoon, and Tom Buchanan in riding clothes was standing with
his legs apart on the front porch.
He had changed since his New Haven years. Now he was a sturdy
straw-haired man of thirty, with a rather hard mouth and a
supercilious manner. Two shining arrogant eyes had established
dominance over his face and gave him the appearance of always leaning
aggressively forward. Not even the effeminate swank of his riding
clothes could hide the enormous power of that bodyhe seemed to fill
those glistening boots until he strained the top lacing, and you could
see a great pack of muscle shifting when his shoulder moved under his
thin coat. It was a body capable of enormous leveragea cruel body.
His speaking voice, a gruff husky tenor, added to the impression of
fractiousness he conveyed. There was a touch of paternal contempt in
it, even toward people he likedand there were men at New Haven who
had hated his guts.
"Now, don't think my opinion on these matters is final," he seemed to
say, "just because I'm stronger and more of a man than you are." We
were in the same senior society, and while we were never intimate I
always had the impression that he approved of me and wanted me to like
him with some harsh, defiant wistfulness of his own.
We talked for a few minutes on the sunny porch.
"I've got a nice place here," he said, his eyes flashing about
restlessly.
Turning me around by one arm, he moved a broad flat hand along the
front vista, including in its sweep a sunken Italian garden, a half
acre of deep, pungent roses, and a snub-nosed motorboat that bumped
the tide offshore.
"It belonged to Demaine, the oil man." He turned me around again,
politely and abruptly. "We'll go inside."
We walked through a high hallway into a bright rosy-coloured space,
fragilely bound into the house by French windows at either end. The
windows were ajar and gleaming white against the fresh grass outside
that seemed to grow a little way into the house. A breeze blew through
the room, blew curtains in at one end and out the other like pale
flags, twisting them up toward the frosted wedding-cake of the
ceiling, and then rippled over the wine-coloured rug, making a shadow
on it as wind does on the sea.
The only completely stationary object in the room was an enormous
couch on which two young women were buoyed up as though upon an
anchored balloon. They were both in white, and their dresses were
rippling and fluttering as if they had just been blown back in after a
short flight around the house. I must have stood for a few moments
listening to the whip and snap of the curtains and the groan of a
picture on the wall. Then there was a boom as Tom Buchanan shut the
rear windows and the caught wind died out about the room, and the
curtains and the rugs and the two young women ballooned slowly to the
floor.
The younger of the two was a stranger to me. She was extended full
length at her end of the divan, completely motionless, and with her
chin raised a little, as if she were balancing something on it which
was quite likely to fall. If she saw me out of the corner of her eyes
she gave no hint of itindeed, I was almost surprised into murmuring
an apology for having disturbed her by coming in.
The other girl, Daisy, made an attempt to riseshe leaned slightly
forward with a conscientious expressionthen she laughed, an absurd,
charming little laugh, and I laughed too and came forward into the
room.
"I'm p-paralysed with happiness."
She laughed again, as if she said something very witty, and held my
hand for a moment, looking up into my face, promising that there was
no one in the world she so much wanted to see. That was a way she
had. She hinted in a murmur that the surname of the balancing girl was
Baker. (I've heard it said that Daisy's murmur was only to make people
lean toward her; an irrelevant criticism that made it no less
charming.)
At any rate, Miss Baker's lips fluttered, she nodded at me almost
imperceptibly, and then quickly tipped her head back againthe object
she was balancing had obviously tottered a little and given her
something of a fright. Again a sort of apology arose to my lips.
Almost any exhibition of complete self-sufficiency draws a stunned
tribute from me.
I looked back at my cousin, who began to ask me questions in her low,
thrilling voice. It was the kind of voice that the ear follows up and
down, as if each speech is an arrangement of notes that will never be
played again. Her face was sad and lovely with bright things in it,
bright eyes and a bright passionate mouth, but there was an excitement
in her voice that men who had cared for her found difficult to forget:
a singing compulsion, a whispered "Listen," a promise that she had
done gay, exciting things just a while since and that there were gay,
exciting things hovering in the next hour.
I told her how I had stopped off in Chicago for a day on my way East,
and how a dozen people had sent their love through me.
"Do they miss me?" she cried ecstatically.
"The whole town is desolate. All the cars have the left rear wheel
painted black as a mourning wreath, and there's a persistent wail all
night along the north shore."
"How gorgeous! Let's go back, Tom. Tomorrow!" Then she added
irrelevantly: "You ought to see the baby."
"I'd like to."
"She's asleep. She's three years old. Haven't you ever seen her?"
"Never."
"Well, you ought to see her. She's"
Tom Buchanan, who had been hovering restlessly about the room, stopped
and rested his hand on my shoulder.
"What you doing, Nick?"
"I'm a bond man."
"Who with?"
I told him.
"Never heard of them," he remarked decisively.
This annoyed me.
"You will," I answered shortly. "You will if you stay in the East."
"Oh, I'll stay in the East, don't you worry," he said, glancing at
Daisy and then back at me, as if he were alert for something
more. "I'd be a God damned fool to live anywhere else."
At this point Miss Baker said: "Absolutely!" with such suddenness that
I startedit was the first word she had uttered since I came into the
room. Evidently it surprised her as much as it did me, for she yawned
and with a series of rapid, deft movements stood up into the room.
"I'm stiff," she complained, "I've been lying on that sofa for as long
as I can remember."
"Don't look at me," Daisy retorted, "I've been trying to get you to
New York all afternoon."
"No, thanks," said Miss Baker to the four cocktails just in from the
pantry. "I'm absolutely in training."
Her host looked at her incredulously.
"You are!" He took down his drink as if it were a drop in the bottom
of a glass. "How you ever get anything done is beyond me."
I looked at Miss Baker, wondering what it was she "got done." I
enjoyed looking at her. She was a slender, small-breasted girl, with
an erect carriage, which she accentuated by throwing her body backward
at the shoulders like a young cadet. Her grey sun-strained eyes looked
back at me with polite reciprocal curiosity out of a wan, charming,
discontented face. It occurred to me now that I had seen her, or a
picture of her, somewhere before.
"You live in West Egg," she remarked contemptuously. "I know somebody
there."
"I don't know a single"
"You must know Gatsby."
"Gatsby?" demanded Daisy. "What Gatsby?"
Before I could reply that he was my neighbour dinner was announced;
wedging his tense arm imperatively under mine, Tom Buchanan compelled
me from the room as though he were moving a checker to another square.
Slenderly, languidly, their hands set lightly on their hips, the two
young women preceded us out on to a rosy-coloured porch, open toward
the sunset, where four candles flickered on the table in the
diminished wind.
"Why candles?" objected Daisy, frowning. She snapped them out with her
fingers. "In two weeks it'll be the longest day in the year." She
looked at us all radiantly. "Do you always watch for the longest day
of the year and then miss it? I always watch for the longest day in
the year and then miss it."
"We ought to plan something," yawned Miss Baker, sitting down at the
table as if she were getting into bed.
"All right," said Daisy. "What'll we plan?" She turned to me
helplessly: "What do people plan?"
Before I could answer her eyes fastened with an awed expression on her
little finger.
"Look!" she complained; "I hurt it."
We all lookedthe knuckle was black and blue.
"You did it, Tom," she said accusingly. "I know you didn't mean to,
but you did do it. That's what I get for marrying a brute of a man, a
great, big, hulking physical specimen of a"
"I hate that word 'hulking,'" objected Tom crossly, "even in
kidding."
"Hulking," insisted Daisy.
Sometimes she and Miss Baker talked at once, unobtrusively and with a
bantering inconsequence that was never quite chatter, that was as cool
as their white dresses and their impersonal eyes in the absence of all
desire. They were here, and they accepted Tom and me, making only a
polite pleasant effort to entertain or to be entertained. They knew
that presently dinner would be over and a little later the evening too
would be over and casually put away. It was sharply different from the
West, where an evening was hurried from phase to phase towards its
close, in a continually disappointed anticipation or else in sheer
nervous dread of the moment itself.
"You make me feel uncivilized, Daisy," I confessed on my second glass
of corky but rather impressive claret. "Can't you talk about crops or
something?"
I meant nothing in particular by this remark, but it was taken up in
an unexpected way.
"Civilization's going to pieces," broke out Tom violently. "I've
gotten to be a terrible pessimist about things. Have you read The Rise
of the Coloured Empires by this man Goddard?"
"Why, no," I answered, rather surprised by his tone.
"Well, it's a fine book, and everybody ought to read it. The idea is
if we don't look out the white race will bewill be utterly
submerged. It's all scientific stuff; it's been proved."
"Tom's getting very profound," said Daisy, with an expression of
unthoughtful sadness. "He reads deep books with long words in
them. What was that word we"
"Well, these books are all scientific," insisted Tom, glancing at her
impatiently. "This fellow has worked out the whole thing. It's up to
us, who are the dominant race, to watch out or these other races will
have control of things."
"We've got to beat them down," whispered Daisy, winking ferociously
toward the fervent sun.
"You ought to live in California" began Miss Baker, but Tom
interrupted her by shifting heavily in his chair.
"This idea is that we're Nordics. I am, and you are, and you are,
and" After an infinitesimal hesitation he included Daisy with a
slight nod, and she winked at me again. "And we've produced all the
things that go to make civilizationoh, science and art, and all
that. Do you see?"
There was something pathetic in his concentration, as if his
complacency, more acute than of old, was not enough to him any more.
When, almost immediately, the telephone rang inside and the butler
left the porch Daisy seized upon the momentary interruption and leaned
towards me.
"I'll tell you a family secret," she whispered enthusiastically.
"It's about the butler's nose. Do you want to hear about the butler's
nose?"
"That's why I came over tonight."
"Well, he wasn't always a butler; he used to be the silver polisher
for some people in New York that had a silver service for two hundred
people. He had to polish it from morning till night, until finally it
began to affect his nose"
"Things went from bad to worse," suggested Miss Baker.
"Yes. Things went from bad to worse, until finally he had to give up
his position."
For a moment the last sunshine fell with romantic affection upon her
glowing face; her voice compelled me forward breathlessly as I
listenedthen the glow faded, each light deserting her with lingering
regret, like children leaving a pleasant street at dusk.
The butler came back and murmured something close to Tom's ear,
whereupon Tom frowned, pushed back his chair, and without a word went
inside. As if his absence quickened something within her, Daisy leaned
forward again, her voice glowing and singing.
"I love to see you at my table, Nick. You remind me of aof a rose, an
absolute rose. Doesn't he?" She turned to Miss Baker for confirmation:
"An absolute rose?"
This was untrue. I am not even faintly like a rose. She was only
extemporizing, but a stirring warmth flowed from her, as if her heart
was trying to come out to you concealed in one of those breathless,
thrilling words. Then suddenly she threw her napkin on the table and
excused herself and went into the house.
Miss Baker and I exchanged a short glance consciously devoid of
meaning. I was about to speak when she sat up alertly and said "Sh!"
in a warning voice. A subdued impassioned murmur was audible in the
room beyond, and Miss Baker leaned forward unashamed, trying to
hear. The murmur trembled on the verge of coherence, sank down,
mounted excitedly, and then ceased altogether.
"This Mr. Gatsby you spoke of is my neighbour" I began.
"Don't talk. I want to hear what happens."
"Is something happening?" I inquired innocently.
"You mean to say you don't know?" said Miss Baker, honestly surprised.
"I thought everybody knew."
"I don't."
"Why" she said hesitantly. "Tom's got some woman in New York."
"Got some woman?" I repeated blankly.
Miss Baker nodded.
"She might have the decency not to telephone him at dinner time.
Don't you think?"
Almost before I had grasped her meaning there was the flutter of a
dress and the crunch of leather boots, and Tom and Daisy were back at
the table.
"It couldn't be helped!" cried Daisy with tense gaiety.
She sat down, glanced searchingly at Miss Baker and then at me, and
continued: "I looked outdoors for a minute, and it's very romantic
outdoors. There's a bird on the lawn that I think must be a
nightingale come over on the Cunard or White Star Line. He's singing
away" Her voice sang: "It's romantic, isn't it, Tom?"
"Very romantic," he said, and then miserably to me: "If it's light
enough after dinner, I want to take you down to the stables."
The telephone rang inside, startlingly, and as Daisy shook her head
decisively at Tom the subject of the stables, in fact all subjects,
vanished into air. Among the broken fragments of the last five minutes
at table I remember the candles being lit again, pointlessly, and I
was conscious of wanting to look squarely at everyone, and yet to
avoid all eyes. I couldn't guess what Daisy and Tom were thinking, but
I doubt if even Miss Baker, who seemed to have mastered a certain
hardy scepticism, was able utterly to put this fifth guest's shrill
metallic urgency out of mind. To a certain temperament the situation
might have seemed intriguingmy own instinct was to telephone
immediately for the police.
The horses, needless to say, were not mentioned again. Tom and Miss
Baker, with several feet of twilight between them, strolled back into
the library, as if to a vigil beside a perfectly tangible body, while,
trying to look pleasantly interested and a little deaf, I followed
Daisy around a chain of connecting verandas to the porch in front. In
its deep gloom we sat down side by side on a wicker settee.
Daisy took her face in her hands as if feeling its lovely shape, and
her eyes moved gradually out into the velvet dusk. I saw that
turbulent emotions possessed her, so I asked what I thought would be
some sedative questions about her little girl.
"We don't know each other very well, Nick," she said suddenly. "Even
if we are cousins. You didn't come to my wedding."
"I wasn't back from the war."
"That's true." She hesitated. "Well, I've had a very bad time, Nick,
and I'm pretty cynical about everything."
Evidently she had reason to be. I waited but she didn't say any more,
and after a moment I returned rather feebly to the subject of her
daughter.
"I suppose she talks, andeats, and everything."
"Oh, yes." She looked at me absently. "Listen, Nick; let me tell you
what I said when she was born. Would you like to hear?"
"Very much."
"It'll show you how I've gotten to feel aboutthings. Well, she was
less than an hour old and Tom was God knows where. I woke up out of
the ether with an utterly abandoned feeling, and asked the nurse right
away if it was a boy or a girl. She told me it was a girl, and so I
turned my head away and wept. 'All right,' I said, 'I'm glad it's a
girl. And I hope she'll be a foolthat's the best thing a girl can be
in this world, a beautiful little fool.'
"You see I think everything's terrible anyhow," she went on in a
convinced way. "Everybody thinks sothe most advanced people. And I
know. I've been everywhere and seen everything and done everything."
Her eyes flashed around her in a defiant way, rather like Tom's, and
she laughed with thrilling scorn. "SophisticatedGod, I'm
sophisticated!"
The instant her voice broke off, ceasing to compel my attention, my
belief, I felt the basic insincerity of what she had said. It made me
uneasy, as though the whole evening had been a trick of some sort to
exact a contributory emotion from me. I waited, and sure enough, in a
moment she looked at me with an absolute smirk on her lovely face, as
if she had asserted her membership in a rather distinguished secret
society to which she and Tom belonged.
------------------------------------------------------------------------
Inside, the crimson room bloomed with light. Tom and Miss Baker sat at
either end of the long couch and she read aloud to him from the
Saturday Evening Postthe words, murmurous and uninflected, running
together in a soothing tune. The lamplight, bright on his boots and
dull on the autumn-leaf yellow of her hair, glinted along the paper as
she turned a page with a flutter of slender muscles in her arms.
When we came in she held us silent for a moment with a lifted hand.
"To be continued," she said, tossing the magazine on the table, "in
our very next issue."
Her body asserted itself with a restless movement of her knee, and she
stood up.
"Ten o'clock," she remarked, apparently finding the time on the
ceiling. "Time for this good girl to go to bed."
"Jordan's going to play in the tournament tomorrow," explained Daisy,
"over at Westchester."
"Ohyou're Jordan Baker."
I knew now why her face was familiarits pleasing contemptuous
expression had looked out at me from many rotogravure pictures of the
sporting life at Asheville and Hot Springs and Palm Beach. I had heard
some story of her too, a critical, unpleasant story, but what it was I
had forgotten long ago.
"Good night," she said softly. "Wake me at eight, won't you."
"If you'll get up."
"I will. Good night, Mr. Carraway. See you anon."
"Of course you will," confirmed Daisy. "In fact I think I'll arrange a
marriage. Come over often, Nick, and I'll sort ofohfling you
together. You knowlock you up accidentally in linen closets and push
you out to sea in a boat, and all that sort of thing"
"Good night," called Miss Baker from the stairs. "I haven't heard a
word."`,length:21068,num_lines:369,location:"Tom Buchanan's Mansion",importance:.9,conflict:.7,characters:[{name:"Tom Buchanan",importance:1,importance_exp:"Very important character, host of the dinner",emotion:"Aggressive and restless",sentiment:-.5,quote:`"I've got a nice place here," he said, his eyes flashing about restlessly.`,fake_quote:"",importance_rank:1},{name:"Daisy Buchanan",importance:1,importance_exp:"Very important character, central to the scene",emotion:"Charming yet cynical",sentiment:.5,quote:`"I'm p-paralysed with happiness."`,fake_quote:"",importance_rank:2},{name:"Jordan Baker",importance:.7,importance_exp:"Important character, adds to the dynamic",emotion:"Indifferent and playful",sentiment:.2,quote:`"I'm absolutely in training."`,fake_quote:"",importance_rank:4},{name:"Nick Carraway",importance:.8,importance_exp:"Narrator and observer, important for perspective",emotion:"Curious and uneasy",sentiment:0,quote:"No quote available",fake_quote:"Nick feels a mix of curiosity and discomfort as he observes the interactions.",importance_rank:3}],number:3,importance_rank:1,conflict_rank:1},{title:"Departure and Reflection",summary:"The narrator leaves the Buchanans and reflects on the evening.",chapter:"I",first_line:494,last_line:560,explanation:"Change of location back to West Egg.",text:`"She's a nice girl," said Tom after a moment. "They oughtn't to let
her run around the country this way."
"Who oughtn't to?" inquired Daisy coldly.
"Her family."
"Her family is one aunt about a thousand years old. Besides, Nick's
going to look after her, aren't you, Nick? She's going to spend lots
of weekends out here this summer. I think the home influence will be
very good for her."
Daisy and Tom looked at each other for a moment in silence.
"Is she from New York?" I asked quickly.
"From Louisville. Our white girlhood was passed together there. Our
beautiful white"
"Did you give Nick a little heart to heart talk on the veranda?"
demanded Tom suddenly.
"Did I?" She looked at me. "I can't seem to remember, but I think we
talked about the Nordic race. Yes, I'm sure we did. It sort of crept
up on us and first thing you know"
"Don't believe everything you hear, Nick," he advised me.
I said lightly that I had heard nothing at all, and a few minutes
later I got up to go home. They came to the door with me and stood
side by side in a cheerful square of light. As I started my motor
Daisy peremptorily called: "Wait!
"I forgot to ask you something, and it's important. We heard you were
engaged to a girl out West."
"That's right," corroborated Tom kindly. "We heard that you were
engaged."
"It's a libel. I'm too poor."
"But we heard it," insisted Daisy, surprising me by opening up again
in a flower-like way. "We heard it from three people, so it must be
true."
Of course I knew what they were referring to, but I wasn't even
vaguely engaged. The fact that gossip had published the banns was one
of the reasons I had come East. You can't stop going with an old
friend on account of rumours, and on the other hand I had no intention
of being rumoured into marriage.
Their interest rather touched me and made them less remotely
richnevertheless, I was confused and a little disgusted as I drove
away. It seemed to me that the thing for Daisy to do was to rush out
of the house, child in armsbut apparently there were no such
intentions in her head. As for Tom, the fact that he "had some woman
in New York" was really less surprising than that he had been
depressed by a book. Something was making him nibble at the edge of
stale ideas as if his sturdy physical egotism no longer nourished his
peremptory heart.
Already it was deep summer on roadhouse roofs and in front of wayside
garages, where new red petrol-pumps sat out in pools of light, and
when I reached my estate at West Egg I ran the car under its shed and
sat for a while on an abandoned grass roller in the yard. The wind had
blown off, leaving a loud, bright night, with wings beating in the
trees and a persistent organ sound as the full bellows of the earth
blew the frogs full of life. The silhouette of a moving cat wavered
across the moonlight, and, turning my head to watch it, I saw that I
was not alonefifty feet away a figure had emerged from the shadow of
my neighbour's mansion and was standing with his hands in his pockets
regarding the silver pepper of the stars. Something in his leisurely
movements and the secure position of his feet upon the lawn suggested
that it was Mr. Gatsby himself, come out to determine what share was
his of our local heavens.
I decided to call to him. Miss Baker had mentioned him at dinner, and
that would do for an introduction. But I didn't call to him, for he
gave a sudden intimation that he was content to be alonehe stretched
out his arms toward the dark water in a curious way, and, far as I was
from him, I could have sworn he was trembling. Involuntarily I glanced
seawardand distinguished nothing except a single green light, minute
and far away, that might have been the end of a dock. When I looked
once more for Gatsby he had vanished, and I was alone again in the
unquiet darkness.`,length:3822,num_lines:67,location:"Daisy's House",importance:.8,conflict:.5,characters:[{name:"Tom Buchanan",importance:.7,importance_exp:"Tom is a central figure in the conversation.",emotion:"Condescending and curious",sentiment:-.5,quote:'"Did you give Nick a little heart to heart talk on the veranda?"',fake_quote:"",importance_rank:1},{name:"Daisy Buchanan",importance:.7,importance_exp:"Daisy drives the conversation and reveals her character.",emotion:"Playful yet probing",sentiment:.5,quote:'"We heard it from three people, so it must be true."',fake_quote:"",importance_rank:2},{name:"Nick Carraway",importance:.6,importance_exp:"Nick observes and reflects on the dynamics between Tom and Daisy.",emotion:"Confused and disgusted",sentiment:-.3,quote:"No quote available",fake_quote:"Nick feels touched by their interest but is also confused and disgusted by their superficiality.",importance_rank:3},{name:"Jay Gatsby",importance:.5,importance_exp:"Gatsby's presence looms over the scene, hinting at future developments.",emotion:"Longing and mysterious",sentiment:.2,quote:"No quote available",fake_quote:"Gatsby appears to be yearning for something, stretching his arms toward the dark water.",importance_rank:4}],number:4,importance_rank:4,conflict_rank:2},{title:"Valley of Ashes",summary:"Description of the valley of ashes and its inhabitants.",chapter:"II",first_line:1,last_line:26,explanation:"Start of chapter.",text:`About halfway between West Egg and New York the motor road hastily
joins the railroad and runs beside it for a quarter of a mile, so as
to shrink away from a certain desolate area of land. This is a valley
of ashesa fantastic farm where ashes grow like wheat into ridges and
hills and grotesque gardens; where ashes take the forms of houses and
chimneys and rising smoke and, finally, with a transcendent effort, of
ash-grey men, who move dimly and already crumbling through the powdery
air. Occasionally a line of grey cars crawls along an invisible track,
gives out a ghastly creak, and comes to rest, and immediately the
ash-grey men swarm up with leaden spades and stir up an impenetrable
cloud, which screens their obscure operations from your sight.
But above the grey land and the spasms of bleak dust which drift
endlessly over it, you perceive, after a moment, the eyes of Doctor T.
J. Eckleburg. The eyes of Doctor T. J. Eckleburg are blue and
gigantictheir retinas are one yard high. They look out of no face,
but, instead, from a pair of enormous yellow spectacles which pass
over a nonexistent nose. Evidently some wild wag of an oculist set
them there to fatten his practice in the borough of Queens, and then
sank down himself into eternal blindness, or forgot them and moved
away. But his eyes, dimmed a little by many paintless days, under sun
and rain, brood on over the solemn dumping ground.
The valley of ashes is bounded on one side by a small foul river, and,
when the drawbridge is up to let barges through, the passengers on
waiting trains can stare at the dismal scene for as long as half an
hour. There is always a halt there of at least a minute, and it was
because of this that I first met Tom Buchanan's mistress.`,length:1745,num_lines:26,location:"Valley Of Ashes",importance:.8,conflict:.3,characters:[{name:"Tom Buchanan",importance:.7,importance_exp:"Tom is a significant character in this scene as he is mentioned as having a mistress.",emotion:"Indifferent and detached",sentiment:-.2,quote:"I first met Tom Buchanan's mistress.",fake_quote:"",importance_rank:1},{name:"Doctor T. J. Eckleburg",importance:.5,importance_exp:"The eyes symbolize a significant theme in the scene.",emotion:"Brooding and watchful",sentiment:.1,quote:"The eyes of Doctor T. J. Eckleburg are blue and gigantictheir retinas are one yard high.",fake_quote:"",importance_rank:2}],number:1,importance_rank:2,conflict_rank:4},{title:"Meeting Tom's Mistress",summary:"The narrator meets Tom Buchanan's mistress at the garage.",chapter:"II",first_line:27,last_line:46,explanation:"Location changes to the garage.",text:`The fact that he had one was insisted upon wherever he was known. His
acquaintances resented the fact that he turned up in popular cafs
with her and, leaving her at a table, sauntered about, chatting with
whomsoever he knew. Though I was curious to see her, I had no desire
to meet herbut I did. I went up to New York with Tom on the train one
afternoon, and when we stopped by the ash-heaps he jumped to his feet
and, taking hold of my elbow, literally forced me from the car.
"We're getting off," he insisted. "I want you to meet my girl."
I think he'd tanked up a good deal at luncheon, and his determination
to have my company bordered on violence. The supercilious assumption
was that on Sunday afternoon I had nothing better to do.
I followed him over a low whitewashed railroad fence, and we walked
back a hundred yards along the road under Doctor Eckleburg's
persistent stare. The only building in sight was a small block of
yellow brick sitting on the edge of the waste land, a sort of compact
Main Street ministering to it, and contiguous to absolutely nothing.
One of the three shops it contained was for rent and another was an
all-night restaurant, approached by a trail of ashes; the third was a
garageRepairs. George B. Wilson. Cars bought and sold.and I followed
Tom inside.`,length:1294,num_lines:20,location:"New York City",importance:.7,conflict:.5,characters:[{name:"Tom Buchanan",importance:1,importance_exp:"Very important character driving the action",emotion:"Determined and forceful",sentiment:.5,quote:`"We're getting off," he insisted. "I want you to meet my girl."`,fake_quote:"",importance_rank:1},{name:"Nick Carraway",importance:.8,importance_exp:"Key perspective character observing events",emotion:"Reluctant and curious",sentiment:.3,quote:"I had no desire to meet herbut I did.",fake_quote:"",importance_rank:2},{name:"Doctor T. J. Eckleburg",importance:.2,importance_exp:"Symbolic presence in the scene",emotion:"Indifferent and watchful",sentiment:0,quote:"the road under Doctor Eckleburg's persistent stare.",fake_quote:"",importance_rank:4},{name:"George Wilson",importance:.4,importance_exp:"Owner of the garage, minor role",emotion:"Unseen but implied struggle",sentiment:-.3,quote:"Cars bought and sold.and I followed Tom inside.",fake_quote:"",importance_rank:3}],number:2,importance_rank:4,conflict_rank:2},{title:"Tom and Myrtle's Apartment",summary:"Tom and Myrtle go to New York and visit her apartment.",chapter:"II",first_line:95,last_line:154,explanation:"Location changes to the apartment.",text:`So Tom Buchanan and his girl and I went up together to New Yorkor not
quite together, for Mrs. Wilson sat discreetly in another car. Tom
deferred that much to the sensibilities of those East Eggers who might
be on the train.
She had changed her dress to a brown figured muslin, which stretched
tight over her rather wide hips as Tom helped her to the platform in
New York. At the newsstand she bought a copy of Town Tattle and a
moving-picture magazine, and in the station drugstore some cold cream
and a small flask of perfume. Upstairs, in the solemn echoing drive
she let four taxicabs drive away before she selected a new one,
lavender-coloured with grey upholstery, and in this we slid out from
the mass of the station into the glowing sunshine. But immediately she
turned sharply from the window and, leaning forward, tapped on the
front glass.
"I want to get one of those dogs," she said earnestly. "I want to get
one for the apartment. They're nice to havea dog."
We backed up to a grey old man who bore an absurd resemblance to John
D. Rockefeller. In a basket swung from his neck cowered a dozen very
recent puppies of an indeterminate breed.
"What kind are they?" asked Mrs. Wilson eagerly, as he came to the
taxi-window.
"All kinds. What kind do you want, lady?"
"I'd like to get one of those police dogs; I don't suppose you got
that kind?"
The man peered doubtfully into the basket, plunged in his hand and
drew one up, wriggling, by the back of the neck.
"That's no police dog," said Tom.
"No, it's not exactly a police dog," said the man with disappointment
in his voice. "It's more of an Airedale." He passed his hand over the
brown washrag of a back. "Look at that coat. Some coat. That's a dog
that'll never bother you with catching cold."
"I think it's cute," said Mrs. Wilson enthusiastically. "How much is
it?"
"That dog?" He looked at it admiringly. "That dog will cost you ten
dollars."
The Airedaleundoubtedly there was an Airedale concerned in it
somewhere, though its feet were startlingly whitechanged hands and
settled down into Mrs. Wilson's lap, where she fondled the
weatherproof coat with rapture.
"Is it a boy or a girl?" she asked delicately.
"That dog? That dog's a boy."
"It's a bitch," said Tom decisively. "Here's your money. Go and buy
ten more dogs with it."
We drove over to Fifth Avenue, warm and soft, almost pastoral, on the
summer Sunday afternoon. I wouldn't have been surprised to see a great
flock of white sheep turn the corner.
"Hold on," I said, "I have to leave you here."
"No you don't," interposed Tom quickly. "Myrtle'll be hurt if you
don't come up to the apartment. Won't you, Myrtle?"
"Come on," she urged. "I'll telephone my sister Catherine. She's said
to be very beautiful by people who ought to know."
"Well, I'd like to, but"
We went on, cutting back again over the Park toward the West Hundreds.
At 158th Street the cab stopped at one slice in a long white cake of
apartment-houses. Throwing a regal homecoming glance around the
neighbourhood, Mrs. Wilson gathered up her dog and her other
purchases, and went haughtily in.
"I'm going to have the McKees come up," she announced as we rose in
the elevator. "And, of course, I got to call up my sister, too."
The apartment was on the top floora small living-room, a small`,length:3290,num_lines:60,location:"New York City",importance:.8,conflict:.5,characters:[{name:"Tom Buchanan",importance:1,importance_exp:"Very important character driving the scene",emotion:"Domineering and dismissive",sentiment:-.5,quote:`"It's a bitch," said Tom decisively. "Here's your money. Go and buy ten more dogs with it."`,fake_quote:"",importance_rank:1},{name:"Myrtle Wilson",importance:1,importance_exp:"Very important character in the scene",emotion:"Eager and enthusiastic",sentiment:.5,quote:`"I want to get one of those dogs," she said earnestly. "I want to get one for the apartment. They're nice to havea dog."`,fake_quote:"",importance_rank:2},{name:"Nick Carraway",importance:.5,importance_exp:"Important for perspective but not central to action",emotion:"Observant and slightly detached",sentiment:0,quote:"No quote available",fake_quote:"The narrator observes the interactions and dynamics between Tom and Mrs. Wilson with a sense of detachment.",importance_rank:3}],number:3,importance_rank:3,conflict_rank:3},{title:"Party at Myrtle's Apartment",summary:"A party at Myrtle's apartment with guests arriving.",chapter:"II",first_line:181,last_line:400,explanation:"Location remains in the apartment.",text:`at the apartment door.
The sister, Catherine, was a slender, worldly girl of about thirty,
with a solid, sticky bob of red hair, and a complexion powdered milky
white. Her eyebrows had been plucked and then drawn on again at a more
rakish angle, but the efforts of nature toward the restoration of the
old alignment gave a blurred air to her face. When she moved about
there was an incessant clicking as innumerable pottery bracelets
jingled up and down upon her arms. She came in with such a proprietary
haste, and looked around so possessively at the furniture that I
wondered if she lived here. But when I asked her she laughed
immoderately, repeated my question aloud, and told me she lived with a
girl friend at a hotel.
Mr. McKee was a pale, feminine man from the flat below. He had just
shaved, for there was a white spot of lather on his cheekbone, and he
was most respectful in his greeting to everyone in the room. He
informed me that he was in the "artistic game," and I gathered later
that he was a photographer and had made the dim enlargement of
Mrs. Wilson's mother which hovered like an ectoplasm on the wall. His
wife was shrill, languid, handsome, and horrible. She told me with
pride that her husband had photographed her a hundred and twenty-seven
times since they had been married.
Mrs. Wilson had changed her costume some time before, and was now
attired in an elaborate afternoon dress of cream-coloured chiffon,
which gave out a continual rustle as she swept about the room. With
the influence of the dress her personality had also undergone a
change. The intense vitality that had been so remarkable in the garage
was converted into impressive hauteur. Her laughter, her gestures, her
assertions became more violently affected moment by moment, and as she
expanded the room grew smaller around her, until she seemed to be
revolving on a noisy, creaking pivot through the smoky air.
"My dear," she told her sister in a high, mincing shout, "most of
these fellas will cheat you every time. All they think of is money. I
had a woman up here last week to look at my feet, and when she gave me
the bill you'd of thought she had my appendicitis out."
"What was the name of the woman?" asked Mrs. McKee.
"Mrs. Eberhardt. She goes around looking at people's feet in their own
homes."
"I like your dress," remarked Mrs. McKee, "I think it's adorable."
Mrs. Wilson rejected the compliment by raising her eyebrow in disdain.
"It's just a crazy old thing," she said. "I just slip it on sometimes
when I don't care what I look like."
"But it looks wonderful on you, if you know what I mean," pursued Mrs.
McKee. "If Chester could only get you in that pose I think he could
make something of it."
We all looked in silence at Mrs. Wilson, who removed a strand of hair
from over her eyes and looked back at us with a brilliant smile. Mr.
McKee regarded her intently with his head on one side, and then moved
his hand back and forth slowly in front of his face.
"I should change the light," he said after a moment. "I'd like to
bring out the modelling of the features. And I'd try to get hold of
all the back hair."
"I wouldn't think of changing the light," cried Mrs. McKee. "I think
it's"
Her husband said "Sh!" and we all looked at the subject again,
whereupon Tom Buchanan yawned audibly and got to his feet.
"You McKees have something to drink," he said. "Get some more ice and
mineral water, Myrtle, before everybody goes to sleep."
"I told that boy about the ice." Myrtle raised her eyebrows in despair
at the shiftlessness of the lower orders. "These people! You have to
keep after them all the time."
She looked at me and laughed pointlessly. Then she flounced over to
the dog, kissed it with ecstasy, and swept into the kitchen, implying
that a dozen chefs awaited her orders there.
"I've done some nice things out on Long Island," asserted Mr. McKee.
Tom looked at him blankly.
"Two of them we have framed downstairs."
"Two what?" demanded Tom.
"Two studies. One of them I call Montauk PointThe Gulls, and the
other I call Montauk PointThe Sea."
The sister Catherine sat down beside me on the couch.
"Do you live down on Long Island, too?" she inquired.
"I live at West Egg."
"Really? I was down there at a party about a month ago. At a man named
Gatsby's. Do you know him?"
"I live next door to him."
"Well, they say he's a nephew or a cousin of Kaiser Wilhelm's. That's
where all his money comes from."
"Really?"
She nodded.
"I'm scared of him. I'd hate to have him get anything on me."
This absorbing information about my neighbour was interrupted by Mrs.
McKee's pointing suddenly at Catherine:
"Chester, I think you could do something with her," she broke out, but
Mr. McKee only nodded in a bored way, and turned his attention to Tom.
"I'd like to do more work on Long Island, if I could get the entry.
All I ask is that they should give me a start."
"Ask Myrtle," said Tom, breaking into a short shout of laughter as
Mrs. Wilson entered with a tray. "She'll give you a letter of
introduction, won't you, Myrtle?"
"Do what?" she asked, startled.
"You'll give McKee a letter of introduction to your husband, so he can
do some studies of him." His lips moved silently for a moment as he
invented, "'George B. Wilson at the Gasoline Pump,' or something like
that."
Catherine leaned close to me and whispered in my ear:
"Neither of them can stand the person they're married to."
"Can't they?"
"Can't stand them." She looked at Myrtle and then at Tom. "What I say
is, why go on living with them if they can't stand them? If I was them
I'd get a divorce and get married to each other right away."
"Doesn't she like Wilson either?"
The answer to this was unexpected. It came from Myrtle, who had
overheard the question, and it was violent and obscene.
"You see," cried Catherine triumphantly. She lowered her voice again.
"It's really his wife that's keeping them apart. She's a Catholic, and
they don't believe in divorce."
Daisy was not a Catholic, and I was a little shocked at the
elaborateness of the lie.
"When they do get married," continued Catherine, "they're going West
to live for a while until it blows over."
"It'd be more discreet to go to Europe."
"Oh, do you like Europe?" she exclaimed surprisingly. "I just got back
from Monte Carlo."
"Really."
"Just last year. I went over there with another girl."
"Stay long?"
"No, we just went to Monte Carlo and back. We went by way of
Marseilles. We had over twelve hundred dollars when we started, but we
got gyped out of it all in two days in the private rooms. We had an
awful time getting back, I can tell you. God, how I hated that town!"
The late afternoon sky bloomed in the window for a moment like the
blue honey of the Mediterraneanthen the shrill voice of Mrs. McKee
called me back into the room.
"I almost made a mistake, too," she declared vigorously. "I almost
married a little kike who'd been after me for years. I knew he was
below me. Everybody kept saying to me: 'Lucille, that man's way below
you!' But if I hadn't met Chester, he'd of got me sure."
"Yes, but listen," said Myrtle Wilson, nodding her head up and down,
"at least you didn't marry him."
"I know I didn't."
"Well, I married him," said Myrtle, ambiguously. "And that's the
difference between your case and mine."
"Why did you, Myrtle?" demanded Catherine. "Nobody forced you to."
Myrtle considered.
"I married him because I thought he was a gentleman," she said
finally. "I thought he knew something about breeding, but he wasn't
fit to lick my shoe."
"You were crazy about him for a while," said Catherine.
"Crazy about him!" cried Myrtle incredulously. "Who said I was crazy
about him? I never was any more crazy about him than I was about that
man there."
She pointed suddenly at me, and everyone looked at me accusingly. I
tried to show by my expression that I expected no affection.
"The only crazy I was was when I married him. I knew right away I made
a mistake. He borrowed somebody's best suit to get married in, and
never even told me about it, and the man came after it one day when he
was out: 'Oh, is that your suit?' I said. 'This is the first I ever
heard about it.' But I gave it to him and then I lay down and cried to
beat the band all afternoon."
"She really ought to get away from him," resumed Catherine to me.
"They've been living over that garage for eleven years. And Tom's the
first sweetie she ever had."
The bottle of whiskya second onewas now in constant demand by all
present, excepting Catherine, who "felt just as good on nothing at
all." Tom rang for the janitor and sent him for some celebrated
sandwiches, which were a complete supper in themselves. I wanted to
get out and walk eastward toward the park through the soft twilight,
but each time I tried to go I became entangled in some wild, strident
argument which pulled me back, as if with ropes, into my chair. Yet
high over the city our line of yellow windows must have contributed
their share of human secrecy to the casual watcher in the darkening
streets, and I saw him too, looking up and wondering. I was within and
without, simultaneously enchanted and repelled by the inexhaustible
variety of life.
Myrtle pulled her chair close to mine, and suddenly her warm breath
poured over me the story of her first meeting with Tom.
"It was on the two little seats facing each other that are always the
last ones left on the train. I was going up to New York to see my
sister and spend the night. He had on a dress suit and patent leather
shoes, and I couldn't keep my eyes off him, but every time he looked
at me I had to pretend to be looking at the advertisement over his
head. When we came into the station he was next to me, and his white
shirtfront pressed against my arm, and so I told him I'd have to call
a policeman, but he knew I lied. I was so excited that when I got into
a taxi with him I didn't hardly know I wasn't getting into a subway
train. All I kept thinking about, over and over, was 'You can't live
forever; you can't live forever.'"
She turned to Mrs. McKee and the room rang full of her artificial
laughter.
"My dear," she cried, "I'm going to give you this dress as soon as I'm
through with it. I've got to get another one tomorrow. I'm going to
make a list of all the things I've got to get. A massage and a wave,
and a collar for the dog, and one of those cute little ashtrays where
you touch a spring, and a wreath with a black silk bow for mother's
grave that'll last all summer. I got to write down a list so I won't
forget all the things I got to do."
It was nine o'clockalmost immediately afterward I looked at my watch
and found it was ten. Mr. McKee was asleep on a chair with his fists
clenched in his lap, like a photograph of a man of action. Taking out
my handkerchief I wiped from his cheek the spot of dried lather that
had worried me all the afternoon.
The little dog was sitting on the table looking with blind eyes
through the smoke, and from time to time groaning faintly. People
disappeared, reappeared, made plans to go somewhere, and then lost
each other, searched for each other, found each other a few feet
away. Some time toward midnight Tom Buchanan and Mrs. Wilson stood
face to face discussing, in impassioned voices, whether Mrs. Wilson
had any right to mention Daisy's name.
"Daisy! Daisy! Daisy!" shouted Mrs. Wilson. "I'll say it whenever I
want to! Daisy! Dai"
Making a short deft movement, Tom Buchanan broke her nose with his
open hand.
Then there were bloody towels upon the bathroom floor, and women's
voices scolding, and high over the confusion a long broken wail of
pain. Mr. McKee awoke from his doze and started in a daze toward the
door. When he had gone halfway he turned around and stared at the
scenehis wife and Catherine scolding and consoling as they stumbled
here and there among the crowded furniture with articles of aid, and
the despairing figure on the couch, bleeding fluently, and trying to
spread a copy of Town Tattle over the tapestry scenes of
Versailles. Then Mr. McKee turned and continued on out the door.
Taking my hat from the chandelier, I followed.
"Come to lunch some day," he suggested, as we groaned down in the
elevator.
"Where?"
"Anywhere."
"Keep your hands off the lever," snapped the elevator boy.
"I beg your pardon," said Mr. McKee with dignity, "I didn't know I was
touching it."
"All right," I agreed, "I'll be glad to."`,length:12378,num_lines:220,location:"Front Door",importance:.9,conflict:.8,characters:[{name:"Catherine",importance:.7,importance_exp:"She provides key insights about Myrtle and Tom.",emotion:"curious and conspiratorial",sentiment:.5,quote:'"Do you live down on Long Island, too?"',fake_quote:"",importance_rank:3},{name:"Myrtle Wilson",importance:1,importance_exp:"Central to the conflict and emotional climax of the scene.",emotion:"defiant and agitated",sentiment:-.5,quote:'"Daisy! Daisy! Daisy!" shouted Mrs. Wilson.',fake_quote:"",importance_rank:1},{name:"Tom Buchanan",importance:1,importance_exp:"His actions escalate the conflict dramatically.",emotion:"angry and violent",sentiment:-.8,quote:"Making a short deft movement, Tom Buchanan broke her nose with his open hand.",fake_quote:"",importance_rank:2},{name:"Mr. Mckee",importance:.4,importance_exp:"Minor role, provides context about his profession.",emotion:"bored and passive",sentiment:0,quote:"No quote available",fake_quote:"Mr. McKee appears disinterested and detached from the escalating drama.",importance_rank:5},{name:"Mrs. Mckee",importance:.5,importance_exp:"Her interactions contribute to the social dynamics of the scene.",emotion:"proud and dismissive",sentiment:.2,quote:`"I like your dress," remarked Mrs. McKee, "I think it's adorable."`,fake_quote:"",importance_rank:4}],number:4,importance_rank:1,conflict_rank:1},{title:"Gatsby's Summer Parties",summary:"Description of Gatsby's extravagant parties.",chapter:"III",first_line:1,last_line:62,explanation:"Start of chapter.",text:`There was music from my neighbour's house through the summer nights.
In his blue gardens men and girls came and went like moths among the
whisperings and the champagne and the stars. At high tide in the
afternoon I watched his guests diving from the tower of his raft, or
taking the sun on the hot sand of his beach while his two motorboats
slit the waters of the Sound, drawing aquaplanes over cataracts of
foam. On weekends his Rolls-Royce became an omnibus, bearing parties
to and from the city between nine in the morning and long past
midnight, while his station wagon scampered like a brisk yellow bug to
meet all trains. And on Mondays eight servants, including an extra
gardener, toiled all day with mops and scrubbing-brushes and hammers
and garden-shears, repairing the ravages of the night before.
Every Friday five crates of oranges and lemons arrived from a
fruiterer in New Yorkevery Monday these same oranges and lemons left
his back door in a pyramid of pulpless halves. There was a machine in
the kitchen which could extract the juice of two hundred oranges in
half an hour if a little button was pressed two hundred times by a
butler's thumb.
At least once a fortnight a corps of caterers came down with several
hundred feet of canvas and enough coloured lights to make a Christmas
tree of Gatsby's enormous garden. On buffet tables, garnished with
glistening hors-d'oeuvre, spiced baked hams crowded against salads of
harlequin designs and pastry pigs and turkeys bewitched to a dark
gold. In the main hall a bar with a real brass rail was set up, and
stocked with gins and liquors and with cordials so long forgotten that
most of his female guests were too young to know one from another.
By seven o'clock the orchestra has arrived, no thin five-piece affair,
but a whole pitful of oboes and trombones and saxophones and viols and
cornets and piccolos, and low and high drums. The last swimmers have
come in from the beach now and are dressing upstairs; the cars from
New York are parked five deep in the drive, and already the halls and
salons and verandas are gaudy with primary colours, and hair bobbed in
strange new ways, and shawls beyond the dreams of Castile. The bar is
in full swing, and floating rounds of cocktails permeate the garden
outside, until the air is alive with chatter and laughter, and casual
innuendo and introductions forgotten on the spot, and enthusiastic
meetings between women who never knew each other's names.
The lights grow brighter as the earth lurches away from the sun, and
now the orchestra is playing yellow cocktail music, and the opera of
voices pitches a key higher. Laughter is easier minute by minute,
spilled with prodigality, tipped out at a cheerful word. The groups
change more swiftly, swell with new arrivals, dissolve and form in the
same breath; already there are wanderers, confident girls who weave
here and there among the stouter and more stable, become for a sharp,
joyous moment the centre of a group, and then, excited with triumph,
glide on through the sea-change of faces and voices and colour under
the constantly changing light.
Suddenly one of these gypsies, in trembling opal, seizes a cocktail
out of the air, dumps it down for courage and, moving her hands like
Frisco, dances out alone on the canvas platform. A momentary hush; the
orchestra leader varies his rhythm obligingly for her, and there is a
burst of chatter as the erroneous news goes around that she is Gilda
Gray's understudy from the Follies. The party has begun.
I believe that on the first night I went to Gatsby's house I was one
of the few guests who had actually been invited. People were not
invitedthey went there. They got into automobiles which bore them out
to Long Island, and somehow they ended up at Gatsby's door. Once there
they were introduced by somebody who knew Gatsby, and after that they
conducted themselves according to the rules of behaviour associated
with an amusement park. Sometimes they came and went without having
met Gatsby at all, came for the party with a simplicity of heart that
was its own ticket of admission.`,length:4101,num_lines:62,location:"Gatsby's House",importance:.9,conflict:.1,characters:[{name:"Jay Gatsby",importance:1,importance_exp:"Central figure of the scene",emotion:"mysterious and extravagant",sentiment:.8,quote:"No quote available",fake_quote:"Gatsby is portrayed as a mysterious host whose extravagant parties attract many guests, yet he remains somewhat distant and elusive.",importance_rank:1},{name:"Nick Carraway",importance:.8,importance_exp:"Provides perspective on the scene",emotion:"observant and reflective",sentiment:.7,quote:"I believe that on the first night I went to Gatsby's house I was one of the few guests who had actually been invited.",fake_quote:"",importance_rank:2},{name:"The Gypsy Dancer",importance:.6,importance_exp:"Represents the lively atmosphere",emotion:"joyful and carefree",sentiment:.9,quote:"Suddenly one of these gypsies, in trembling opal, seizes a cocktail out of the air, dumps it down for courage and, moving her hands like Frisco, dances out alone on the canvas platform.",fake_quote:"",importance_rank:3}],number:1,importance_rank:1,conflict_rank:10},{title:"Nick's Invitation",summary:"Nick receives an invitation to Gatsby's party.",chapter:"III",first_line:63,last_line:69,explanation:"Change in focus to Nick's personal experience.",text:`I had been actually invited. A chauffeur in a uniform of robin's-egg
blue crossed my lawn early that Saturday morning with a surprisingly
formal note from his employer: the honour would be entirely Gatsby's,
it said, if I would attend his "little party" that night. He had seen
me several times, and had intended to call on me long before, but a
peculiar combination of circumstances had prevented itsigned Jay
Gatsby, in a majestic hand.`,length:439,num_lines:7,location:"Gatsby's House",importance:.8,conflict:.1,characters:[{name:"Jay Gatsby",importance:1,importance_exp:"Very important character as the host",emotion:"Formal and inviting",sentiment:.8,quote:"the honour would be entirely Gatsby's",fake_quote:"",importance_rank:1}],number:2,importance_rank:2,conflict_rank:11},{title:"Nick Arrives at the Party",summary:"Nick arrives at Gatsby's party and feels out of place.",chapter:"III",first_line:70,last_line:85,explanation:"Change in location to Gatsby's lawn.",text:`Dressed up in white flannels I went over to his lawn a little after
seven, and wandered around rather ill at ease among swirls and eddies
of people I didn't knowthough here and there was a face I had noticed
on the commuting train. I was immediately struck by the number of
young Englishmen dotted about; all well dressed, all looking a little
hungry, and all talking in low, earnest voices to solid and prosperous
Americans. I was sure that they were selling something: bonds or
insurance or automobiles. They were at least agonizingly aware of the
easy money in the vicinity and convinced that it was theirs for a few
words in the right key.
As soon as I arrived I made an attempt to find my host, but the two or
three people of whom I asked his whereabouts stared at me in such an
amazed way, and denied so vehemently any knowledge of his movements,
that I slunk off in the direction of the cocktail tablethe only place
in the garden where a single man could linger without looking
purposeless and alone.`,length:1009,num_lines:16,location:"Gatsby's House",importance:.7,conflict:.3,characters:[{name:"Nick Carraway",importance:1,importance_exp:"The narrator is the main character in this scene.",emotion:"Ill at ease and observant",sentiment:-.2,quote:"I was immediately struck by the number of young Englishmen dotted about; all well dressed, all looking a little hungry, and all talking in low, earnest voices to solid and prosperous Americans.",fake_quote:"",importance_rank:1},{name:"Young Englishmen",importance:.5,importance_exp:"They play a significant role in the narrator's observations.",emotion:"Hungry and eager",sentiment:-.1,quote:"No quote available",fake_quote:"The young Englishmen are described as well-dressed and looking hungry, indicating their eagerness to engage with wealthy Americans.",importance_rank:2},{name:"Solid And Prosperous Americans",importance:.5,importance_exp:"They are the target of the young Englishmen's efforts.",emotion:"Confident and unaware",sentiment:.1,quote:"No quote available",fake_quote:"The prosperous Americans are depicted as solid and successful, seemingly oblivious to the young Englishmen's intentions.",importance_rank:3}],number:3,importance_rank:8,conflict_rank:4},{title:"Meeting Jordan Baker",summary:"Nick meets Jordan Baker at the party.",chapter:"III",first_line:86,last_line:109,explanation:"Change in interaction with new characters.",text:`I was on my way to get roaring drunk from sheer embarrassment when
Jordan Baker came out of the house and stood at the head of the marble
steps, leaning a little backward and looking with contemptuous
interest down into the garden.
Welcome or not, I found it necessary to attach myself to someone
before I should begin to address cordial remarks to the passersby.
"Hello!" I roared, advancing toward her. My voice seemed unnaturally
loud across the garden.
"I thought you might be here," she responded absently as I came up.
"I remembered you lived next door to"
She held my hand impersonally, as a promise that she'd take care of me
in a minute, and gave ear to two girls in twin yellow dresses, who
stopped at the foot of the steps.
"Hello!" they cried together. "Sorry you didn't win."
That was for the golf tournament. She had lost in the finals the week
before.
"You don't know who we are," said one of the girls in yellow, "but we
met you here about a month ago."
"You've dyed your hair since then," remarked Jordan, and I started,
but the girls had moved casually on and her remark was addressed to
the premature moon, produced like the supper, no doubt, out of a
caterer's basket. With Jordan's slender golden arm resting in mine, we
descended the steps and sauntered about the garden. A tray of
cocktails floated at us through the twilight, and we sat down at a`,length:1371,num_lines:24,location:"Gatsby's House",importance:.8,conflict:.2,characters:[{name:"Jordan Baker",importance:.7,importance_exp:"Significant role as a social figure",emotion:"Contemptuous and detached",sentiment:-.2,quote:`"You don't know who we are," said one of the girls in yellow, "but we met you here about a month ago."`,fake_quote:"",importance_rank:1},{name:"Nick Carraway",importance:.6,importance_exp:"Main perspective character",emotion:"Embarrassed and seeking connection",sentiment:-.5,quote:'"I was on my way to get roaring drunk from sheer embarrassment when Jordan Baker came out of the house..."',fake_quote:"",importance_rank:2}],number:4,importance_rank:3,conflict_rank:6},{title:"Rumors About Gatsby",summary:"Guests gossip about Gatsby's past.",chapter:"III",first_line:110,last_line:148,explanation:"Shift in conversation among guests.",text:`table with the two girls in yellow and three men, each one introduced
to us as Mr. Mumble.
"Do you come to these parties often?" inquired Jordan of the girl
beside her.
"The last one was the one I met you at," answered the girl, in an
alert confident voice. She turned to her companion: "Wasn't it for
you, Lucille?"
It was for Lucille, too.
"I like to come," Lucille said. "I never care what I do, so I always
have a good time. When I was here last I tore my gown on a chair, and
he asked me my name and addressinside of a week I got a package from
Croirier's with a new evening gown in it."
"Did you keep it?" asked Jordan.
"Sure I did. I was going to wear it tonight, but it was too big in the
bust and had to be altered. It was gas blue with lavender beads. Two
hundred and sixty-five dollars."
"There's something funny about a fellow that'll do a thing like that,"
said the other girl eagerly. "He doesn't want any trouble with
anybody."
"Who doesn't?" I inquired.
"Gatsby. Somebody told me"
The two girls and Jordan leaned together confidentially.
"Somebody told me they thought he killed a man once."
A thrill passed over all of us. The three Mr. Mumbles bent forward and
listened eagerly.
"I don't think it's so much that," argued Lucille sceptically; "It's
more that he was a German spy during the war."
One of the men nodded in confirmation.
"I heard that from a man who knew all about him, grew up with him in
Germany," he assured us positively.
"Oh, no," said the first girl, "it couldn't be that, because he was in
the American army during the war." As our credulity switched back to
her she leaned forward with enthusiasm. "You look at him sometimes
when he thinks nobody's looking at him. I'll bet he killed a man."
She narrowed her eyes and shivered. Lucille shivered. We all turned
and looked around for Gatsby. It was testimony to the romantic
speculation he inspired that there were whispers about him from those
who had found little that it was necessary to whisper about in this
world.`,length:2008,num_lines:39,location:"Gatsby's House",importance:.8,conflict:.5,characters:[{name:"Jordan Baker",importance:.6,importance_exp:"Key character facilitating conversation",emotion:"Curious and engaged",sentiment:.5,quote:'"Do you come to these parties often?"',fake_quote:"",importance_rank:2},{name:"Lucille",importance:.7,importance_exp:"Central to the gossip about Gatsby",emotion:"Confident and skeptical",sentiment:.4,quote:"No quote available",fake_quote:"Lucille feels confident and skeptical about her carefree attitude towards life, suggesting she embraces spontaneity without concern for consequences.",importance_rank:1},{name:"First Girl",importance:.5,importance_exp:"Contributes to the gossip about Gatsby",emotion:"Eager and speculative",sentiment:.3,quote:`"There's something funny about a fellow that'll do a thing like that."`,fake_quote:"",importance_rank:3},{name:"Mr. Mumble (one Of The Men)",importance:.4,importance_exp:"Listener in the gossip circle",emotion:"Eager and attentive",sentiment:.2,quote:"No quote available",fake_quote:"He listens intently to the gossip about Gatsby, showing interest in the conversation.",importance_rank:4}],number:5,importance_rank:4,conflict_rank:2},{title:"Dinner with Jordan",summary:"Nick joins Jordan's party for dinner.",chapter:"III",first_line:149,last_line:159,explanation:"Change in setting to dinner.",text:`The first supperthere would be another one after midnightwas now
being served, and Jordan invited me to join her own party, who were
spread around a table on the other side of the garden. There were
three married couples and Jordan's escort, a persistent undergraduate
given to violent innuendo, and obviously under the impression that
sooner or later Jordan was going to yield him up her person to a
greater or lesser degree. Instead of rambling, this party had
preserved a dignified homogeneity, and assumed to itself the function
of representing the staid nobility of the countrysideEast Egg
condescending to West Egg and carefully on guard against its
spectroscopic gaiety.`,length:680,num_lines:11,location:"Gatsby's House",importance:.7,conflict:.2,characters:[{name:"Jordan Baker",importance:.8,importance_exp:"Central figure in the social gathering",emotion:"Inviting and confident",sentiment:.6,quote:"Jordan invited me to join her own party",fake_quote:"",importance_rank:1},{name:"Undergraduate Escort",importance:.5,importance_exp:"Represents youthful desire and tension",emotion:"Persistent and suggestive",sentiment:.2,quote:"a persistent undergraduate given to violent innuendo",fake_quote:"",importance_rank:2}],number:6,importance_rank:9,conflict_rank:7},{title:"Searching for Gatsby",summary:"Nick and Jordan search for Gatsby.",chapter:"III",first_line:160,last_line:204,explanation:"Change in action as they look for Gatsby.",text:`"Let's get out," whispered Jordan, after a somehow wasteful and
inappropriate half-hour; "this is much too polite for me."
We got up, and she explained that we were going to find the host: I
had never met him, she said, and it was making me uneasy. The
undergraduate nodded in a cynical, melancholy way.
The bar, where we glanced first, was crowded, but Gatsby was not
there. She couldn't find him from the top of the steps, and he wasn't
on the veranda. On a chance we tried an important-looking door, and
walked into a high Gothic library, panelled with carved English oak,
and probably transported complete from some ruin overseas.
A stout, middle-aged man, with enormous owl-eyed spectacles, was
sitting somewhat drunk on the edge of a great table, staring with
unsteady concentration at the shelves of books. As we entered he
wheeled excitedly around and examined Jordan from head to foot.
"What do you think?" he demanded impetuously.
"About what?"
He waved his hand toward the bookshelves.
"About that. As a matter of fact you needn't bother to ascertain. I
ascertained. They're real."
"The books?"
He nodded.
"Absolutely realhave pages and everything. I thought they'd be a nice
durable cardboard. Matter of fact, they're absolutely real. Pages
andHere! Lemme show you."
Taking our scepticism for granted, he rushed to the bookcases and
returned with Volume One of the Stoddard Lectures.
"See!" he cried triumphantly. "It's a bona-fide piece of printed
matter. It fooled me. This fella's a regular Belasco. It's a
triumph. What thoroughness! What realism! Knew when to stop,
toodidn't cut the pages. But what do you want? What do you expect?"
He snatched the book from me and replaced it hastily on its shelf,
muttering that if one brick was removed the whole library was liable
to collapse.
"Who brought you?" he demanded. "Or did you just come? I was brought.
Most people were brought."
Jordan looked at him alertly, cheerfully, without answering.
"I was brought by a woman named Roosevelt," he continued. "Mrs. Claud
Roosevelt. Do you know her? I met her somewhere last night. I've been
drunk for about a week now, and I thought it might sober me up to sit
in a library."
"Has it?"
"A little bit, I think. I can't tell yet. I've only been here an hour.
Did I tell you about the books? They're real. They're"
"You told us."
We shook hands with him gravely and went back outdoors.`,length:2393,num_lines:45,location:"Gatsby's House",importance:.7,conflict:.3,characters:[{name:"Jordan Baker",importance:.8,importance_exp:"Key character guiding the scene",emotion:"uneasy yet cheerful",sentiment:.5,quote:`"Let's get out," whispered Jordan, after a somehow wasteful and inappropriate half-hour; "this is much too polite for me."`,fake_quote:"",importance_rank:1},{name:"Owl-eyed Man",importance:.6,importance_exp:"Interesting character providing insight",emotion:"excited and somewhat drunk",sentiment:.2,quote:'"What do you think?" he demanded impetuously.',fake_quote:"",importance_rank:2}],number:7,importance_rank:10,conflict_rank:5},{title:"Dancing and Entertainment",summary:"The party continues with dancing and performances.",chapter:"III",first_line:210,last_line:224,explanation:"Shift back to the party atmosphere.",text:`traps. By midnight the hilarity had increased. A celebrated tenor had
sung in Italian, and a notorious contralto had sung in jazz, and
between the numbers people were doing "stunts" all over the garden,
while happy, vacuous bursts of laughter rose toward the summer sky. A
pair of stage twins, who turned out to be the girls in yellow, did a
baby act in costume, and champagne was served in glasses bigger than
finger-bowls. The moon had risen higher, and floating in the Sound was
a triangle of silver scales, trembling a little to the stiff, tinny
drip of the banjoes on the lawn.
I was still with Jordan Baker. We were sitting at a table with a man
of about my age and a rowdy little girl, who gave way upon the
slightest provocation to uncontrollable laughter. I was enjoying
myself now. I had taken two finger-bowls of champagne, and the scene
had changed before my eyes into something significant, elemental, and
profound.`,length:928,num_lines:15,location:"Gatsby's House",importance:.7,conflict:.2,characters:[{name:"Jordan Baker",importance:.6,importance_exp:"Key character interacting with the narrator",emotion:"Amused and carefree",sentiment:.5,quote:"No quote available",fake_quote:"Jordan is enjoying the festivities and engaging with the narrator.",importance_rank:2},{name:"Nick Carraway",importance:.8,importance_exp:"Main character experiencing the scene",emotion:"Joyful and reflective",sentiment:.7,quote:"I was enjoying myself now.",fake_quote:"",importance_rank:1},{name:"Rowdy Little Girl",importance:.4,importance_exp:"Minor character adding to the atmosphere",emotion:"Joyful and carefree",sentiment:.6,quote:"No quote available",fake_quote:"The little girl is laughing uncontrollably, contributing to the lively atmosphere.",importance_rank:3}],number:8,importance_rank:11,conflict_rank:8},{title:"Nick Meets Gatsby",summary:"Nick finally meets Gatsby at the party.",chapter:"III",first_line:245,last_line:266,explanation:"Significant change as Nick meets the host.",text:`"I'm Gatsby," he said suddenly.
"What!" I exclaimed. "Oh, I beg your pardon."
"I thought you knew, old sport. I'm afraid I'm not a very good host."
He smiled understandinglymuch more than understandingly. It was one
of those rare smiles with a quality of eternal reassurance in it, that
you may come across four or five times in life. It facedor seemed to
facethe whole eternal world for an instant, and then concentrated on
you with an irresistible prejudice in your favour. It understood you
just so far as you wanted to be understood, believed in you as you
would like to believe in yourself, and assured you that it had
precisely the impression of you that, at your best, you hoped to
convey. Precisely at that point it vanishedand I was looking at an
elegant young roughneck, a year or two over thirty, whose elaborate
formality of speech just missed being absurd. Some time before he
introduced himself I'd got a strong impression that he was picking his
words with care.
Almost at the moment when Mr. Gatsby identified himself a butler
hurried toward him with the information that Chicago was calling him
on the wire. He excused himself with a small bow that included each of
us in turn.
"If you want anything just ask for it, old sport," he urged me.
"Excuse me. I will rejoin you later."`,length:1300,num_lines:22,location:"Gatsby's House",importance:.8,conflict:.2,characters:[{name:"Jay Gatsby",importance:1,importance_exp:"Very important character in this scene",emotion:"Charming and reassuring",sentiment:.8,quote:`I'm Gatsby," he said suddenly.`,fake_quote:"",importance_rank:1},{name:"Nick Carraway",importance:.8,importance_exp:"Key perspective character in this scene",emotion:"Surprised and intrigued",sentiment:.6,quote:"Oh, I beg your pardon.",fake_quote:"",importance_rank:2}],number:9,importance_rank:5,conflict_rank:9},{title:"Jordan and Gatsby's Conversation",summary:"Jordan speaks with Gatsby privately.",chapter:"III",first_line:267,last_line:380,explanation:"Change in focus to Jordan and Gatsby's interaction.",text:`When he was gone I turned immediately to Jordanconstrained to assure
her of my surprise. I had expected that Mr. Gatsby would be a florid
and corpulent person in his middle years.
"Who is he?" I demanded. "Do you know?"
"He's just a man named Gatsby."
"Where is he from, I mean? And what does he do?"
"Now you're started on the subject," she answered with a wan smile.
"Well, he told me once he was an Oxford man."
A dim background started to take shape behind him, but at her next
remark it faded away.
"However, I don't believe it."
"Why not?"
"I don't know," she insisted, "I just don't think he went there."
Something in her tone reminded me of the other girl's "I think he
killed a man," and had the effect of stimulating my curiosity. I would
have accepted without question the information that Gatsby sprang from
the swamps of Louisiana or from the lower East Side of New York. That
was comprehensible. But young men didn'tat least in my provincial
inexperience I believed they didn'tdrift coolly out of nowhere and
buy a palace on Long Island Sound.
"Anyhow, he gives large parties," said Jordan, changing the subject
with an urban distaste for the concrete. "And I like large parties.
They're so intimate. At small parties there isn't any privacy."
There was the boom of a bass drum, and the voice of the orchestra
leader rang out suddenly above the echolalia of the garden.
"Ladies and gentlemen," he cried. "At the request of Mr. Gatsby we are
going to play for you Mr. Vladmir Tostoff's latest work, which
attracted so much attention at Carnegie Hall last May. If you read the
papers you know there was a big sensation." He smiled with jovial
condescension, and added: "Some sensation!" Whereupon everybody
laughed.
"The piece is known," he concluded lustily, "as 'Vladmir Tostoff's
Jazz History of the World!'"
The nature of Mr. Tostoff's composition eluded me, because just as it
began my eyes fell on Gatsby, standing alone on the marble steps and
looking from one group to another with approving eyes. His tanned skin
was drawn attractively tight on his face and his short hair looked as
though it were trimmed every day. I could see nothing sinister about
him. I wondered if the fact that he was not drinking helped to set him
off from his guests, for it seemed to me that he grew more correct as
the fraternal hilarity increased. When the "Jazz History of the World"
was over, girls were putting their heads on men's shoulders in a
puppyish, convivial way, girls were swooning backward playfully into
men's arms, even into groups, knowing that someone would arrest their
fallsbut no one swooned backward on Gatsby, and no French bob touched
Gatsby's shoulder, and no singing quartets were formed with Gatsby's
head for one link.
"I beg your pardon."
Gatsby's butler was suddenly standing beside us.
"Miss Baker?" he inquired. "I beg your pardon, but Mr. Gatsby would
like to speak to you alone."
"With me?" she exclaimed in surprise.
"Yes, madame."
She got up slowly, raising her eyebrows at me in astonishment, and
followed the butler toward the house. I noticed that she wore her
evening-dress, all her dresses, like sports clothesthere was a
jauntiness about her movements as if she had first learned to walk
upon golf courses on clean, crisp mornings.
I was alone and it was almost two. For some time confused and
intriguing sounds had issued from a long, many-windowed room which
overhung the terrace. Eluding Jordan's undergraduate, who was now
engaged in an obstetrical conversation with two chorus girls, and who
implored me to join him, I went inside.
The large room was full of people. One of the girls in yellow was
playing the piano, and beside her stood a tall, red-haired young lady
from a famous chorus, engaged in song. She had drunk a quantity of
champagne, and during the course of her song she had decided, ineptly,
that everything was very, very sadshe was not only singing, she was
weeping too. Whenever there was a pause in the song she filled it with
gasping, broken sobs, and then took up the lyric again in a quavering
soprano. The tears coursed down her cheeksnot freely, however, for
when they came into contact with her heavily beaded eyelashes they
assumed an inky colour, and pursued the rest of their way in slow
black rivulets. A humorous suggestion was made that she sing the notes
on her face, whereupon she threw up her hands, sank into a chair, and
went off into a deep vinous sleep.
"She had a fight with a man who says he's her husband," explained a
girl at my elbow.
I looked around. Most of the remaining women were now having fights
with men said to be their husbands. Even Jordan's party, the quartet
from East Egg, were rent asunder by dissension. One of the men was
talking with curious intensity to a young actress, and his wife, after
attempting to laugh at the situation in a dignified and indifferent
way, broke down entirely and resorted to flank attacksat intervals
she appeared suddenly at his side like an angry diamond, and hissed:
"You promised!" into his ear.
The reluctance to go home was not confined to wayward men. The hall
was at present occupied by two deplorably sober men and their highly
indignant wives. The wives were sympathizing with each other in
slightly raised voices.
"Whenever he sees I'm having a good time he wants to go home."
"Never heard anything so selfish in my life."
"We're always the first ones to leave."
"So are we."
"Well, we're almost the last tonight," said one of the men sheepishly.
"The orchestra left half an hour ago."
In spite of the wives' agreement that such malevolence was beyond
credibility, the dispute ended in a short struggle, and both wives
were lifted, kicking, into the night.
As I waited for my hat in the hall the door of the library opened and
Jordan Baker and Gatsby came out together. He was saying some last
word to her, but the eagerness in his manner tightened abruptly into
formality as several people approached him to say goodbye.
Jordan's party were calling impatiently to her from the porch, but she
lingered for a moment to shake hands.
"I've just heard the most amazing thing," she whispered. "How long
were we in there?"
"Why, about an hour."
"It was  simply amazing," she repeated abstractedly. "But I swore I
wouldn't tell it and here I am tantalizing you." She yawned gracefully
in my face. "Please come and see me  Phone book  Under the name of
Mrs. Sigourney Howard  My aunt " She was hurrying off as she
talkedher brown hand waved a jaunty salute as she melted into her
party at the door.`,length:6549,num_lines:114,location:"Gatsby's House",importance:.8,conflict:.5,characters:[{name:"Jordan Baker",importance:.7,importance_exp:"Key character providing insight about Gatsby",emotion:"Curious and amused",sentiment:.5,quote:`"I just don't think he went there."`,fake_quote:"",importance_rank:2},{name:"Jay Gatsby",importance:.9,importance_exp:"Central figure in the scene, observed by others",emotion:"Mysterious and aloof",sentiment:.2,quote:"No quote available",fake_quote:"Gatsby stands alone, observing the party with a sense of detachment.",importance_rank:1},{name:"Nick Carraway",importance:.6,importance_exp:"Main observer of the events and characters",emotion:"Intrigued and confused",sentiment:.3,quote:"I wondered if the fact that he was not drinking helped to set him off from his guests.",fake_quote:"",importance_rank:3}],number:10,importance_rank:6,conflict_rank:3},{title:"The Party Winds Down",summary:"The party begins to end as guests leave.",chapter:"III",first_line:381,last_line:462,explanation:"Shift to the conclusion of the party.",text:`Rather ashamed that on my first appearance I had stayed so late, I
joined the last of Gatsby's guests, who were clustered around him. I
wanted to explain that I'd hunted for him early in the evening and to
apologize for not having known him in the garden.
"Don't mention it," he enjoined me eagerly. "Don't give it another
thought, old sport." The familiar expression held no more familiarity
than the hand which reassuringly brushed my shoulder. "And don't
forget we're going up in the hydroplane tomorrow morning, at nine
o'clock."
Then the butler, behind his shoulder:
"Philadelphia wants you on the phone, sir."
"All right, in a minute. Tell them I'll be right there  Good night."
"Good night."
"Good night." He smiledand suddenly there seemed to be a pleasant
significance in having been among the last to go, as if he had desired
it all the time. "Good night, old sport  Good night."
But as I walked down the steps I saw that the evening was not quite
over. Fifty feet from the door a dozen headlights illuminated a
bizarre and tumultuous scene. In the ditch beside the road, right side
up, but violently shorn of one wheel, rested a new coup which had
left Gatsby's drive not two minutes before. The sharp jut of a wall
accounted for the detachment of the wheel, which was now getting
considerable attention from half a dozen curious chauffeurs. However,
as they had left their cars blocking the road, a harsh, discordant din
from those in the rear had been audible for some time, and added to
the already violent confusion of the scene.
A man in a long duster had dismounted from the wreck and now stood in
the middle of the road, looking from the car to the tyre and from the
tyre to the observers in a pleasant, puzzled way.
"See!" he explained. "It went in the ditch."
The fact was infinitely astonishing to him, and I recognized first the
unusual quality of wonder, and then the manit was the late patron of
Gatsby's library.
"How'd it happen?"
He shrugged his shoulders.
"I know nothing whatever about mechanics," he said decisively.
"But how did it happen? Did you run into the wall?"
"Don't ask me," said Owl Eyes, washing his hands of the whole
matter. "I know very little about drivingnext to nothing. It
happened, and that's all I know."
"Well, if you're a poor driver you oughtn't to try driving at night."
"But I wasn't even trying," he explained indignantly, "I wasn't even
trying."
An awed hush fell upon the bystanders.
"Do you want to commit suicide?"
"You're lucky it was just a wheel! A bad driver and not even trying!"
"You don't understand," explained the criminal. "I wasn't driving.
There's another man in the car."
The shock that followed this declaration found voice in a sustained
"Ah-h-h!" as the door of the coup swung slowly open. The crowdit was
now a crowdstepped back involuntarily, and when the door had opened
wide there was a ghostly pause. Then, very gradually, part by part, a
pale, dangling individual stepped out of the wreck, pawing tentatively
at the ground with a large uncertain dancing shoe.
Blinded by the glare of the headlights and confused by the incessant
groaning of the horns, the apparition stood swaying for a moment
before he perceived the man in the duster.
"Wha's matter?" he inquired calmly. "Did we run outa gas?"
"Look!"
Half a dozen fingers pointed at the amputated wheelhe stared at it
for a moment, and then looked upward as though he suspected that it
had dropped from the sky.
"It came off," someone explained.
He nodded.
"At first I din' notice we'd stopped."
A pause. Then, taking a long breath and straightening his shoulders,
he remarked in a determined voice:
"Wonder'ff tell me where there's a gas'line station?"
At least a dozen men, some of them a little better off than he was,
explained to him that wheel and car were no longer joined by any
physical bond.
"Back out," he suggested after a moment. "Put her in reverse."
"But the wheel's off!"
He hesitated.
"No harm in trying," he said.
The caterwauling horns had reached a crescendo and I turned away and
cut across the lawn toward home. I glanced back once. A wafer of a
moon was shining over Gatsby's house, making the night fine as before,
and surviving the laughter and the sound of his still glowing garden.
A sudden emptiness seemed to flow now from the windows and the great
doors, endowing with complete isolation the figure of the host, who
stood on the porch, his hand up in a formal gesture of farewell.`,length:4456,num_lines:82,location:"Gatsby's House",importance:.8,conflict:.6,characters:[{name:"Jay Gatsby",importance:1,importance_exp:"Very important character in this scene",emotion:"Welcoming and slightly mysterious",sentiment:.5,quote:`"Don't mention it," he enjoined me eagerly. "Don't give it another thought, old sport."`,fake_quote:"",importance_rank:1},{name:"Owl-eyed Man",importance:.7,importance_exp:"Significant character involved in the car accident",emotion:"Puzzled and defensive",sentiment:0,quote:'"I know nothing whatever about mechanics," he said decisively.',fake_quote:"",importance_rank:2}],number:11,importance_rank:7,conflict_rank:1},{title:"Gatsby's House Party",summary:"Guests return to Gatsby's house after church.",chapter:"IV",first_line:1,last_line:68,explanation:"Start of chapter.",text:`On Sunday morning while church bells rang in the villages alongshore,
the world and its mistress returned to Gatsby's house and twinkled
hilariously on his lawn.
"He's a bootlegger," said the young ladies, moving somewhere between
his cocktails and his flowers. "One time he killed a man who had found
out that he was nephew to Von Hindenburg and second cousin to the
devil. Reach me a rose, honey, and pour me a last drop into that there
crystal glass."
Once I wrote down on the empty spaces of a timetable the names of
those who came to Gatsby's house that summer. It is an old timetable
now, disintegrating at its folds, and headed "This schedule in effect
July 5th, 1922." But I can still read the grey names, and they will
give you a better impression than my generalities of those who
accepted Gatsby's hospitality and paid him the subtle tribute of
knowing nothing whatever about him.
From East Egg, then, came the Chester Beckers and the Leeches, and a
man named Bunsen, whom I knew at Yale, and Doctor Webster Civet, who
was drowned last summer up in Maine. And the Hornbeams and the Willie
Voltaires, and a whole clan named Blackbuck, who always gathered in a
corner and flipped up their noses like goats at whosoever came
near. And the Ismays and the Chrysties (or rather Hubert Auerbach and
Mr. Chrystie's wife), and Edgar Beaver, whose hair, they say, turned
cotton-white one winter afternoon for no good reason at all.
Clarence Endive was from East Egg, as I remember. He came only once,
in white knickerbockers, and had a fight with a bum named Etty in the
garden. From farther out on the Island came the Cheadles and the O.
R. P. Schraeders, and the Stonewall Jackson Abrams of Georgia, and the
Fishguards and the Ripley Snells. Snell was there three days before he
went to the penitentiary, so drunk out on the gravel drive that
Mrs. Ulysses Swett's automobile ran over his right hand. The Dancies
came, too, and S. B. Whitebait, who was well over sixty, and Maurice
A. Flink, and the Hammerheads, and Beluga the tobacco importer, and
Beluga's girls.
From West Egg came the Poles and the Mulreadys and Cecil Roebuck and
Cecil Schoen and Gulick the State senator and Newton Orchid, who
controlled Films Par Excellence, and Eckhaust and Clyde Cohen and Don
S. Schwartz (the son) and Arthur McCarty, all connected with the
movies in one way or another. And the Catlips and the Bembergs and G.
Earl Muldoon, brother to that Muldoon who afterward strangled his
wife. Da Fontano the promoter came there, and Ed Legros and James B.
("Rot-Gut") Ferret and the De Jongs and Ernest Lillythey came to
gamble, and when Ferret wandered into the garden it meant he was
cleaned out and Associated Traction would have to fluctuate profitably
next day.
A man named Klipspringer was there so often that he became known as
"the boarder"I doubt if he had any other home. Of theatrical people
there were Gus Waize and Horace O'Donavan and Lester Myer and George
Duckweed and Francis Bull. Also from New York were the Chromes and the
Backhyssons and the Dennickers and Russel Betty and the Corrigans and
the Kellehers and the Dewars and the Scullys and S. W. Belcher and the
Smirkes and the young Quinns, divorced now, and Henry L. Palmetto, who
killed himself by jumping in front of a subway train in Times Square.
Benny McClenahan arrived always with four girls. They were never quite
the same ones in physical person, but they were so identical one with
another that it inevitably seemed they had been there before. I have
forgotten their namesJaqueline, I think, or else Consuela, or Gloria
or Judy or June, and their last names were either the melodious names
of flowers and months or the sterner ones of the great American
capitalists whose cousins, if pressed, they would confess themselves
to be.
In addition to all these I can remember that Faustina O'Brien came
there at least once and the Baedeker girls and young Brewer, who had
his nose shot off in the war, and Mr. Albrucksburger and Miss Haag,
his fiance, and Ardita Fitz-Peters and Mr. P. Jewett, once head of
the American Legion, and Miss Claudia Hip, with a man reputed to be
her chauffeur, and a prince of something, whom we called Duke, and
whose name, if I ever knew it, I have forgotten.
All these people came to Gatsby's house in the summer.`,length:4313,num_lines:68,location:"Gatsby's House",importance:.8,conflict:.2,characters:[{name:"Jay Gatsby",importance:.9,importance_exp:"Central figure around whom the scene revolves",emotion:"Welcoming yet mysterious",sentiment:.5,quote:"No quote available",fake_quote:"Gatsby's presence looms large as guests enjoy his hospitality, yet his true self remains elusive.",importance_rank:1},{name:"Nick Carraway",importance:.7,importance_exp:"Provides insight and perspective on the scene",emotion:"Reflective and observant",sentiment:.4,quote:"Once I wrote down on the empty spaces of a timetable the names of those who came to Gatsby's house that summer.",fake_quote:"",importance_rank:2},{name:"Young Ladies",importance:.5,importance_exp:"Represent societal views on Gatsby",emotion:"Judgmental and curious",sentiment:-.3,quote:"He's a bootlegger, said the young ladies, moving somewhere between his cocktails and his flowers.",fake_quote:"",importance_rank:3}],number:1,importance_rank:1,conflict_rank:5},{title:"Gatsby's Arrival",summary:"Gatsby arrives at Nick's house to invite him for lunch.",chapter:"IV",first_line:70,last_line:93,explanation:"Gatsby arrives at Nick's house.",text:`At nine o'clock, one morning late in July, Gatsby's gorgeous car
lurched up the rocky drive to my door and gave out a burst of melody
from its three-noted horn.
It was the first time he had called on me, though I had gone to two of
his parties, mounted in his hydroplane, and, at his urgent invitation,
made frequent use of his beach.
"Good morning, old sport. You're having lunch with me today and I
thought we'd ride up together."
He was balancing himself on the dashboard of his car with that
resourcefulness of movement that is so peculiarly Americanthat comes,
I suppose, with the absence of lifting work in youth and, even more,
with the formless grace of our nervous, sporadic games. This quality
was continually breaking through his punctilious manner in the shape
of restlessness. He was never quite still; there was always a tapping
foot somewhere or the impatient opening and closing of a hand.
He saw me looking with admiration at his car.
"It's pretty, isn't it, old sport?" He jumped off to give me a better
view. "Haven't you ever seen it before?"
I'd seen it. Everybody had seen it. It was a rich cream colour, bright
with nickel, swollen here and there in its monstrous length with
triumphant hatboxes and supper-boxes and toolboxes, and terraced with
a labyrinth of windshields that mirrored a dozen suns. Sitting down
behind many layers of glass in a sort of green leather conservatory,
we started to town.`,length:1426,num_lines:24,location:"Gatsby's House",importance:.8,conflict:.2,characters:[{name:"Jay Gatsby",importance:1,importance_exp:"Very important character in this scene",emotion:"confident and eager",sentiment:.8,quote:`"Good morning, old sport. You're having lunch with me today and I thought we'd ride up together."`,fake_quote:"",importance_rank:1},{name:"Nick Carraway",importance:.8,importance_exp:"Key perspective character in this scene",emotion:"admiring and curious",sentiment:.7,quote:'"He saw me looking with admiration at his car."',fake_quote:"",importance_rank:2}],number:2,importance_rank:2,conflict_rank:6},{title:"Gatsby's Car Ride",summary:"Gatsby shares his past during a car ride.",chapter:"IV",first_line:94,last_line:223,explanation:"They are driving to the city.",text:`I had talked with him perhaps half a dozen times in the past month and
found, to my disappointment, that he had little to say. So my first
impression, that he was a person of some undefined consequence, had
gradually faded and he had become simply the proprietor of an
elaborate roadhouse next door.
And then came that disconcerting ride. We hadn't reached West Egg
village before Gatsby began leaving his elegant sentences unfinished
and slapping himself indecisively on the knee of his caramel-coloured
suit.
"Look here, old sport," he broke out surprisingly, "what's your
opinion of me, anyhow?"
A little overwhelmed, I began the generalized evasions which that
question deserves.
"Well, I'm going to tell you something about my life," he interrupted.
"I don't want you to get a wrong idea of me from all these stories you
hear."
So he was aware of the bizarre accusations that flavoured conversation
in his halls.
"I'll tell you God's truth." His right hand suddenly ordered divine
retribution to stand by. "I am the son of some wealthy people in the
Middle Westall dead now. I was brought up in America but educated at
Oxford, because all my ancestors have been educated there for many
years. It is a family tradition."
He looked at me sidewaysand I knew why Jordan Baker had believed he
was lying. He hurried the phrase "educated at Oxford," or swallowed
it, or choked on it, as though it had bothered him before. And with
this doubt, his whole statement fell to pieces, and I wondered if
there wasn't something a little sinister about him, after all.
"What part of the Middle West?" I inquired casually.
"San Francisco."
"I see."
"My family all died and I came into a good deal of money."
His voice was solemn, as if the memory of that sudden extinction of a
clan still haunted him. For a moment I suspected that he was pulling
my leg, but a glance at him convinced me otherwise.
"After that I lived like a young rajah in all the capitals of
EuropeParis, Venice, Romecollecting jewels, chiefly rubies, hunting
big game, painting a little, things for myself only, and trying to
forget something very sad that had happened to me long ago."
With an effort I managed to restrain my incredulous laughter. The very
phrases were worn so threadbare that they evoked no image except that
of a turbaned "character" leaking sawdust at every pore as he pursued
a tiger through the Bois de Boulogne.
"Then came the war, old sport. It was a great relief, and I tried very
hard to die, but I seemed to bear an enchanted life. I accepted a
commission as first lieutenant when it began. In the Argonne Forest I
took the remains of my machine-gun battalion so far forward that there
was a half mile gap on either side of us where the infantry couldn't
advance. We stayed there two days and two nights, a hundred and thirty
men with sixteen Lewis guns, and when the infantry came up at last
they found the insignia of three German divisions among the piles of
dead. I was promoted to be a major, and every Allied government gave
me a decorationeven Montenegro, little Montenegro down on the
Adriatic Sea!"
Little Montenegro! He lifted up the words and nodded at themwith his
smile. The smile comprehended Montenegro's troubled history and
sympathized with the brave struggles of the Montenegrin people. It
appreciated fully the chain of national circumstances which had
elicited this tribute from Montenegro's warm little heart. My
incredulity was submerged in fascination now; it was like skimming
hastily through a dozen magazines.
He reached in his pocket, and a piece of metal, slung on a ribbon,
fell into my palm.
"That's the one from Montenegro."
To my astonishment, the thing had an authentic look. "Orderi di
Danilo," ran the circular legend, "Montenegro, Nicolas Rex."
"Turn it."
"Major Jay Gatsby," I read, "For Valour Extraordinary."
"Here's another thing I always carry. A souvenir of Oxford days. It
was taken in Trinity Quadthe man on my left is now the Earl of
Doncaster."
It was a photograph of half a dozen young men in blazers loafing in an
archway through which were visible a host of spires. There was Gatsby,
looking a little, not much, youngerwith a cricket bat in his hand.
Then it was all true. I saw the skins of tigers flaming in his palace
on the Grand Canal; I saw him opening a chest of rubies to ease, with
their crimson-lighted depths, the gnawings of his broken heart.
"I'm going to make a big request of you today," he said, pocketing his
souvenirs with satisfaction, "so I thought you ought to know something
about me. I didn't want you to think I was just some nobody. You see,
I usually find myself among strangers because I drift here and there
trying to forget the sad things that happened to me." He hesitated.
"You'll hear about it this afternoon."
"At lunch?"
"No, this afternoon. I happened to find out that you're taking Miss
Baker to tea."
"Do you mean you're in love with Miss Baker?"
"No, old sport, I'm not. But Miss Baker has kindly consented to speak
to you about this matter."
I hadn't the faintest idea what "this matter" was, but I was more
annoyed than interested. I hadn't asked Jordan to tea in order to
discuss Mr. Jay Gatsby. I was sure the request would be something
utterly fantastic, and for a moment I was sorry I'd ever set foot upon
his overpopulated lawn.
He wouldn't say another word. His correctness grew on him as we neared
the city. We passed Port Roosevelt, where there was a glimpse of
red-belted oceangoing ships, and sped along a cobbled slum lined with
the dark, undeserted saloons of the faded-gilt nineteen-hundreds.
Then the valley of ashes opened out on both sides of us, and I had a
glimpse of Mrs. Wilson straining at the garage pump with panting
vitality as we went by.
With fenders spread like wings we scattered light through half
Astoriaonly half, for as we twisted among the pillars of the elevated
I heard the familiar "jug-jug-spat!" of a motorcycle, and a frantic
policeman rode alongside.
"All right, old sport," called Gatsby. We slowed down. Taking a white
card from his wallet, he waved it before the man's eyes.
"Right you are," agreed the policeman, tipping his cap. "Know you next
time, Mr. Gatsby. Excuse me!"
"What was that?" I inquired. "The picture of Oxford?"
"I was able to do the commissioner a favour once, and he sends me a
Christmas card every year."
Over the great bridge, with the sunlight through the girders making a
constant flicker upon the moving cars, with the city rising up across
the river in white heaps and sugar lumps all built with a wish out of
nonolfactory money. The city seen from the Queensboro Bridge is always
the city seen for the first time, in its first wild promise of all the
mystery and the beauty in the world.
A dead man passed us in a hearse heaped with blooms, followed by two
carriages with drawn blinds, and by more cheerful carriages for
friends. The friends looked out at us with the tragic eyes and short
upper lips of southeastern Europe, and I was glad that the sight of
Gatsby's splendid car was included in their sombre holiday. As we
crossed Blackwell's Island a limousine passed us, driven by a white
chauffeur, in which sat three modish negroes, two bucks and a girl. I
laughed aloud as the yolks of their eyeballs rolled toward us in
haughty rivalry.
"Anything can happen now that we've slid over this bridge," I thought;
"anything at all "
Even Gatsby could happen, without any particular wonder.`,length:7445,num_lines:130,location:"West Egg",importance:.8,conflict:.5,characters:[{name:"Jay Gatsby",importance:1,importance_exp:"Very important character in this scene",emotion:"nervous and eager",sentiment:.5,quote:`"Look here, old sport," he broke out surprisingly, "what's your opinion of me, anyhow?"`,fake_quote:"",importance_rank:1},{name:"Nick Carraway",importance:1,importance_exp:"Very important character in this scene",emotion:"skeptical and curious",sentiment:.2,quote:"I began the generalized evasions which that question deserves.",fake_quote:"",importance_rank:2},{name:"Jordan Baker",importance:.5,importance_exp:"Somewhat important character in this scene",emotion:"indifferent",sentiment:0,quote:"No, old sport, I'm not. But Miss Baker has kindly consented to speak to you about this matter.",fake_quote:"",importance_rank:3}],number:3,importance_rank:3,conflict_rank:1},{title:"Lunch with Wolfshiem",summary:"Nick meets Gatsby's associate, Mr. Wolfshiem.",chapter:"IV",first_line:225,last_line:367,explanation:"They arrive at the restaurant for lunch.",text:`Roaring noon. In a well-fanned Forty-second Street cellar I met Gatsby
for lunch. Blinking away the brightness of the street outside, my eyes
picked him out obscurely in the anteroom, talking to another man.
"Mr. Carraway, this is my friend Mr. Wolfshiem."
A small, flat-nosed Jew raised his large head and regarded me with two
fine growths of hair which luxuriated in either nostril. After a
moment I discovered his tiny eyes in the half-darkness.
"So I took one look at him," said Mr. Wolfshiem, shaking my hand
earnestly, "and what do you think I did?"
"What?" I inquired politely.
But evidently he was not addressing me, for he dropped my hand and
covered Gatsby with his expressive nose.
"I handed the money to Katspaugh and I said: 'All right, Katspaugh,
don't pay him a penny till he shuts his mouth.' He shut it then and
there."
Gatsby took an arm of each of us and moved forward into the
restaurant, whereupon Mr. Wolfshiem swallowed a new sentence he was
starting and lapsed into a somnambulatory abstraction.
"Highballs?" asked the head waiter.
"This is a nice restaurant here," said Mr. Wolfshiem, looking at the
presbyterian nymphs on the ceiling. "But I like across the street
better!"
"Yes, highballs," agreed Gatsby, and then to Mr. Wolfshiem: "It's too
hot over there."
"Hot and smallyes," said Mr. Wolfshiem, "but full of memories."
"What place is that?" I asked.
"The old Metropole."
"The old Metropole," brooded Mr. Wolfshiem gloomily. "Filled with
faces dead and gone. Filled with friends gone now forever. I can't
forget so long as I live the night they shot Rosy Rosenthal there. It
was six of us at the table, and Rosy had eat and drunk a lot all
evening. When it was almost morning the waiter came up to him with a
funny look and says somebody wants to speak to him outside. 'All
right,' says Rosy, and begins to get up, and I pulled him down in his
chair.
"'Let the bastards come in here if they want you, Rosy, but don't
you, so help me, move outside this room.'
"It was four o'clock in the morning then, and if we'd of raised the
blinds we'd of seen daylight."
"Did he go?" I asked innocently.
"Sure he went." Mr. Wolfshiem's nose flashed at me indignantly. "He
turned around in the door and says: 'Don't let that waiter take away
my coffee!' Then he went out on the sidewalk, and they shot him three
times in his full belly and drove away."
"Four of them were electrocuted," I said, remembering.
"Five, with Becker." His nostrils turned to me in an interested way.
"I understand you're looking for a business gonnegtion."
The juxtaposition of these two remarks was startling. Gatsby answered
for me:
"Oh, no," he exclaimed, "this isn't the man."
"No?" Mr. Wolfshiem seemed disappointed.
"This is just a friend. I told you we'd talk about that some other
time."
"I beg your pardon," said Mr. Wolfshiem, "I had a wrong man."
A succulent hash arrived, and Mr. Wolfshiem, forgetting the more
sentimental atmosphere of the old Metropole, began to eat with
ferocious delicacy. His eyes, meanwhile, roved very slowly all around
the roomhe completed the arc by turning to inspect the people
directly behind. I think that, except for my presence, he would have
taken one short glance beneath our own table.
"Look here, old sport," said Gatsby, leaning toward me, "I'm afraid I
made you a little angry this morning in the car."
There was the smile again, but this time I held out against it.
"I don't like mysteries," I answered, "and I don't understand why you
won't come out frankly and tell me what you want. Why has it all got
to come through Miss Baker?"
"Oh, it's nothing underhand," he assured me. "Miss Baker's a great
sportswoman, you know, and she'd never do anything that wasn't all
right."
Suddenly he looked at his watch, jumped up, and hurried from the room,
leaving me with Mr. Wolfshiem at the table.
"He has to telephone," said Mr. Wolfshiem, following him with his
eyes. "Fine fellow, isn't he? Handsome to look at and a perfect
gentleman."
"Yes."
"He's an Oggsford man."
"Oh!"
"He went to Oggsford College in England. You know Oggsford College?"
"I've heard of it."
"It's one of the most famous colleges in the world."
"Have you known Gatsby for a long time?" I inquired.
"Several years," he answered in a gratified way. "I made the pleasure
of his acquaintance just after the war. But I knew I had discovered a
man of fine breeding after I talked with him an hour. I said to
myself: 'There's the kind of man you'd like to take home and introduce
to your mother and sister.'" He paused. "I see you're looking at my
cuff buttons."
I hadn't been looking at them, but I did now. They were composed of
oddly familiar pieces of ivory.
"Finest specimens of human molars," he informed me.
"Well!" I inspected them. "That's a very interesting idea."
"Yeah." He flipped his sleeves up under his coat. "Yeah, Gatsby's very
careful about women. He would never so much as look at a friend's
wife."
When the subject of this instinctive trust returned to the table and
sat down Mr. Wolfshiem drank his coffee with a jerk and got to his
feet.
"I have enjoyed my lunch," he said, "and I'm going to run off from you
two young men before I outstay my welcome."
"Don't hurry Meyer," said Gatsby, without enthusiasm. Mr. Wolfshiem
raised his hand in a sort of benediction.
"You're very polite, but I belong to another generation," he announced
solemnly. "You sit here and discuss your sports and your young ladies
and your" He supplied an imaginary noun with another wave of his
hand. "As for me, I am fifty years old, and I won't impose myself on
you any longer."
As he shook hands and turned away his tragic nose was trembling. I
wondered if I had said anything to offend him.
"He becomes very sentimental sometimes," explained Gatsby. "This is
one of his sentimental days. He's quite a character around New Yorka
denizen of Broadway."
"Who is he, anyhow, an actor?"
"No."
"A dentist?"
"Meyer Wolfshiem? No, he's a gambler." Gatsby hesitated, then added,
coolly: "He's the man who fixed the World's Series back in 1919."
"Fixed the World's Series?" I repeated.
The idea staggered me. I remembered, of course, that the World's
Series had been fixed in 1919, but if I had thought of it at all I
would have thought of it as a thing that merely happened, the end of
some inevitable chain. It never occurred to me that one man could
start to play with the faith of fifty million peoplewith the
single-mindedness of a burglar blowing a safe.
"How did he happen to do that?" I asked after a minute.
"He just saw the opportunity."
"Why isn't he in jail?"
"They can't get him, old sport. He's a smart man."
I insisted on paying the check. As the waiter brought my change I
caught sight of Tom Buchanan across the crowded room.
"Come along with me for a minute," I said; "I've got to say hello to
someone."
When he saw us Tom jumped up and took half a dozen steps in our
direction.
"Where've you been?" he demanded eagerly. "Daisy's furious because you
haven't called up."
"This is Mr. Gatsby, Mr. Buchanan."
They shook hands briefly, and a strained, unfamiliar look of
embarrassment came over Gatsby's face.
"How've you been, anyhow?" demanded Tom of me. "How'd you happen to
come up this far to eat?"
"I've been having lunch with Mr. Gatsby."
I turned toward Mr. Gatsby, but he was no longer there.
------------------------------------------------------------------------`,length:7391,num_lines:143,location:"New York City",importance:.8,conflict:.5,characters:[{name:"Jay Gatsby",importance:1,importance_exp:"Very important character in this scene",emotion:"Nervous and evasive",sentiment:.2,quote:"No quote available",fake_quote:"Gatsby's nervousness and evasiveness stem from his awareness of the tension in his relationship with Nick, indicating he is trying to navigate a delicate situation.",importance_rank:1},{name:"Meyer Wolfshiem",importance:.8,importance_exp:"Significant character providing context",emotion:"Sentimental and boastful",sentiment:.1,quote:"You're very polite, but I belong to another generation.",fake_quote:"",importance_rank:2},{name:"Nick Carraway",importance:.7,importance_exp:"Narrator and observer of the scene",emotion:"Curious and skeptical",sentiment:0,quote:"No quote available",fake_quote:"Nick's curiosity and skepticism arise from his frustration with Gatsby's secretive nature, as he desires clarity in their interactions.",importance_rank:3},{name:"Tom Buchanan",importance:.6,importance_exp:"Important character introducing tension",emotion:"Eager and confrontational",sentiment:-.1,quote:"No quote available",fake_quote:"Tom's eagerness and confrontational attitude reflect his impatience and possessiveness regarding Daisy, showing his need for control in their relationship.",importance_rank:4}],number:4,importance_rank:4,conflict_rank:2},{title:"Jordan's Story",summary:"Jordan recounts Daisy and Gatsby's past.",chapter:"IV",first_line:368,last_line:470,explanation:"They are in the tea-garden at the Plaza Hotel.",text:`One October day in nineteen-seventeen
(said Jordan Baker that afternoon, sitting up very straight on a
straight chair in the tea-garden at the Plaza Hotel)
I was walking along from one place to another, half on the sidewalks
and half on the lawns. I was happier on the lawns because I had on
shoes from England with rubber knobs on the soles that bit into the
soft ground. I had on a new plaid skirt also that blew a little in the
wind, and whenever this happened the red, white, and blue banners in
front of all the houses stretched out stiff and said tut-tut-tut-tut,
in a disapproving way.
The largest of the banners and the largest of the lawns belonged to
Daisy Fay's house. She was just eighteen, two years older than me, and
by far the most popular of all the young girls in Louisville. She
dressed in white, and had a little white roadster, and all day long
the telephone rang in her house and excited young officers from Camp
Taylor demanded the privilege of monopolizing her that
night. "Anyways, for an hour!"
When I came opposite her house that morning her white roadster was
beside the kerb, and she was sitting in it with a lieutenant I had
never seen before. They were so engrossed in each other that she
didn't see me until I was five feet away.
"Hello, Jordan," she called unexpectedly. "Please come here."
I was flattered that she wanted to speak to me, because of all the
older girls I admired her most. She asked me if I was going to the Red
Cross to make bandages. I was. Well, then, would I tell them that she
couldn't come that day? The officer looked at Daisy while she was
speaking, in a way that every young girl wants to be looked at
sometime, and because it seemed romantic to me I have remembered the
incident ever since. His name was Jay Gatsby, and I didn't lay eyes on
him again for over four yearseven after I'd met him on Long Island I
didn't realize it was the same man.
That was nineteen-seventeen. By the next year I had a few beaux
myself, and I began to play in tournaments, so I didn't see Daisy very
often. She went with a slightly older crowdwhen she went with anyone
at all. Wild rumours were circulating about herhow her mother had
found her packing her bag one winter night to go to New York and say
goodbye to a soldier who was going overseas. She was effectually
prevented, but she wasn't on speaking terms with her family for
several weeks. After that she didn't play around with the soldiers any
more, but only with a few flat-footed, shortsighted young men in town,
who couldn't get into the army at all.
By the next autumn she was gay again, gay as ever. She had a dbut
after the armistice, and in February she was presumably engaged to a
man from New Orleans. In June she married Tom Buchanan of Chicago,
with more pomp and circumstance than Louisville ever knew before. He
came down with a hundred people in four private cars, and hired a
whole floor of the Muhlbach Hotel, and the day before the wedding he
gave her a string of pearls valued at three hundred and fifty thousand
dollars.
I was a bridesmaid. I came into her room half an hour before the
bridal dinner, and found her lying on her bed as lovely as the June
night in her flowered dressand as drunk as a monkey. She had a bottle
of Sauterne in one hand and a letter in the other.
"'Gratulate me," she muttered. "Never had a drink before, but oh how
I do enjoy it."
"What's the matter, Daisy?"
I was scared, I can tell you; I'd never seen a girl like that before.
"Here, dearies." She groped around in a wastebasket she had with her
on the bed and pulled out the string of pearls. "Take 'em downstairs
and give 'em back to whoever they belong to. Tell 'em all Daisy's
change' her mine. Say: 'Daisy's change' her mine!'"
She began to cryshe cried and cried. I rushed out and found her
mother's maid, and we locked the door and got her into a cold bath.
She wouldn't let go of the letter. She took it into the tub with her
and squeezed it up in a wet ball, and only let me leave it in the
soap-dish when she saw that it was coming to pieces like snow.
But she didn't say another word. We gave her spirits of ammonia and
put ice on her forehead and hooked her back into her dress, and half
an hour later, when we walked out of the room, the pearls were around
her neck and the incident was over. Next day at five o'clock she
married Tom Buchanan without so much as a shiver, and started off on a
three months' trip to the South Seas.
I saw them in Santa Barbara when they came back, and I thought I'd
never seen a girl so mad about her husband. If he left the room for a
minute she'd look around uneasily, and say: "Where's Tom gone?" and
wear the most abstracted expression until she saw him coming in the
door. She used to sit on the sand with his head in her lap by the
hour, rubbing her fingers over his eyes and looking at him with
unfathomable delight. It was touching to see them togetherit made you
laugh in a hushed, fascinated way. That was in August. A week after I
left Santa Barbara Tom ran into a wagon on the Ventura road one night,
and ripped a front wheel off his car. The girl who was with him got
into the papers, too, because her arm was brokenshe was one of the
chambermaids in the Santa Barbara Hotel.
The next April Daisy had her little girl, and they went to France for
a year. I saw them one spring in Cannes, and later in Deauville, and
then they came back to Chicago to settle down. Daisy was popular in
Chicago, as you know. They moved with a fast crowd, all of them young
and rich and wild, but she came out with an absolutely perfect
reputation. Perhaps because she doesn't drink. It's a great advantage
not to drink among hard-drinking people. You can hold your tongue and,
moreover, you can time any little irregularity of your own so that
everybody else is so blind that they don't see or care. Perhaps Daisy
never went in for amour at alland yet there's something in that voice
of hers 
Well, about six weeks ago, she heard the name Gatsby for the first
time in years. It was when I asked youdo you remember?if you knew
Gatsby in West Egg. After you had gone home she came into my room and
woke me up, and said: "What Gatsby?" and when I described himI was
half asleepshe said in the strangest voice that it must be the man
she used to know. It wasn't until then that I connected this Gatsby
with the officer in her white car.
------------------------------------------------------------------------`,length:6462,num_lines:103,location:"Plaza Hotel",importance:.8,conflict:.3,characters:[{name:"Jordan Baker",importance:.7,importance_exp:"Narrator and key observer of events",emotion:"nostalgic and reflective",sentiment:.5,quote:"I was flattered that she wanted to speak to me, because of all the older girls I admired her most.",fake_quote:"",importance_rank:2},{name:"Daisy Buchanan",importance:.9,importance_exp:"Central figure in the narrative and Jordan's friend",emotion:"conflicted and emotional",sentiment:-.5,quote:"Take 'em downstairs and give 'em back to whoever they belong to. Tell 'em all Daisy's change' her mine. Say: 'Daisy's change' her mine!'",fake_quote:"",importance_rank:1},{name:"Tom Buchanan",importance:.5,importance_exp:"Daisy's husband, indirectly affects her emotions",emotion:"dominant and controlling",sentiment:-.3,quote:"No quote available",fake_quote:"Tom's presence looms over Daisy, influencing her actions and emotions.",importance_rank:4},{name:"Jay Gatsby",importance:.6,importance_exp:"Mysterious figure connected to Daisy's past",emotion:"unseen but impactful",sentiment:.4,quote:"No quote available",fake_quote:"Gatsby's past connection with Daisy creates a sense of longing and nostalgia.",importance_rank:3}],number:5,importance_rank:5,conflict_rank:4},{title:"Driving in Central Park",summary:"Nick and Jordan discuss Gatsby's feelings for Daisy.",chapter:"IV",first_line:471,last_line:528,explanation:"They are driving through Central Park.",text:`When Jordan Baker had finished telling all this we had left the Plaza
for half an hour and were driving in a victoria through Central Park.
The sun had gone down behind the tall apartments of the movie stars in
the West Fifties, and the clear voices of children, already gathered
like crickets on the grass, rose through the hot twilight:
"I'm the Sheik of Araby. Your love belongs to me. At night when
you're asleep Into your tent I'll creep"
"It was a strange coincidence," I said.
"But it wasn't a coincidence at all."
"Why not?"
"Gatsby bought that house so that Daisy would be just across the bay."
Then it had not been merely the stars to which he had aspired on that
June night. He came alive to me, delivered suddenly from the womb of
his purposeless splendour.
"He wants to know," continued Jordan, "if you'll invite Daisy to your
house some afternoon and then let him come over."
The modesty of the demand shook me. He had waited five years and
bought a mansion where he dispensed starlight to casual mothsso that
he could "come over" some afternoon to a stranger's garden.
"Did I have to know all this before he could ask such a little thing?"
"He's afraid, he's waited so long. He thought you might be
offended. You see, he's regular tough underneath it all."
Something worried me.
"Why didn't he ask you to arrange a meeting?"
"He wants her to see his house," she explained. "And your house is
right next door."
"Oh!"
"I think he half expected her to wander into one of his parties, some
night," went on Jordan, "but she never did. Then he began asking
people casually if they knew her, and I was the first one he found. It
was that night he sent for me at his dance, and you should have heard
the elaborate way he worked up to it. Of course, I immediately
suggested a luncheon in New Yorkand I thought he'd go mad:
"'I don't want to do anything out of the way!' he kept saying. 'I
want to see her right next door.'
"When I said you were a particular friend of Tom's, he started to
abandon the whole idea. He doesn't know very much about Tom, though he
says he's read a Chicago paper for years just on the chance of
catching a glimpse of Daisy's name."
It was dark now, and as we dipped under a little bridge I put my arm
around Jordan's golden shoulder and drew her toward me and asked her
to dinner. Suddenly I wasn't thinking of Daisy and Gatsby any more,
but of this clean, hard, limited person, who dealt in universal
scepticism, and who leaned back jauntily just within the circle of my
arm. A phrase began to beat in my ears with a sort of heady
excitement: "There are only the pursued, the pursuing, the busy, and
the tired."
"And Daisy ought to have something in her life," murmured Jordan to
me.
"Does she want to see Gatsby?"
"She's not to know about it. Gatsby doesn't want her to know. You're
just supposed to invite her to tea."
We passed a barrier of dark trees, and then the faade of Fifty-Ninth
Street, a block of delicate pale light, beamed down into the park.
Unlike Gatsby and Tom Buchanan, I had no girl whose disembodied face
floated along the dark cornices and blinding signs, and so I drew up
the girl beside me, tightening my arms. Her wan, scornful mouth
smiled, and so I drew her up again closer, this time to my face.`,length:3263,num_lines:58,location:"New York City",importance:.8,conflict:.5,characters:[{name:"Jordan Baker",importance:.9,importance_exp:"Key character revealing Gatsby's intentions",emotion:"Confident and insightful",sentiment:.7,quote:"No quote available",fake_quote:"Jordan's confidence and insightfulness highlight her understanding of the dynamics between Gatsby and Daisy, as she plays a pivotal role in facilitating their reunion.",importance_rank:1},{name:"Nick Carraway",importance:.8,importance_exp:"Narrator reflecting on Gatsby and Jordan",emotion:"Intrigued and contemplative",sentiment:.6,quote:`"Suddenly I wasn't thinking of Daisy and Gatsby any more, but of this clean, hard, limited person..."`,fake_quote:"",importance_rank:2},{name:"Jay Gatsby",importance:.7,importance_exp:"Central figure whose actions drive the scene",emotion:"Nervous and hopeful",sentiment:.5,quote:"No quote available",fake_quote:"Gatsby is anxious about meeting Daisy and relies on Nick to facilitate the encounter.",importance_rank:3},{name:"Daisy Buchanan",importance:.6,importance_exp:"Subject of Gatsby's longing and plans",emotion:"Uncertain and distant",sentiment:.4,quote:"No quote available",fake_quote:"Daisy is portrayed as someone who is unaware of Gatsby's intentions and is kept in the dark about the meeting.",importance_rank:4}],number:6,importance_rank:6,conflict_rank:3},{title:"Gatsby's House at Night",summary:"The narrator arrives at Gatsby's house, noticing its bright lights.",chapter:"V",first_line:1,last_line:60,explanation:"Start of chapter.",text:`When I came home to West Egg that night I was afraid for a moment that
my house was on fire. Two o'clock and the whole corner of the
peninsula was blazing with light, which fell unreal on the shrubbery
and made thin elongating glints upon the roadside wires. Turning a
corner, I saw that it was Gatsby's house, lit from tower to cellar.
At first I thought it was another party, a wild rout that had resolved
itself into "hide-and-go-seek" or "sardines-in-the-box" with all the
house thrown open to the game. But there wasn't a sound. Only wind in
the trees, which blew the wires and made the lights go off and on
again as if the house had winked into the darkness. As my taxi groaned
away I saw Gatsby walking toward me across his lawn.
"Your place looks like the World's Fair," I said.
"Does it?" He turned his eyes toward it absently. "I have been
glancing into some of the rooms. Let's go to Coney Island, old
sport. In my car."
"It's too late."
"Well, suppose we take a plunge in the swimming pool? I haven't made
use of it all summer."
"I've got to go to bed."
"All right."
He waited, looking at me with suppressed eagerness.
"I talked with Miss Baker," I said after a moment. "I'm going to call
up Daisy tomorrow and invite her over here to tea."
"Oh, that's all right," he said carelessly. "I don't want to put you
to any trouble."
"What day would suit you?"
"What day would suit you?" he corrected me quickly. "I don't want to
put you to any trouble, you see."
"How about the day after tomorrow?"
He considered for a moment. Then, with reluctance: "I want to get the
grass cut," he said.
We both looked down at the grassthere was a sharp line where my
ragged lawn ended and the darker, well-kept expanse of his began. I
suspected that he meant my grass.
"There's another little thing," he said uncertainly, and hesitated.
"Would you rather put it off for a few days?" I asked.
"Oh, it isn't about that. At least" He fumbled with a series of
beginnings. "Why, I thoughtwhy, look here, old sport, you don't make
much money, do you?"
"Not very much."
This seemed to reassure him and he continued more confidently.
"I thought you didn't, if you'll pardon myyou see, I carry on a
little business on the side, a sort of side line, you understand. And
I thought that if you don't make very muchYou're selling bonds,
aren't you, old sport?"
"Trying to."
"Well, this would interest you. It wouldn't take up much of your time
and you might pick up a nice bit of money. It happens to be a rather
confidential sort of thing."
I realize now that under different circumstances that conversation
might have been one of the crises of my life. But, because the offer
was obviously and tactlessly for a service to be rendered, I had no
choice except to cut him off there.
"I've got my hands full," I said. "I'm much obliged but I couldn't
take on any more work."
"You wouldn't have to do any business with Wolfshiem." Evidently he
thought that I was shying away from the "gonnegtion" mentioned at
lunch, but I assured him he was wrong. He waited a moment longer,
hoping I'd begin a conversation, but I was too absorbed to be
responsive, so he went unwillingly home.`,length:3160,num_lines:60,location:"Gatsby's House",importance:.8,conflict:.5,characters:[{name:"Jay Gatsby",importance:1,importance_exp:"Very important character in this scene",emotion:"Eager yet uncertain",sentiment:.5,quote:'"Does it?" He turned his eyes toward it absently.',fake_quote:"",importance_rank:1},{name:"Nick Carraway",importance:1,importance_exp:"Very important character in this scene",emotion:"Tired but engaged",sentiment:.2,quote:`"It's too late."`,fake_quote:"",importance_rank:2}],number:1,importance_rank:5,conflict_rank:3},{title:"Tea Invitation",summary:"The narrator discusses inviting Daisy to tea with Gatsby.",chapter:"V",first_line:61,last_line:65,explanation:"Location changes to narrator's office.",text:`The evening had made me lightheaded and happy; I think I walked into a
deep sleep as I entered my front door. So I don't know whether or not
Gatsby went to Coney Island, or for how many hours he "glanced into
rooms" while his house blazed gaudily on. I called up Daisy from the
office next morning, and invited her to come to tea.`,length:330,num_lines:5,location:"Front Door",importance:.5,conflict:0,characters:[{name:"Nick Carraway",importance:.8,importance_exp:"The narrator drives the scene's perspective.",emotion:"Lightheaded and happy",sentiment:.7,quote:"The evening had made me lightheaded and happy; I think I walked into a deep sleep as I entered my front door.",fake_quote:"",importance_rank:1},{name:"Jay Gatsby",importance:.4,importance_exp:"Gatsby's actions are mentioned but not detailed.",emotion:"Mysterious",sentiment:0,quote:"No quote available",fake_quote:"Gatsby's presence is felt through the narrator's thoughts, suggesting a sense of mystery.",importance_rank:3},{name:"Daisy Buchanan",importance:.6,importance_exp:"Daisy is invited, indicating her significance.",emotion:"Anticipated",sentiment:.5,quote:"No quote available",fake_quote:"Daisy's anticipated visit suggests a sense of hope and excitement.",importance_rank:2}],number:2,importance_rank:10,conflict_rank:10},{title:"Preparing for Tea",summary:"The narrator prepares for Daisy's visit, including Gatsby's arrival.",chapter:"V",first_line:66,last_line:80,explanation:"Location changes to narrator's home.",text:`"Don't bring Tom," I warned her.
"What?"
"Don't bring Tom."
"Who is 'Tom'?" she asked innocently.
The day agreed upon was pouring rain. At eleven o'clock a man in a
raincoat, dragging a lawn-mower, tapped at my front door and said that
Mr. Gatsby had sent him over to cut my grass. This reminded me that I
had forgotten to tell my Finn to come back, so I drove into West Egg
Village to search for her among soggy whitewashed alleys and to buy
some cups and lemons and flowers.
The flowers were unnecessary, for at two o'clock a greenhouse arrived
from Gatsby's, with innumerable receptacles to contain it. An hour
later the front door opened nervously, and Gatsby in a white flannel
suit, silver shirt, and gold-coloured tie, hurried in. He was pale,
and there were dark signs of sleeplessness beneath his eyes.`,length:811,num_lines:15,location:"Front Door",importance:.7,conflict:.3,characters:[{name:"Jay Gatsby",importance:1,importance_exp:"Very important character in this scene",emotion:"Nervous and anxious",sentiment:.2,quote:"He was pale, and there were dark signs of sleeplessness beneath his eyes.",fake_quote:"",importance_rank:1},{name:"Nick Carraway",importance:.8,importance_exp:"Key perspective character in this scene",emotion:"Cautious and concerned",sentiment:.1,quote:"Don't bring Tom.",fake_quote:"",importance_rank:2}],number:3,importance_rank:8,conflict_rank:4},{title:"Daisy Arrives",summary:"Daisy arrives at the narrator's house for tea.",chapter:"V",first_line:81,last_line:138,explanation:"Location changes to narrator's living room.",text:`"Is everything all right?" he asked immediately.
"The grass looks fine, if that's what you mean."
"What grass?" he inquired blankly. "Oh, the grass in the yard." He
looked out the window at it, but, judging from his expression, I don't
believe he saw a thing.
"Looks very good," he remarked vaguely. "One of the papers said they
thought the rain would stop about four. I think it was The
Journal. Have you got everything you need in the shape ofof tea?"
I took him into the pantry, where he looked a little reproachfully at
the Finn. Together we scrutinized the twelve lemon cakes from the
delicatessen shop.
"Will they do?" I asked.
"Of course, of course! They're fine!" and he added hollowly, " old
sport."
The rain cooled about half-past three to a damp mist, through which
occasional thin drops swam like dew. Gatsby looked with vacant eyes
through a copy of Clay's Economics, starting at the Finnish tread that
shook the kitchen floor, and peering towards the bleared windows from
time to time as if a series of invisible but alarming happenings were
taking place outside. Finally he got up and informed me, in an
uncertain voice, that he was going home.
"Why's that?"
"Nobody's coming to tea. It's too late!" He looked at his watch as if
there was some pressing demand on his time elsewhere. "I can't wait
all day."
"Don't be silly; it's just two minutes to four."
He sat down miserably, as if I had pushed him, and simultaneously
there was the sound of a motor turning into my lane. We both jumped
up, and, a little harrowed myself, I went out into the yard.
Under the dripping bare lilac-trees a large open car was coming up the
drive. It stopped. Daisy's face, tipped sideways beneath a
three-cornered lavender hat, looked out at me with a bright ecstatic
smile.
"Is this absolutely where you live, my dearest one?"
The exhilarating ripple of her voice was a wild tonic in the rain. I
had to follow the sound of it for a moment, up and down, with my ear
alone, before any words came through. A damp streak of hair lay like a
dash of blue paint across her cheek, and her hand was wet with
glistening drops as I took it to help her from the car.
"Are you in love with me," she said low in my ear, "or why did I have
to come alone?"
"That's the secret of Castle Rackrent. Tell your chauffeur to go far
away and spend an hour."
"Come back in an hour, Ferdie." Then in a grave murmur: "His name is
Ferdie."
"Does the gasoline affect his nose?"
"I don't think so," she said innocently. "Why?"
We went in. To my overwhelming surprise the living-room was deserted.
"Well, that's funny," I exclaimed.
"What's funny?"
She turned her head as there was a light dignified knocking at the
front door. I went out and opened it. Gatsby, pale as death, with his
hands plunged like weights in his coat pockets, was standing in a
puddle of water glaring tragically into my eyes.
With his hands still in his coat pockets he stalked by me into the
hall, turned sharply as if he were on a wire, and disappeared into the
living-room. It wasn't a bit funny. Aware of the loud beating of my
own heart I pulled the door to against the increasing rain.`,length:3136,num_lines:58,location:"Gatsby's House",importance:.9,conflict:.7,characters:[{name:"Jay Gatsby",importance:1,importance_exp:"Very central to the scene's emotional tension",emotion:"anxious and hopeful",sentiment:.2,quote:"Gatsby, pale as death, with his hands plunged like weights in his coat pockets, was standing in a puddle of water glaring tragically into my eyes.",fake_quote:"",importance_rank:1},{name:"Nick Carraway",importance:.8,importance_exp:"Narrator and observer of Gatsby's emotions",emotion:"concerned and confused",sentiment:.1,quote:"Don't be silly; it's just two minutes to four.",fake_quote:"",importance_rank:3},{name:"Daisy Buchanan",importance:.9,importance_exp:"Her arrival is pivotal for Gatsby's emotional state",emotion:"excited and flirtatious",sentiment:.7,quote:"Is this absolutely where you live, my dearest one?",fake_quote:"",importance_rank:2}],number:4,importance_rank:1,conflict_rank:1},{title:"Awkward Reunion",summary:"Gatsby and Daisy meet again after years apart.",chapter:"V",first_line:139,last_line:228,explanation:"Location remains in the living room.",text:`For half a minute there wasn't a sound. Then from the living-room I
heard a sort of choking murmur and part of a laugh, followed by
Daisy's voice on a clear artificial note:
"I certainly am awfully glad to see you again."
A pause; it endured horribly. I had nothing to do in the hall, so I
went into the room.
Gatsby, his hands still in his pockets, was reclining against the
mantelpiece in a strained counterfeit of perfect ease, even of
boredom. His head leaned back so far that it rested against the face
of a defunct mantelpiece clock, and from this position his distraught
eyes stared down at Daisy, who was sitting, frightened but graceful,
on the edge of a stiff chair.
"We've met before," muttered Gatsby. His eyes glanced momentarily at
me, and his lips parted with an abortive attempt at a laugh. Luckily
the clock took this moment to tilt dangerously at the pressure of his
head, whereupon he turned and caught it with trembling fingers, and
set it back in place. Then he sat down, rigidly, his elbow on the arm
of the sofa and his chin in his hand.
"I'm sorry about the clock," he said.
My own face had now assumed a deep tropical burn. I couldn't muster up
a single commonplace out of the thousand in my head.
"It's an old clock," I told them idiotically.
I think we all believed for a moment that it had smashed in pieces on
the floor.
"We haven't met for many years," said Daisy, her voice as
matter-of-fact as it could ever be.
"Five years next November."
The automatic quality of Gatsby's answer set us all back at least
another minute. I had them both on their feet with the desperate
suggestion that they help me make tea in the kitchen when the demoniac
Finn brought it in on a tray.
Amid the welcome confusion of cups and cakes a certain physical
decency established itself. Gatsby got himself into a shadow and,
while Daisy and I talked, looked conscientiously from one to the other
of us with tense, unhappy eyes. However, as calmness wasn't an end in
itself, I made an excuse at the first possible moment, and got to my
feet.
"Where are you going?" demanded Gatsby in immediate alarm.
"I'll be back."
"I've got to speak to you about something before you go."
He followed me wildly into the kitchen, closed the door, and
whispered: "Oh, God!" in a miserable way.
"What's the matter?"
"This is a terrible mistake," he said, shaking his head from side to
side, "a terrible, terrible mistake."
"You're just embarrassed, that's all," and luckily I added: "Daisy's
embarrassed too."
"She's embarrassed?" he repeated incredulously.
"Just as much as you are."
"Don't talk so loud."
"You're acting like a little boy," I broke out impatiently. "Not only
that, but you're rude. Daisy's sitting in there all alone."
He raised his hand to stop my words, looked at me with unforgettable
reproach, and, opening the door cautiously, went back into the other
room.
I walked out the back wayjust as Gatsby had when he had made his
nervous circuit of the house half an hour beforeand ran for a huge
black knotted tree, whose massed leaves made a fabric against the
rain. Once more it was pouring, and my irregular lawn, well-shaved by
Gatsby's gardener, abounded in small muddy swamps and prehistoric
marshes. There was nothing to look at from under the tree except
Gatsby's enormous house, so I stared at it, like Kant at his church
steeple, for half an hour. A brewer had built it early in the "period"
craze, a decade before, and there was a story that he'd agreed to pay
five years' taxes on all the neighbouring cottages if the owners would
have their roofs thatched with straw. Perhaps their refusal took the
heart out of his plan to Found a Familyhe went into an immediate
decline. His children sold his house with the black wreath still on
the door. Americans, while willing, even eager, to be serfs, have
always been obstinate about being peasantry.
After half an hour, the sun shone again, and the grocer's automobile
rounded Gatsby's drive with the raw material for his servants'
dinnerI felt sure he wouldn't eat a spoonful. A maid began opening
the upper windows of his house, appeared momentarily in each, and,
leaning from the large central bay, spat meditatively into the
garden. It was time I went back. While the rain continued it had
seemed like the murmur of their voices, rising and swelling a little
now and then with gusts of emotion. But in the new silence I felt that
silence had fallen within the house too.
I went inafter making every possible noise in the kitchen, short of
pushing over the stovebut I don't believe they heard a sound. They
were sitting at either end of the couch, looking at each other as if
some question had been asked, or was in the air, and every vestige of
embarrassment was gone. Daisy's face was smeared with tears, and when
I came in she jumped up and began wiping at it with her handkerchief
before a mirror. But there was a change in Gatsby that was simply
confounding. He literally glowed; without a word or a gesture of
exultation a new well-being radiated from him and filled the little
room.
"Oh, hello, old sport," he said, as if he hadn't seen me for years. I`,length:5132,num_lines:90,location:"Gatsby's House",importance:.9,conflict:.7,characters:[{name:"Jay Gatsby",importance:1,importance_exp:"Very important character in this scene",emotion:"nervous and hopeful",sentiment:.5,quote:"Oh, God!",fake_quote:"",importance_rank:1},{name:"Daisy Buchanan",importance:1,importance_exp:"Very important character in this scene",emotion:"frightened but graceful",sentiment:.4,quote:"I certainly am awfully glad to see you again.",fake_quote:"",importance_rank:2},{name:"Nick Carraway",importance:.8,importance_exp:"Important character observing the scene",emotion:"awkward and anxious",sentiment:.3,quote:"You're acting like a little boy.",fake_quote:"",importance_rank:3}],number:5,importance_rank:2,conflict_rank:2},{title:"Tour of Gatsby's House",summary:"Gatsby shows Daisy around his mansion.",chapter:"V",first_line:229,last_line:278,explanation:"Location changes to Gatsby's house.",text:`thought for a moment he was going to shake hands.
"It's stopped raining."
"Has it?" When he realized what I was talking about, that there were
twinkle-bells of sunshine in the room, he smiled like a weather man,
like an ecstatic patron of recurrent light, and repeated the news to
Daisy. "What do you think of that? It's stopped raining."
"I'm glad, Jay." Her throat, full of aching, grieving beauty, told
only of her unexpected joy.
"I want you and Daisy to come over to my house," he said, "I'd like to
show her around."
"You're sure you want me to come?"
"Absolutely, old sport."
Daisy went upstairs to wash her facetoo late I thought with
humiliation of my towelswhile Gatsby and I waited on the lawn.
"My house looks well, doesn't it?" he demanded. "See how the whole
front of it catches the light."
I agreed that it was splendid.
"Yes." His eyes went over it, every arched door and square tower. "It
took me just three years to earn the money that bought it."
"I thought you inherited your money."
"I did, old sport," he said automatically, "but I lost most of it in
the big panicthe panic of the war."
I think he hardly knew what he was saying, for when I asked him what
business he was in he answered: "That's my affair," before he realized
that it wasn't an appropriate reply.
"Oh, I've been in several things," he corrected himself. "I was in the
drug business and then I was in the oil business. But I'm not in
either one now." He looked at me with more attention. "Do you mean
you've been thinking over what I proposed the other night?"
Before I could answer, Daisy came out of the house and two rows of
brass buttons on her dress gleamed in the sunlight.
"That huge place there?" she cried pointing.
"Do you like it?"
"I love it, but I don't see how you live there all alone."
"I keep it always full of interesting people, night and day. People
who do interesting things. Celebrated people."
Instead of taking the shortcut along the Sound we went down to the
road and entered by the big postern. With enchanting murmurs Daisy
admired this aspect or that of the feudal silhouette against the sky,
admired the gardens, the sparkling odour of jonquils and the frothy
odour of hawthorn and plum blossoms and the pale gold odour of
kiss-me-at-the-gate. It was strange to reach the marble steps and find
no stir of bright dresses in and out the door, and hear no sound but
bird voices in the trees.
And inside, as we wandered through Marie Antoinette music-rooms and
Restoration Salons, I felt that there were guests concealed behind
every couch and table, under orders to be breathlessly silent until we
had passed through. As Gatsby closed the door of "the Merton College
Library" I could have sworn I heard the owl-eyed man break into
ghostly laughter.`,length:2765,num_lines:50,location:"Gatsby's House",importance:.8,conflict:.2,characters:[{name:"Jay Gatsby",importance:1,importance_exp:"Very important character in the scene",emotion:"hopeful and proud",sentiment:.8,quote:`"What do you think of that? It's stopped raining."`,fake_quote:"",importance_rank:1},{name:"Daisy Buchanan",importance:1,importance_exp:"Very important character in the scene",emotion:"joyful yet melancholic",sentiment:.7,quote:`"I'm glad, Jay." Her throat, full of aching, grieving beauty, told only of her unexpected joy.`,fake_quote:"",importance_rank:2},{name:"Nick Carraway",importance:.5,importance_exp:"Moderately important character in the scene",emotion:"observant and reflective",sentiment:.5,quote:"No quote available",fake_quote:"Nick observes the interactions between Gatsby and Daisy with a mix of admiration and discomfort.",importance_rank:3}],number:6,importance_rank:6,conflict_rank:7},{title:"Gatsby's Shirts",summary:"Daisy is moved by Gatsby's collection of shirts.",chapter:"V",first_line:279,last_line:321,explanation:"Location remains in Gatsby's apartment.",text:`We went upstairs, through period bedrooms swathed in rose and lavender
silk and vivid with new flowers, through dressing-rooms and poolrooms,
and bathrooms with sunken bathsintruding into one chamber where a
dishevelled man in pyjamas was doing liver exercises on the floor. It
was Mr. Klipspringer, the "boarder." I had seen him wandering hungrily
about the beach that morning. Finally we came to Gatsby's own
apartment, a bedroom and a bath, and an Adam's study, where we sat
down and drank a glass of some Chartreuse he took from a cupboard in
the wall.
He hadn't once ceased looking at Daisy, and I think he revalued
everything in his house according to the measure of response it drew
from her well-loved eyes. Sometimes too, he stared around at his
possessions in a dazed way, as though in her actual and astounding
presence none of it was any longer real. Once he nearly toppled down a
flight of stairs.
His bedroom was the simplest room of allexcept where the dresser was
garnished with a toilet set of pure dull gold. Daisy took the brush
with delight, and smoothed her hair, whereupon Gatsby sat down and
shaded his eyes and began to laugh.
"It's the funniest thing, old sport," he said hilariously. "I
can'tWhen I try to"
He had passed visibly through two states and was entering upon a
third. After his embarrassment and his unreasoning joy he was consumed
with wonder at her presence. He had been full of the idea so long,
dreamed it right through to the end, waited with his teeth set, so to
speak, at an inconceivable pitch of intensity. Now, in the reaction,
he was running down like an over-wound clock.
Recovering himself in a minute he opened for us two hulking patent
cabinets which held his massed suits and dressing-gowns and ties, and
his shirts, piled like bricks in stacks a dozen high.
"I've got a man in England who buys me clothes. He sends over a
selection of things at the beginning of each season, spring and fall."
He took out a pile of shirts and began throwing them, one by one,
before us, shirts of sheer linen and thick silk and fine flannel,
which lost their folds as they fell and covered the table in
many-coloured disarray. While we admired he brought more and the soft
rich heap mounted highershirts with stripes and scrolls and plaids in
coral and apple-green and lavender and faint orange, with monograms of
indian blue. Suddenly, with a strained sound, Daisy bent her head into
the shirts and began to cry stormily.
"They're such beautiful shirts," she sobbed, her voice muffled in the
thick folds. "It makes me sad because I've never seen suchsuch
beautiful shirts before."`,length:2624,num_lines:43,location:"Gatsby's House",importance:.9,conflict:.2,characters:[{name:"Jay Gatsby",importance:1,importance_exp:"Very important character in this scene",emotion:"Awestruck and joyful",sentiment:.8,quote:"It's the funniest thing, old sport.",fake_quote:"",importance_rank:1},{name:"Daisy Buchanan",importance:1,importance_exp:"Very important character in this scene",emotion:"Emotional and nostalgic",sentiment:-.5,quote:"They're such beautiful shirts",fake_quote:"",importance_rank:2},{name:"Nick Carraway",importance:.5,importance_exp:"Moderately important character in this scene",emotion:"Observant and reflective",sentiment:.3,quote:"No quote available",fake_quote:"Nick observes the emotional exchange between Gatsby and Daisy, reflecting on the significance of the moment.",importance_rank:3},{name:"Mr. Klipspringer",importance:.2,importance_exp:"Not very important character in this scene",emotion:"Indifferent",sentiment:0,quote:"No quote available",fake_quote:"Mr. Klipspringer is described as disheveled and engaged in mundane activities, showing little relevance to the main emotional exchange.",importance_rank:4}],number:7,importance_rank:3,conflict_rank:8},{title:"Rainy Reflections",summary:"The group reflects on the rain and their feelings.",chapter:"V",first_line:322,last_line:336,explanation:"Location remains in Gatsby's apartment.",text:`------------------------------------------------------------------------
After the house, we were to see the grounds and the swimming pool, and
the hydroplane, and the midsummer flowersbut outside Gatsby's window
it began to rain again, so we stood in a row looking at the corrugated
surface of the Sound.
"If it wasn't for the mist we could see your home across the bay,"
said Gatsby. "You always have a green light that burns all night at
the end of your dock."
Daisy put her arm through his abruptly, but he seemed absorbed in what
he had just said. Possibly it had occurred to him that the colossal
significance of that light had now vanished forever. Compared to the
great distance that had separated him from Daisy it had seemed very
near to her, almost touching her. It had seemed as close as a star to
the moon. Now it was again a green light on a dock. His count of
enchanted objects had diminished by one.`,length:916,num_lines:15,location:"Gatsby's House",importance:.8,conflict:.3,characters:[{name:"Jay Gatsby",importance:1,importance_exp:"Very important character in this scene",emotion:"Reflective and melancholic",sentiment:-.5,quote:"If it wasn't for the mist we could see your home across the bay.",fake_quote:"",importance_rank:1},{name:"Daisy Buchanan",importance:.7,importance_exp:"Significant character in this scene",emotion:"Affectionate yet uncertain",sentiment:.2,quote:"No quote available",fake_quote:"Daisy shows affection towards Gatsby by putting her arm through his, indicating her emotional connection.",importance_rank:2}],number:8,importance_rank:7,conflict_rank:5},{title:"Gatsby's Past",summary:"Gatsby shares memories of his past with Daisy.",chapter:"V",first_line:337,last_line:346,explanation:"Location remains in Gatsby's apartment.",text:`I began to walk about the room, examining various indefinite objects
in the half darkness. A large photograph of an elderly man in yachting
costume attracted me, hung on the wall over his desk.
"Who's this?"
"That? That's Mr. Dan Cody, old sport."
The name sounded faintly familiar.
"He's dead now. He used to be my best friend years ago."
There was a small picture of Gatsby, also in yachting costume, on the
bureauGatsby with his head thrown back defiantlytaken apparently
when he was about eighteen.`,length:504,num_lines:10,location:"Gatsby's House",importance:.7,conflict:.2,characters:[{name:"Dan Cody",importance:.5,importance_exp:"Significant historical figure for Gatsby",emotion:"Nostalgic",sentiment:.5,quote:"He's dead now. He used to be my best friend years ago.",fake_quote:"",importance_rank:2},{name:"Jay Gatsby",importance:.8,importance_exp:"Central character reflecting on his past",emotion:"Defiant",sentiment:.6,quote:"Gatsby with his head thrown back defiantlytaken apparently when he was about eighteen.",fake_quote:"",importance_rank:1}],number:9,importance_rank:9,conflict_rank:9},{title:"Klipspringer Plays Piano",summary:"Klipspringer plays music for Gatsby and Daisy.",chapter:"V",first_line:347,last_line:416,explanation:"Location remains in Gatsby's apartment.",text:`"I adore it," exclaimed Daisy. "The pompadour! You never told me you
had a pompadouror a yacht."
"Look at this," said Gatsby quickly. "Here's a lot of clippingsabout
you."
They stood side by side examining it. I was going to ask to see the
rubies when the phone rang, and Gatsby took up the receiver.
"Yes  Well, I can't talk now  I can't talk now, old sport  I said a
small town  He must know what a small town is  Well, he's no use to
us if Detroit is his idea of a small town "
He rang off.
"Come here quick!" cried Daisy at the window.
The rain was still falling, but the darkness had parted in the west,
and there was a pink and golden billow of foamy clouds above the sea.
"Look at that," she whispered, and then after a moment: "I'd like to
just get one of those pink clouds and put you in it and push you
around."
I tried to go then, but they wouldn't hear of it; perhaps my presence
made them feel more satisfactorily alone.
"I know what we'll do," said Gatsby, "we'll have Klipspringer play the
piano."
He went out of the room calling "Ewing!" and returned in a few minutes
accompanied by an embarrassed, slightly worn young man, with
shell-rimmed glasses and scanty blond hair. He was now decently
clothed in a "sport shirt," open at the neck, sneakers, and duck
trousers of a nebulous hue.
"Did we interrupt your exercise?" inquired Daisy politely.
"I was asleep," cried Mr. Klipspringer, in a spasm of embarrassment.
"That is, I'd been asleep. Then I got up "
"Klipspringer plays the piano," said Gatsby, cutting him off. "Don't
you, Ewing, old sport?"
"I don't play well. I don'thardly play at all. I'm all out of prac"
"We'll go downstairs," interrupted Gatsby. He flipped a switch. The
grey windows disappeared as the house glowed full of light.
In the music-room Gatsby turned on a solitary lamp beside the piano.
He lit Daisy's cigarette from a trembling match, and sat down with her
on a couch far across the room, where there was no light save what the
gleaming floor bounced in from the hall.
When Klipspringer had played "The Love Nest" he turned around on the
bench and searched unhappily for Gatsby in the gloom.
"I'm all out of practice, you see. I told you I couldn't play. I'm all
out of prac"
"Don't talk so much, old sport," commanded Gatsby. "Play!"
"In the morning, In the evening, Ain't we got fun"
Outside the wind was loud and there was a faint flow of thunder along
the Sound. All the lights were going on in West Egg now; the electric
trains, men-carrying, were plunging home through the rain from New
York. It was the hour of a profound human change, and excitement was
generating on the air.
"One thing's sure and nothing's surer The rich get richer and the
poor getchildren. In the meantime, In between time"
As I went over to say goodbye I saw that the expression of
bewilderment had come back into Gatsby's face, as though a faint doubt
had occurred to him as to the quality of his present happiness. Almost
five years! There must have been moments even that afternoon when
Daisy tumbled short of his dreamsnot through her own fault, but
because of the colossal vitality of his illusion. It had gone beyond
her, beyond everything. He had thrown himself into it with a creative
passion, adding to it all the time, decking it out with every bright
feather that drifted his way. No amount of fire or freshness can
challenge what a man can store up in his ghostly heart.
As I watched him he adjusted himself a little, visibly. His hand took
hold of hers, and as she said something low in his ear he turned
toward her with a rush of emotion. I think that voice held him most,
with its fluctuating, feverish warmth, because it couldn't be
over-dreamedthat voice was a deathless song.
They had forgotten me, but Daisy glanced up and held out her hand;
Gatsby didn't know me now at all. I looked once more at them and they
looked back at me, remotely, possessed by intense life. Then I went
out of the room and down the marble steps into the rain, leaving them
there together.`,length:4026,num_lines:70,location:"Gatsby's House",importance:.9,conflict:.3,characters:[{name:"Daisy Buchanan",importance:.8,importance_exp:"Daisy is central to Gatsby's emotions.",emotion:"joyful and affectionate",sentiment:.9,quote:`"I'd like to just get one of those pink clouds and put you in it and push you around."`,fake_quote:"",importance_rank:2},{name:"Jay Gatsby",importance:.9,importance_exp:"Gatsby's feelings for Daisy drive the scene.",emotion:"hopeful yet anxious",sentiment:.7,quote:`"Don't talk so much, old sport," commanded Gatsby. "Play!"`,fake_quote:"",importance_rank:1},{name:"Mr. Klipspringer",importance:.5,importance_exp:"Klipspringer provides musical interlude but is secondary.",emotion:"embarrassed and reluctant",sentiment:-.2,quote:'"I was asleep," cried Mr. Klipspringer, in a spasm of embarrassment.',fake_quote:"",importance_rank:3}],number:10,importance_rank:4,conflict_rank:6},{title:"Gatsby's Door",summary:"A reporter arrives at Gatsby's house.",chapter:"VI",first_line:1,last_line:18,explanation:"Start of chapter.",text:`About this time an ambitious young reporter from New York arrived one
morning at Gatsby's door and asked him if he had anything to say.
"Anything to say about what?" inquired Gatsby politely.
"Whyany statement to give out."
It transpired after a confused five minutes that the man had heard
Gatsby's name around his office in a connection which he either
wouldn't reveal or didn't fully understand. This was his day off and
with laudable initiative he had hurried out "to see."
It was a random shot, and yet the reporter's instinct was right.
Gatsby's notoriety, spread about by the hundreds who had accepted his
hospitality and so become authorities upon his past, had increased all
summer until he fell just short of being news. Contemporary legends
such as the "underground pipeline to Canada" attached themselves to
him, and there was one persistent story that he didn't live in a house
at all, but in a boat that looked like a house and was moved secretly
up and down the Long Island shore. Just why these inventions were a
source of satisfaction to James Gatz of North Dakota, isn't easy to
say.`,length:1102,num_lines:18,location:"Gatsby's House",importance:.7,conflict:.3,characters:[{name:"Jay Gatsby",importance:.8,importance_exp:"Central figure in the scene",emotion:"Ambitious and enigmatic",sentiment:.5,quote:"Just why these inventions were a source of satisfaction to James Gatz of North Dakota, isn't easy to say.",fake_quote:"",importance_rank:1},{name:"The Young Reporter",importance:.6,importance_exp:"Key character seeking information",emotion:"Curious and determined",sentiment:.4,quote:"Anything to say about what?",fake_quote:"",importance_rank:2}],number:1,importance_rank:4,conflict_rank:4},{title:"James Gatz's Transformation",summary:"The backstory of Gatsby's rise.",chapter:"VI",first_line:19,last_line:102,explanation:"Change in focus to Gatsby's past.",text:`James Gatzthat was really, or at least legally, his name. He had
changed it at the age of seventeen and at the specific moment that
witnessed the beginning of his careerwhen he saw Dan Cody's yacht
drop anchor over the most insidious flat on Lake Superior. It was
James Gatz who had been loafing along the beach that afternoon in a
torn green jersey and a pair of canvas pants, but it was already Jay
Gatsby who borrowed a rowboat, pulled out to the Tuolomee, and
informed Cody that a wind might catch him and break him up in half an
hour.
I suppose he'd had the name ready for a long time, even then. His
parents were shiftless and unsuccessful farm peoplehis imagination
had never really accepted them as his parents at all. The truth was
that Jay Gatsby of West Egg, Long Island, sprang from his Platonic
conception of himself. He was a son of Goda phrase which, if it means
anything, means just thatand he must be about His Father's business,
the service of a vast, vulgar, and meretricious beauty. So he invented
just the sort of Jay Gatsby that a seventeen-year-old boy would be
likely to invent, and to this conception he was faithful to the end.
For over a year he had been beating his way along the south shore of
Lake Superior as a clam-digger and a salmon-fisher or in any other
capacity that brought him food and bed. His brown, hardening body
lived naturally through the half-fierce, half-lazy work of the bracing
days. He knew women early, and since they spoiled him he became
contemptuous of them, of young virgins because they were ignorant, of
the others because they were hysterical about things which in his
overwhelming self-absorption he took for granted.
But his heart was in a constant, turbulent riot. The most grotesque
and fantastic conceits haunted him in his bed at night. A universe of
ineffable gaudiness spun itself out in his brain while the clock
ticked on the washstand and the moon soaked with wet light his tangled
clothes upon the floor. Each night he added to the pattern of his
fancies until drowsiness closed down upon some vivid scene with an
oblivious embrace. For a while these reveries provided an outlet for
his imagination; they were a satisfactory hint of the unreality of
reality, a promise that the rock of the world was founded securely on
a fairy's wing.
An instinct toward his future glory had led him, some months before,
to the small Lutheran College of St. Olaf's in southern Minnesota. He
stayed there two weeks, dismayed at its ferocious indifference to the
drums of his destiny, to destiny itself, and despising the janitor's
work with which he was to pay his way through. Then he drifted back to
Lake Superior, and he was still searching for something to do on the
day that Dan Cody's yacht dropped anchor in the shallows alongshore.
Cody was fifty years old then, a product of the Nevada silver fields,
of the Yukon, of every rush for metal since seventy-five. The
transactions in Montana copper that made him many times a millionaire
found him physically robust but on the verge of soft-mindedness, and,
suspecting this, an infinite number of women tried to separate him
from his money. The none too savoury ramifications by which Ella Kaye,
the newspaper woman, played Madame de Maintenon to his weakness and
sent him to sea in a yacht, were common property of the turgid
journalism in 1902. He had been coasting along all too hospitable
shores for five years when he turned up as James Gatz's destiny in
Little Girl Bay.
To young Gatz, resting on his oars and looking up at the railed deck,
that yacht represented all the beauty and glamour in the world. I
suppose he smiled at Codyhe had probably discovered that people liked
him when he smiled. At any rate Cody asked him a few questions (one of
them elicited the brand new name) and found that he was quick and
extravagantly ambitious. A few days later he took him to Duluth and
bought him a blue coat, six pairs of white duck trousers, and a
yachting cap. And when the Tuolomee left for the West Indies and the
Barbary Coast, Gatsby left too.
He was employed in a vague personal capacitywhile he remained with
Cody he was in turn steward, mate, skipper, secretary, and even
jailor, for Dan Cody sober knew what lavish doings Dan Cody drunk
might soon be about, and he provided for such contingencies by
reposing more and more trust in Gatsby. The arrangement lasted five
years, during which the boat went three times around the Continent.
It might have lasted indefinitely except for the fact that Ella Kaye
came on board one night in Boston and a week later Dan Cody
inhospitably died.
I remember the portrait of him up in Gatsby's bedroom, a grey, florid
man with a hard, empty facethe pioneer debauchee, who during one
phase of American life brought back to the Eastern seaboard the savage
violence of the frontier brothel and saloon. It was indirectly due to
Cody that Gatsby drank so little. Sometimes in the course of gay
parties women used to rub champagne into his hair; for himself he
formed the habit of letting liquor alone.
And it was from Cody that he inherited moneya legacy of twenty-five
thousand dollars. He didn't get it. He never understood the legal
device that was used against him, but what remained of the millions
went intact to Ella Kaye. He was left with his singularly appropriate
education; the vague contour of Jay Gatsby had filled out to the`,length:5398,num_lines:84,location:"Lake Superior",importance:.8,conflict:.5,characters:[{name:"Jay Gatsby",importance:1,importance_exp:"Central character in the scene",emotion:"Ambitious and contemplative",sentiment:.5,quote:"He was a son of Goda phrase which, if it means anything, means just thatand he must be about His Father's business, the service of a vast, vulgar, and meretricious beauty.",fake_quote:"",importance_rank:1},{name:"Dan Cody",importance:.7,importance_exp:"Significant influence on Gatsby",emotion:"Robust yet vulnerable",sentiment:.3,quote:"Cody was fifty years old then, a product of the Nevada silver fields, of the Yukon, of every rush for metal since seventy-five.",fake_quote:"",importance_rank:2},{name:"Ella Kaye",importance:.6,importance_exp:"Key figure in Gatsby's fate",emotion:"Manipulative and opportunistic",sentiment:-.5,quote:"It was indirectly due to Cody that Gatsby drank so little.",fake_quote:"",importance_rank:3}],number:2,importance_rank:3,conflict_rank:3},{title:"Gatsby's Party with Tom",summary:"Tom Buchanan visits Gatsby's party.",chapter:"VI",first_line:105,last_line:332,explanation:"Shift to Gatsby's party and Tom's presence.",text:`He told me all this very much later, but I've put it down here with
the idea of exploding those first wild rumours about his antecedents,
which weren't even faintly true. Moreover he told it to me at a time
of confusion, when I had reached the point of believing everything and
nothing about him. So I take advantage of this short halt, while
Gatsby, so to speak, caught his breath, to clear this set of
misconceptions away.
It was a halt, too, in my association with his affairs. For several
weeks I didn't see him or hear his voice on the phonemostly I was in
New York, trotting around with Jordan and trying to ingratiate myself
with her senile auntbut finally I went over to his house one Sunday
afternoon. I hadn't been there two minutes when somebody brought Tom
Buchanan in for a drink. I was startled, naturally, but the really
surprising thing was that it hadn't happened before.
They were a party of three on horsebackTom and a man named Sloane and
a pretty woman in a brown riding-habit, who had been there previously.
"I'm delighted to see you," said Gatsby, standing on his porch. "I'm
delighted that you dropped in."
As though they cared!
"Sit right down. Have a cigarette or a cigar." He walked around the
room quickly, ringing bells. "I'll have something to drink for you in
just a minute."
He was profoundly affected by the fact that Tom was there. But he
would be uneasy anyhow until he had given them something, realizing in
a vague way that that was all they came for. Mr. Sloane wanted
nothing. A lemonade? No, thanks. A little champagne? Nothing at all,
thanks  I'm sorry
"Did you have a nice ride?"
"Very good roads around here."
"I suppose the automobiles"
"Yeah."
Moved by an irresistible impulse, Gatsby turned to Tom, who had
accepted the introduction as a stranger.
"I believe we've met somewhere before, Mr. Buchanan."
"Oh, yes," said Tom, gruffly polite, but obviously not remembering.
"So we did. I remember very well."
"About two weeks ago."
"That's right. You were with Nick here."
"I know your wife," continued Gatsby, almost aggressively.
"That so?"
Tom turned to me.
"You live near here, Nick?"
"Next door."
"That so?"
Mr. Sloane didn't enter into the conversation, but lounged back
haughtily in his chair; the woman said nothing eitheruntil
unexpectedly, after two highballs, she became cordial.
"We'll all come over to your next party, Mr. Gatsby," she suggested.
"What do you say?"
"Certainly; I'd be delighted to have you."
"Be ver' nice," said Mr. Sloane, without gratitude. "Wellthink ought
to be starting home."
"Please don't hurry," Gatsby urged them. He had control of himself
now, and he wanted to see more of Tom. "Why don't youwhy don't you
stay for supper? I wouldn't be surprised if some other people dropped
in from New York."
"You come to supper with me," said the lady enthusiastically. "Both of
you."
This included me. Mr. Sloane got to his feet.
"Come along," he saidbut to her only.
"I mean it," she insisted. "I'd love to have you. Lots of room."
Gatsby looked at me questioningly. He wanted to go and he didn't see
that Mr. Sloane had determined he shouldn't.
"I'm afraid I won't be able to," I said.
"Well, you come," she urged, concentrating on Gatsby.
Mr. Sloane murmured something close to her ear.
"We won't be late if we start now," she insisted aloud.
"I haven't got a horse," said Gatsby. "I used to ride in the army, but
I've never bought a horse. I'll have to follow you in my car. Excuse
me for just a minute."
The rest of us walked out on the porch, where Sloane and the lady
began an impassioned conversation aside.
"My God, I believe the man's coming," said Tom. "Doesn't he know she
doesn't want him?"
"She says she does want him."
"She has a big dinner party and he won't know a soul there." He
frowned. "I wonder where in the devil he met Daisy. By God, I may be
old-fashioned in my ideas, but women run around too much these days to
suit me. They meet all kinds of crazy fish."
Suddenly Mr. Sloane and the lady walked down the steps and mounted
their horses.
"Come on," said Mr. Sloane to Tom, "we're late. We've got to go." And
then to me: "Tell him we couldn't wait, will you?"
Tom and I shook hands, the rest of us exchanged a cool nod, and they
trotted quickly down the drive, disappearing under the August foliage
just as Gatsby, with hat and light overcoat in hand, came out the
front door.
Tom was evidently perturbed at Daisy's running around alone, for on
the following Saturday night he came with her to Gatsby's
party. Perhaps his presence gave the evening its peculiar quality of
oppressivenessit stands out in my memory from Gatsby's other parties
that summer. There were the same people, or at least the same sort of
people, the same profusion of champagne, the same many-coloured,
many-keyed commotion, but I felt an unpleasantness in the air, a
pervading harshness that hadn't been there before. Or perhaps I had
merely grown used to it, grown to accept West Egg as a world complete
in itself, with its own standards and its own great figures, second to
nothing because it had no consciousness of being so, and now I was
looking at it again, through Daisy's eyes. It is invariably saddening
to look through new eyes at things upon which you have expended your
own powers of adjustment.
They arrived at twilight, and, as we strolled out among the sparkling
hundreds, Daisy's voice was playing murmurous tricks in her throat.
"These things excite me so," she whispered. "If you want to kiss me
any time during the evening, Nick, just let me know and I'll be glad
to arrange it for you. Just mention my name. Or present a green card.
I'm giving out green"
"Look around," suggested Gatsby.
"I'm looking around. I'm having a marvellous"
"You must see the faces of many people you've heard about."
Tom's arrogant eyes roamed the crowd.
"We don't go around very much," he said; "in fact, I was just thinking
I don't know a soul here."
"Perhaps you know that lady." Gatsby indicated a gorgeous, scarcely
human orchid of a woman who sat in state under a white-plum tree. Tom
and Daisy stared, with that peculiarly unreal feeling that accompanies
the recognition of a hitherto ghostly celebrity of the movies.
"She's lovely," said Daisy.
"The man bending over her is her director."
He took them ceremoniously from group to group:
"Mrs. Buchanan  and Mr. Buchanan" After an instant's hesitation he
added: "the polo player."
"Oh no," objected Tom quickly, "not me."
But evidently the sound of it pleased Gatsby for Tom remained "the
polo player" for the rest of the evening.
"I've never met so many celebrities," Daisy exclaimed. "I liked that
manwhat was his name?with the sort of blue nose."
Gatsby identified him, adding that he was a small producer.
"Well, I liked him anyhow."
"I'd a little rather not be the polo player," said Tom pleasantly,
"I'd rather look at all these famous people inin oblivion."
Daisy and Gatsby danced. I remember being surprised by his graceful,
conservative foxtrotI had never seen him dance before. Then they
sauntered over to my house and sat on the steps for half an hour,
while at her request I remained watchfully in the garden. "In case
there's a fire or a flood," she explained, "or any act of God."
Tom appeared from his oblivion as we were sitting down to supper
together. "Do you mind if I eat with some people over here?" he
said. "A fellow's getting off some funny stuff."
"Go ahead," answered Daisy genially, "and if you want to take down any
addresses here's my little gold pencil."  She looked around after a
moment and told me the girl was "common but pretty," and I knew that
except for the half-hour she'd been alone with Gatsby she wasn't
having a good time.
We were at a particularly tipsy table. That was my faultGatsby had
been called to the phone, and I'd enjoyed these same people only two
weeks before. But what had amused me then turned septic on the air
now.
"How do you feel, Miss Baedeker?"
The girl addressed was trying, unsuccessfully, to slump against my
shoulder. At this inquiry she sat up and opened her eyes.
"Wha'?"
A massive and lethargic woman, who had been urging Daisy to play golf
with her at the local club tomorrow, spoke in Miss Baedeker's defence:
"Oh, she's all right now. When she's had five or six cocktails she
always starts screaming like that. I tell her she ought to leave it
alone."
"I do leave it alone," affirmed the accused hollowly.
"We heard you yelling, so I said to Doc Civet here: 'There's somebody
that needs your help, Doc.'"
"She's much obliged, I'm sure," said another friend, without
gratitude, "but you got her dress all wet when you stuck her head in
the pool."
"Anything I hate is to get my head stuck in a pool," mumbled Miss
Baedeker. "They almost drowned me once over in New Jersey."
"Then you ought to leave it alone," countered Doctor Civet.
"Speak for yourself!" cried Miss Baedeker violently. "Your hand
shakes. I wouldn't let you operate on me!"
It was like that. Almost the last thing I remember was standing with
Daisy and watching the moving-picture director and his Star. They were
still under the white-plum tree and their faces were touching except
for a pale, thin ray of moonlight between. It occurred to me that he
had been very slowly bending toward her all evening to attain this
proximity, and even while I watched I saw him stoop one ultimate
degree and kiss at her cheek.
"I like her," said Daisy, "I think she's lovely."
But the rest offended herand inarguably because it wasn't a gesture
but an emotion. She was appalled by West Egg, this unprecedented
"place" that Broadway had begotten upon a Long Island fishing
villageappalled by its raw vigour that chafed under the old
euphemisms and by the too obtrusive fate that herded its inhabitants
along a shortcut from nothing to nothing. She saw something awful in
the very simplicity she failed to understand.
I sat on the front steps with them while they waited for their car.
It was dark here in front; only the bright door sent ten square feet
of light volleying out into the soft black morning. Sometimes a shadow
moved against a dressing-room blind above, gave way to another shadow,
an indefinite procession of shadows, who rouged and powdered in an
invisible glass.
"Who is this Gatsby anyhow?" demanded Tom suddenly. "Some big
bootlegger?"
"Where'd you hear that?" I inquired.
"I didn't hear it. I imagined it. A lot of these newly rich people are
just big bootleggers, you know."
"Not Gatsby," I said shortly.
He was silent for a moment. The pebbles of the drive crunched under
his feet.
"Well, he certainly must have strained himself to get this menagerie
together."
A breeze stirred the grey haze of Daisy's fur collar.
"At least they are more interesting than the people we know," she said
with an effort.
"You didn't look so interested."
"Well, I was."
Tom laughed and turned to me.
"Did you notice Daisy's face when that girl asked her to put her under
a cold shower?"
Daisy began to sing with the music in a husky, rhythmic whisper,
bringing out a meaning in each word that it had never had before and
would never have again. When the melody rose her voice broke up
sweetly, following it, in a way contralto voices have, and each change
tipped out a little of her warm human magic upon the air.
"Lots of people come who haven't been invited," she said
suddenly. "That girl hadn't been invited. They simply force their way
in and he's too polite to object."
"I'd like to know who he is and what he does," insisted Tom. "And I
think I'll make a point of finding out."
"I can tell you right now," she answered. "He owned some drugstores, a
lot of drugstores. He built them up himself."
The dilatory limousine came rolling up the drive.
"Good night, Nick," said Daisy.
Her glance left me and sought the lighted top of the steps, where
"Three O'Clock in the Morning," a neat, sad little waltz of that year,
was drifting out the open door. After all, in the very casualness of
Gatsby's party there were romantic possibilities totally absent from
her world. What was it up there in the song that seemed to be calling
her back inside? What would happen now in the dim, incalculable hours?
Perhaps some unbelievable guest would arrive, a person infinitely rare`,length:12246,num_lines:228,location:"Gatsby's House",importance:.9,conflict:.7,characters:[{name:"Jay Gatsby",importance:1,importance_exp:"Central figure in the scene",emotion:"nervous and eager",sentiment:.5,quote:"I'm delighted to see you.",fake_quote:"",importance_rank:1},{name:"Tom Buchanan",importance:1,importance_exp:"Antagonistic presence in the scene",emotion:"suspicious and condescending",sentiment:-.5,quote:"Who is this Gatsby anyhow?",fake_quote:"",importance_rank:2},{name:"Daisy Buchanan",importance:1,importance_exp:"Key emotional anchor in the scene",emotion:"conflicted and intrigued",sentiment:.3,quote:"These things excite me so.",fake_quote:"",importance_rank:3},{name:"Nick Carraway",importance:.8,importance_exp:"Narrator and observer of the events",emotion:"reflective and concerned",sentiment:.2,quote:"I was looking at it again, through Daisy's eyes.",fake_quote:"",importance_rank:4},{name:"Mr. Sloane",importance:.4,importance_exp:"Minor character, adds to the social dynamic",emotion:"disinterested and aloof",sentiment:-.2,quote:"Tell him we couldn't wait, will you?",fake_quote:"",importance_rank:5}],number:3,importance_rank:1,conflict_rank:1},{title:"Gatsby's Reflection",summary:"Gatsby reflects on his past with Daisy.",chapter:"VI",first_line:333,last_line:398,explanation:"Change in focus to Gatsby's thoughts.",text:`and to be marvelled at, some authentically radiant young girl who with
one fresh glance at Gatsby, one moment of magical encounter, would
blot out those five years of unwavering devotion.
I stayed late that night. Gatsby asked me to wait until he was free,
and I lingered in the garden until the inevitable swimming party had
run up, chilled and exalted, from the black beach, until the lights
were extinguished in the guestrooms overhead. When he came down the
steps at last the tanned skin was drawn unusually tight on his face,
and his eyes were bright and tired.
"She didn't like it," he said immediately.
"Of course she did."
"She didn't like it," he insisted. "She didn't have a good time."
He was silent, and I guessed at his unutterable depression.
"I feel far away from her," he said. "It's hard to make her
understand."
"You mean about the dance?"
"The dance?" He dismissed all the dances he had given with a snap of
his fingers. "Old sport, the dance is unimportant."
He wanted nothing less of Daisy than that she should go to Tom and
say: "I never loved you." After she had obliterated four years with
that sentence they could decide upon the more practical measures to be
taken. One of them was that, after she was free, they were to go back
to Louisville and be married from her housejust as if it were five
years ago.
"And she doesn't understand," he said. "She used to be able to
understand. We'd sit for hours"
He broke off and began to walk up and down a desolate path of fruit
rinds and discarded favours and crushed flowers.
"I wouldn't ask too much of her," I ventured. "You can't repeat the
past."
"Can't repeat the past?" he cried incredulously. "Why of course you
can!"
He looked around him wildly, as if the past were lurking here in the
shadow of his house, just out of reach of his hand.
"I'm going to fix everything just the way it was before," he said,
nodding determinedly. "She'll see."
He talked a lot about the past, and I gathered that he wanted to
recover something, some idea of himself perhaps, that had gone into
loving Daisy. His life had been confused and disordered since then,
but if he could once return to a certain starting place and go over it
all slowly, he could find out what that thing was 
 One autumn night, five years before, they had been walking down the
street when the leaves were falling, and they came to a place where
there were no trees and the sidewalk was white with moonlight. They
stopped here and turned toward each other. Now it was a cool night
with that mysterious excitement in it which comes at the two changes
of the year. The quiet lights in the houses were humming out into the
darkness and there was a stir and bustle among the stars. Out of the
corner of his eye Gatsby saw that the blocks of the sidewalks really
formed a ladder and mounted to a secret place above the treeshe could
climb to it, if he climbed alone, and once there he could suck on the
pap of life, gulp down the incomparable milk of wonder.
His heart beat faster as Daisy's white face came up to his own. He
knew that when he kissed this girl, and forever wed his unutterable
visions to her perishable breath, his mind would never romp again like
the mind of God. So he waited, listening for a moment longer to the
tuning-fork that had been struck upon a star. Then he kissed her. At
his lips' touch she blossomed for him like a flower and the
incarnation was complete.
Through all he said, even through his appalling sentimentality, I was
reminded of somethingan elusive rhythm, a fragment of lost words,
that I had heard somewhere a long time ago. For a moment a phrase
tried to take shape in my mouth and my lips parted like a dumb man's,
as though there was more struggling upon them than a wisp of startled
air. But they made no sound, and what I had almost remembered was
uncommunicable forever.`,length:3852,num_lines:66,location:"Gatsby's House",importance:.9,conflict:.7,characters:[{name:"Jay Gatsby",importance:1,importance_exp:"Central character expressing deep emotions",emotion:"desperate and nostalgic",sentiment:-.5,quote:`"Can't repeat the past?" he cried incredulously. "Why of course you can!"`,fake_quote:"",importance_rank:1},{name:"Nick Carraway",importance:.7,importance_exp:"Narrator providing insight into Gatsby",emotion:"concerned and reflective",sentiment:.2,quote:`"I wouldn't ask too much of her," I ventured. "You can't repeat the past."`,fake_quote:"",importance_rank:2}],number:4,importance_rank:2,conflict_rank:2},{title:"Gatsby's House",summary:"Curiosity about Gatsby peaks as his lights go out.",chapter:"VII",first_line:1,last_line:21,explanation:"Start of chapter.",text:`It was when curiosity about Gatsby was at its highest that the lights
in his house failed to go on one Saturday nightand, as obscurely as
it had begun, his career as Trimalchio was over. Only gradually did I
become aware that the automobiles which turned expectantly into his
drive stayed for just a minute and then drove sulkily away. Wondering
if he were sick I went over to find outan unfamiliar butler with a
villainous face squinted at me suspiciously from the door.
"Is Mr. Gatsby sick?"
"Nope." After a pause he added "sir" in a dilatory, grudging way.
"I hadn't seen him around, and I was rather worried. Tell him Mr.
Carraway came over."
"Who?" he demanded rudely.
"Carraway."
"Carraway. All right, I'll tell him."
Abruptly he slammed the door.
My Finn informed me that Gatsby had dismissed every servant in his
house a week ago and replaced them with half a dozen others, who never
went into West Egg village to be bribed by the tradesmen, but ordered
moderate supplies over the telephone. The grocery boy reported that
the kitchen looked like a pigsty, and the general opinion in the
village was that the new people weren't servants at all.`,length:1153,num_lines:21,location:"Gatsby's House",importance:.8,conflict:.5,characters:[{name:"Nick Carraway",importance:1,importance_exp:"Main character seeking information",emotion:"Concerned and curious",sentiment:.5,quote:"I was rather worried. Tell him Mr. Carraway came over.",fake_quote:"",importance_rank:1},{name:"Gatsby's Butler",importance:.5,importance_exp:"Minor character with a rude demeanor",emotion:"Suspicious and dismissive",sentiment:-.5,quote:"Nope.",fake_quote:"",importance_rank:2}],number:1,importance_rank:3,conflict_rank:5},{title:"Phone Call",summary:"Gatsby calls Nick to discuss his servants.",chapter:"VII",first_line:22,last_line:38,explanation:"Gatsby's phone call indicates a shift in location.",text:`Next day Gatsby called me on the phone.
"Going away?" I inquired.
"No, old sport."
"I hear you fired all your servants."
"I wanted somebody who wouldn't gossip. Daisy comes over quite
oftenin the afternoons."
So the whole caravansary had fallen in like a card house at the
disapproval in her eyes.
"They're some people Wolfshiem wanted to do something for. They're all
brothers and sisters. They used to run a small hotel."
"I see."
He was calling up at Daisy's requestwould I come to lunch at her
house tomorrow? Miss Baker would be there. Half an hour later Daisy
herself telephoned and seemed relieved to find that I was
coming. Something was up. And yet I couldn't believe that they would
choose this occasion for a sceneespecially for the rather harrowing
scene that Gatsby had outlined in the garden.`,length:809,num_lines:17,location:"Gatsby's House",importance:.8,conflict:.3,characters:[{name:"Jay Gatsby",importance:1,importance_exp:"Very important character in the scene",emotion:"hopeful and anxious",sentiment:.5,quote:"I wanted somebody who wouldn't gossip.",fake_quote:"",importance_rank:1},{name:"Nick Carraway",importance:.8,importance_exp:"Narrator and key observer in the scene",emotion:"curious and concerned",sentiment:.3,quote:"I hear you fired all your servants.",fake_quote:"",importance_rank:2},{name:"Daisy Buchanan",importance:.7,importance_exp:"Significant character influencing Gatsby's actions",emotion:"relieved and mysterious",sentiment:.4,quote:"Something was up.",fake_quote:"",importance_rank:3},{name:"Jordan Baker",importance:.5,importance_exp:"Present but less central to the scene",emotion:"neutral",sentiment:0,quote:"Miss Baker would be there.",fake_quote:"",importance_rank:4}],number:2,importance_rank:4,conflict_rank:7},{title:"Buchanans' House",summary:"Nick arrives at the Buchanans' house for lunch.",chapter:"VII",first_line:39,last_line:66,explanation:"Transition to the Buchanans' house.",text:`The next day was broiling, almost the last, certainly the warmest, of
the summer. As my train emerged from the tunnel into sunlight, only
the hot whistles of the National Biscuit Company broke the simmering
hush at noon. The straw seats of the car hovered on the edge of
combustion; the woman next to me perspired delicately for a while into
her white shirtwaist, and then, as her newspaper dampened under her
fingers, lapsed despairingly into deep heat with a desolate cry. Her
pocketbook slapped to the floor.
"Oh, my!" she gasped.
I picked it up with a weary bend and handed it back to her, holding it
at arm's length and by the extreme tip of the corners to indicate that
I had no designs upon itbut everyone near by, including the woman,
suspected me just the same.
"Hot!" said the conductor to familiar faces. "Some weather!  Hot! 
Hot!  Hot!  Is it hot enough for you? Is it hot? Is it ?"
My commutation ticket came back to me with a dark stain from his hand.
That anyone should care in this heat whose flushed lips he kissed,
whose head made damp the pyjama pocket over his heart!
 Through the hall of the Buchanans' house blew a faint wind, carrying
the sound of the telephone bell out to Gatsby and me as we waited at
the door.
"The master's body?" roared the butler into the mouthpiece. "I'm
sorry, madame, but we can't furnish itit's far too hot to touch this
noon!"
What he really said was: "Yes  Yes  I'll see."
He set down the receiver and came toward us, glistening slightly, to
take our stiff straw hats.
"Madame expects you in the salon!" he cried, needlessly indicating the`,length:1603,num_lines:28,location:"Daisy's House",importance:.7,conflict:.3,characters:[{name:"The Woman",importance:.5,importance_exp:"She plays a role in illustrating the heat's impact.",emotion:"Despair and discomfort",sentiment:-.5,quote:"Oh, my!",fake_quote:"",importance_rank:2},{name:"The Conductor",importance:.4,importance_exp:"He adds to the atmosphere of heat and discomfort.",emotion:"Casual indifference",sentiment:0,quote:"Hot!  Hot!  Hot!  Is it hot enough for you? Is it hot? Is it ?",fake_quote:"",importance_rank:3},{name:"Gatsby's Butler",importance:.6,importance_exp:"He is a key character in the interaction with Gatsby and the narrator.",emotion:"Slightly flustered",sentiment:0,quote:"Madame expects you in the salon!",fake_quote:"",importance_rank:1}],number:3,importance_rank:8,conflict_rank:8},{title:"Lunch with the Buchanans",summary:"Tension rises during lunch with Tom, Daisy, and Gatsby.",chapter:"VII",first_line:67,last_line:132,explanation:"The setting remains in the Buchanans' house.",text:`direction. In this heat every extra gesture was an affront to the
common store of life.
The room, shadowed well with awnings, was dark and cool. Daisy and
Jordan lay upon an enormous couch, like silver idols weighing down
their own white dresses against the singing breeze of the fans.
"We can't move," they said together.
Jordan's fingers, powdered white over their tan, rested for a moment
in mine.
"And Mr. Thomas Buchanan, the athlete?" I inquired.
Simultaneously I heard his voice, gruff, muffled, husky, at the hall
telephone.
Gatsby stood in the centre of the crimson carpet and gazed around with
fascinated eyes. Daisy watched him and laughed, her sweet, exciting
laugh; a tiny gust of powder rose from her bosom into the air.
"The rumour is," whispered Jordan, "that that's Tom's girl on the
telephone."
We were silent. The voice in the hall rose high with annoyance: "Very
well, then, I won't sell you the car at all  I'm under no obligations
to you at all  and as for your bothering me about it at lunch time, I
won't stand that at all!"
"Holding down the receiver," said Daisy cynically.
"No, he's not," I assured her. "It's a bona-fide deal. I happen to
know about it."
Tom flung open the door, blocked out its space for a moment with his
thick body, and hurried into the room.
"Mr. Gatsby!" He put out his broad, flat hand with well-concealed
dislike. "I'm glad to see you, sir  Nick "
"Make us a cold drink," cried Daisy.
As he left the room again she got up and went over to Gatsby and
pulled his face down, kissing him on the mouth.
"You know I love you," she murmured.
"You forget there's a lady present," said Jordan.
Daisy looked around doubtfully.
"You kiss Nick too."
"What a low, vulgar girl!"
"I don't care!" cried Daisy, and began to clog on the brick fireplace.
Then she remembered the heat and sat down guiltily on the couch just
as a freshly laundered nurse leading a little girl came into the room.
"Bles-sed pre-cious," she crooned, holding out her arms. "Come to your
own mother that loves you."
The child, relinquished by the nurse, rushed across the room and
rooted shyly into her mother's dress.
"The bles-sed pre-cious! Did mother get powder on your old yellowy
hair? Stand up now, and sayHow-de-do."
Gatsby and I in turn leaned down and took the small reluctant hand.
Afterward he kept looking at the child with surprise. I don't think he
had ever really believed in its existence before.
"I got dressed before luncheon," said the child, turning eagerly to
Daisy.
"That's because your mother wanted to show you off." Her face bent
into the single wrinkle of the small white neck. "You dream, you. You
absolute little dream."
"Yes," admitted the child calmly. "Aunt Jordan's got on a white dress
too."
"How do you like mother's friends?" Daisy turned her around so that
she faced Gatsby. "Do you think they're pretty?"
"Where's Daddy?"
"She doesn't look like her father," explained Daisy. "She looks like
me. She's got my hair and shape of the face."
Daisy sat back upon the couch. The nurse took a step forward and held
out her hand.
"Come, Pammy."
"Goodbye, sweetheart!"
With a reluctant backward glance the well-disciplined child held to
her nurse's hand and was pulled out the door, just as Tom came back,
preceding four gin rickeys that clicked full of ice.`,length:3302,num_lines:66,location:"Daisy's House",importance:.8,conflict:.5,characters:[{name:"Daisy Buchanan",importance:1,importance_exp:"Central character in the scene",emotion:"playful yet conflicted",sentiment:.5,quote:"You know I love you.",fake_quote:"",importance_rank:1},{name:"Jordan Baker",importance:.6,importance_exp:"Important supporting character",emotion:"cynical and observant",sentiment:.2,quote:"What a low, vulgar girl!",fake_quote:"",importance_rank:4},{name:"Tom Buchanan",importance:.7,importance_exp:"Key character with tension",emotion:"displeased and confrontational",sentiment:-.5,quote:"I'm glad to see you, sir  Nick ",fake_quote:"",importance_rank:3},{name:"Jay Gatsby",importance:.9,importance_exp:"Pivotal character in the scene",emotion:"fascinated and surprised",sentiment:.4,quote:"No quote available",fake_quote:"Gatsby appears captivated by Daisy and the child, revealing his surprise at the reality of their lives.",importance_rank:2},{name:"Pammy Buchanan",importance:.4,importance_exp:"Minor character with emotional impact",emotion:"shy and innocent",sentiment:.3,quote:"Aunt Jordan's got on a white dress too.",fake_quote:"",importance_rank:5}],number:4,importance_rank:5,conflict_rank:6},{title:"Drive to Town",summary:"The group decides to go to town, tensions escalate.",chapter:"VII",first_line:133,last_line:238,explanation:"Transition to the drive to town.",text:`Gatsby took up his drink.
"They certainly look cool," he said, with visible tension.
We drank in long, greedy swallows.
"I read somewhere that the sun's getting hotter every year," said Tom
genially. "It seems that pretty soon the earth's going to fall into
the sunor wait a minuteit's just the oppositethe sun's getting
colder every year.
"Come outside," he suggested to Gatsby, "I'd like you to have a look
at the place."
I went with them out to the veranda. On the green Sound, stagnant in
the heat, one small sail crawled slowly toward the fresher sea.
Gatsby's eyes followed it momentarily; he raised his hand and pointed
across the bay.
"I'm right across from you."
"So you are."
Our eyes lifted over the rose-beds and the hot lawn and the weedy
refuse of the dog-days alongshore. Slowly the white wings of the boat
moved against the blue cool limit of the sky. Ahead lay the scalloped
ocean and the abounding blessed isles.
"There's sport for you," said Tom, nodding. "I'd like to be out there
with him for about an hour."
We had luncheon in the dining-room, darkened too against the heat, and
drank down nervous gaiety with the cold ale.
"What'll we do with ourselves this afternoon?" cried Daisy, "and the
day after that, and the next thirty years?"
"Don't be morbid," Jordan said. "Life starts all over again when it
gets crisp in the fall."
"But it's so hot," insisted Daisy, on the verge of tears, "and
everything's so confused. Let's all go to town!"
Her voice struggled on through the heat, beating against it, moulding
its senselessness into forms.
"I've heard of making a garage out of a stable," Tom was saying to
Gatsby, "but I'm the first man who ever made a stable out of a
garage."
"Who wants to go to town?" demanded Daisy insistently. Gatsby's eyes
floated toward her. "Ah," she cried, "you look so cool."
Their eyes met, and they stared together at each other, alone in
space. With an effort she glanced down at the table.
"You always look so cool," she repeated.
She had told him that she loved him, and Tom Buchanan saw. He was
astounded. His mouth opened a little, and he looked at Gatsby, and
then back at Daisy as if he had just recognized her as someone he knew
a long time ago.
"You resemble the advertisement of the man," she went on innocently.
"You know the advertisement of the man"
"All right," broke in Tom quickly, "I'm perfectly willing to go to
town. Come onwe're all going to town."
He got up, his eyes still flashing between Gatsby and his wife. No one
moved.
"Come on!" His temper cracked a little. "What's the matter, anyhow?
If we're going to town, let's start."
His hand, trembling with his effort at self-control, bore to his lips
the last of his glass of ale. Daisy's voice got us to our feet and out
on to the blazing gravel drive.
"Are we just going to go?" she objected. "Like this? Aren't we going
to let anyone smoke a cigarette first?"
"Everybody smoked all through lunch."
"Oh, let's have fun," she begged him. "It's too hot to fuss."
He didn't answer.
"Have it your own way," she said. "Come on, Jordan."
They went upstairs to get ready while we three men stood there
shuffling the hot pebbles with our feet. A silver curve of the moon
hovered already in the western sky. Gatsby started to speak, changed
his mind, but not before Tom wheeled and faced him expectantly.
"Have you got your stables here?" asked Gatsby with an effort.
"About a quarter of a mile down the road."
"Oh."
A pause.
"I don't see the idea of going to town," broke out Tom savagely.
"Women get these notions in their heads"
"Shall we take anything to drink?" called Daisy from an upper window.
"I'll get some whisky," answered Tom. He went inside.
Gatsby turned to me rigidly:
"I can't say anything in his house, old sport."
"She's got an indiscreet voice," I remarked. "It's full of" I
hesitated.
"Her voice is full of money," he said suddenly.
That was it. I'd never understood before. It was full of moneythat
was the inexhaustible charm that rose and fell in it, the jingle of
it, the cymbals' song of it  High in a white palace the king's
daughter, the golden girl 
Tom came out of the house wrapping a quart bottle in a towel, followed
by Daisy and Jordan wearing small tight hats of metallic cloth and
carrying light capes over their arms.
"Shall we all go in my car?" suggested Gatsby. He felt the hot, green
leather of the seat. "I ought to have left it in the shade."
"Is it standard shift?" demanded Tom.
"Yes."
"Well, you take my coup and let me drive your car to town."
The suggestion was distasteful to Gatsby.
"I don't think there's much gas," he objected.
"Plenty of gas," said Tom boisterously. He looked at the gauge. "And
if it runs out I can stop at a drugstore. You can buy anything at a
drugstore nowadays."
A pause followed this apparently pointless remark. Daisy looked at Tom
frowning, and an indefinable expression, at once definitely unfamiliar
and vaguely recognizable, as if I had only heard it described in
words, passed over Gatsby's face.
"Come on, Daisy," said Tom, pressing her with his hand toward Gatsby's
car. "I'll take you in this circus wagon."
He opened the door, but she moved out from the circle of his arm.
"You take Nick and Jordan. We'll follow you in the coup."
She walked close to Gatsby, touching his coat with her hand. Jordan
and Tom and I got into the front seat of Gatsby's car, Tom pushed the
unfamiliar gears tentatively, and we shot off into the oppressive
heat, leaving them out of sight behind.`,length:5492,num_lines:106,location:"Gatsby's House",importance:.8,conflict:.7,characters:[{name:"Jay Gatsby",importance:1,importance_exp:"Very important character in this scene",emotion:"nervous and hopeful",sentiment:.5,quote:'"Ah," she cried, "you look so cool."',fake_quote:"",importance_rank:1},{name:"Tom Buchanan",importance:1,importance_exp:"Very important character in this scene",emotion:"agitated and controlling",sentiment:-.5,quote:`"Come on!" His temper cracked a little. "What's the matter, anyhow? If we're going to town, let's start."`,fake_quote:"",importance_rank:2},{name:"Daisy Buchanan",importance:1,importance_exp:"Very important character in this scene",emotion:"confused and desperate",sentiment:-.3,quote:`"But it's so hot," insisted Daisy, on the verge of tears, "and everything's so confused. Let's all go to town!"`,fake_quote:"",importance_rank:3},{name:"Jordan Baker",importance:.5,importance_exp:"Somewhat important character in this scene",emotion:"calm and practical",sentiment:.2,quote:`"Don't be morbid," Jordan said. "Life starts all over again when it gets crisp in the fall."`,fake_quote:"",importance_rank:4}],number:5,importance_rank:6,conflict_rank:3},{title:"Gas Station Encounter",summary:"Tom stops at Wilson's gas station, revealing tensions.",chapter:"VII",first_line:239,last_line:305,explanation:"Change in location to Wilson's gas station.",text:`"Did you see that?" demanded Tom.
"See what?"
He looked at me keenly, realizing that Jordan and I must have known
all along.
"You think I'm pretty dumb, don't you?" he suggested. "Perhaps I am,
but I have aalmost a second sight, sometimes, that tells me what to
do. Maybe you don't believe that, but science"
He paused. The immediate contingency overtook him, pulled him back
from the edge of theoretical abyss.
"I've made a small investigation of this fellow," he continued. "I
could have gone deeper if I'd known"
"Do you mean you've been to a medium?" inquired Jordan humorously.
"What?" Confused, he stared at us as we laughed. "A medium?"
"About Gatsby."
"About Gatsby! No, I haven't. I said I'd been making a small
investigation of his past."
"And you found he was an Oxford man," said Jordan helpfully.
"An Oxford man!" He was incredulous. "Like hell he is! He wears a pink
suit."
"Nevertheless he's an Oxford man."
"Oxford, New Mexico," snorted Tom contemptuously, "or something like
that."
"Listen, Tom. If you're such a snob, why did you invite him to lunch?"
demanded Jordan crossly.
"Daisy invited him; she knew him before we were marriedGod knows
where!"
We were all irritable now with the fading ale, and aware of it we
drove for a while in silence. Then as Doctor T. J. Eckleburg's faded
eyes came into sight down the road, I remembered Gatsby's caution
about gasoline.
"We've got enough to get us to town," said Tom.
"But there's a garage right here," objected Jordan. "I don't want to
get stalled in this baking heat."
Tom threw on both brakes impatiently, and we slid to an abrupt dusty
stop under Wilson's sign. After a moment the proprietor emerged from
the interior of his establishment and gazed hollow-eyed at the car.
"Let's have some gas!" cried Tom roughly. "What do you think we
stopped forto admire the view?"
"I'm sick," said Wilson without moving. "Been sick all day."
"What's the matter?"
"I'm all run down."
"Well, shall I help myself?" Tom demanded. "You sounded well enough on
the phone."
With an effort Wilson left the shade and support of the doorway and,
breathing hard, unscrewed the cap of the tank. In the sunlight his
face was green.
"I didn't mean to interrupt your lunch," he said. "But I need money
pretty bad, and I was wondering what you were going to do with your
old car."
"How do you like this one?" inquired Tom. "I bought it last week."
"It's a nice yellow one," said Wilson, as he strained at the handle.
"Like to buy it?"
"Big chance," Wilson smiled faintly. "No, but I could make some money
on the other."
"What do you want money for, all of a sudden?"
"I've been here too long. I want to get away. My wife and I want to go
West."
"Your wife does," exclaimed Tom, startled.
"She's been talking about it for ten years." He rested for a moment
against the pump, shading his eyes. "And now she's going whether she
wants to or not. I'm going to get her away."
The coup flashed by us with a flurry of dust and the flash of a
waving hand.
"What do I owe you?" demanded Tom harshly.
"I just got wised up to something funny the last two days," remarked
Wilson. "That's why I want to get away. That's why I been bothering
you about the car."`,length:3192,num_lines:67,location:"Valley Of Ashes",importance:.8,conflict:.7,characters:[{name:"Tom Buchanan",importance:1,importance_exp:"Very important character driving the scene",emotion:"Irritated and confrontational",sentiment:-.5,quote:'"What do you want money for, all of a sudden?"',fake_quote:"",importance_rank:1},{name:"Jordan Baker",importance:.8,importance_exp:"Significant character challenging Tom",emotion:"Sarcastic and critical",sentiment:.2,quote:`"If you're such a snob, why did you invite him to lunch?"`,fake_quote:"",importance_rank:2},{name:"George Wilson",importance:.7,importance_exp:"Important character revealing his struggles",emotion:"Desperate and weary",sentiment:-.6,quote:`"I'm sick," said Wilson without moving. "Been sick all day."`,fake_quote:"",importance_rank:3}],number:6,importance_rank:7,conflict_rank:4},{title:"Accident and Aftermath",summary:"Myrtle is killed in a hit-and-run accident.",chapter:"VII",first_line:306,last_line:689,explanation:"Shift to the scene of the accident.",text:`"What do I owe you?"
"Dollar twenty."
The relentless beating heat was beginning to confuse me and I had a
bad moment there before I realized that so far his suspicions hadn't
alighted on Tom. He had discovered that Myrtle had some sort of life
apart from him in another world, and the shock had made him physically
sick. I stared at him and then at Tom, who had made a parallel
discovery less than an hour beforeand it occurred to me that there
was no difference between men, in intelligence or race, so profound as
the difference between the sick and the well. Wilson was so sick that
he looked guilty, unforgivably guiltyas if he had just got some poor
girl with child.
"I'll let you have that car," said Tom. "I'll send it over tomorrow
afternoon."
That locality was always vaguely disquieting, even in the broad glare
of afternoon, and now I turned my head as though I had been warned of
something behind. Over the ash-heaps the giant eyes of Doctor T. J.
Eckleburg kept their vigil, but I perceived, after a moment, that
other eyes were regarding us with peculiar intensity from less than
twenty feet away.
In one of the windows over the garage the curtains had been moved
aside a little, and Myrtle Wilson was peering down at the car. So
engrossed was she that she had no consciousness of being observed, and
one emotion after another crept into her face like objects into a
slowly developing picture. Her expression was curiously familiarit
was an expression I had often seen on women's faces, but on Myrtle
Wilson's face it seemed purposeless and inexplicable until I realized
that her eyes, wide with jealous terror, were fixed not on Tom, but on
Jordan Baker, whom she took to be his wife.
------------------------------------------------------------------------
There is no confusion like the confusion of a simple mind, and as we
drove away Tom was feeling the hot whips of panic. His wife and his
mistress, until an hour ago secure and inviolate, were slipping
precipitately from his control. Instinct made him step on the
accelerator with the double purpose of overtaking Daisy and leaving
Wilson behind, and we sped along toward Astoria at fifty miles an
hour, until, among the spidery girders of the elevated, we came in
sight of the easygoing blue coup.
"Those big movies around Fiftieth Street are cool," suggested
Jordan. "I love New York on summer afternoons when everyone's away.
There's something very sensuous about itoverripe, as if all sorts of
funny fruits were going to fall into your hands."
The word "sensuous" had the effect of further disquieting Tom, but
before he could invent a protest the coup came to a stop, and Daisy
signalled us to draw up alongside.
"Where are we going?" she cried.
"How about the movies?"
"It's so hot," she complained. "You go. We'll ride around and meet you
after." With an effort her wit rose faintly. "We'll meet you on some
corner. I'll be the man smoking two cigarettes."
"We can't argue about it here," Tom said impatiently, as a truck gave
out a cursing whistle behind us. "You follow me to the south side of
Central Park, in front of the Plaza."
Several times he turned his head and looked back for their car, and if
the traffic delayed them he slowed up until they came into sight. I
think he was afraid they would dart down a side-street and out of his
life forever.
But they didn't. And we all took the less explicable step of engaging
the parlour of a suite in the Plaza Hotel.
The prolonged and tumultuous argument that ended by herding us into
that room eludes me, though I have a sharp physical memory that, in
the course of it, my underwear kept climbing like a damp snake around
my legs and intermittent beads of sweat raced cool across my back.
The notion originated with Daisy's suggestion that we hire five
bathrooms and take cold baths, and then assumed more tangible form as
"a place to have a mint julep." Each of us said over and over that it
was a "crazy idea"we all talked at once to a baffled clerk and
thought, or pretended to think, that we were being very funny 
The room was large and stifling, and, though it was already four
o'clock, opening the windows admitted only a gust of hot shrubbery
from the Park. Daisy went to the mirror and stood with her back to us,
fixing her hair.
"It's a swell suite," whispered Jordan respectfully, and everyone
laughed.
"Open another window," commanded Daisy, without turning around.
"There aren't any more."
"Well, we'd better telephone for an axe"
"The thing to do is to forget about the heat," said Tom impatiently.
"You make it ten times worse by crabbing about it."
He unrolled the bottle of whisky from the towel and put it on the
table.
"Why not let her alone, old sport?" remarked Gatsby. "You're the one
that wanted to come to town."
There was a moment of silence. The telephone book slipped from its
nail and splashed to the floor, whereupon Jordan whispered, "Excuse
me"but this time no one laughed.
"I'll pick it up," I offered.
"I've got it." Gatsby examined the parted string, muttered "Hum!" in
an interested way, and tossed the book on a chair.
"That's a great expression of yours, isn't it?" said Tom sharply.
"What is?"
"All this 'old sport' business. Where'd you pick that up?"
"Now see here, Tom," said Daisy, turning around from the mirror, "if
you're going to make personal remarks I won't stay here a minute.
Call up and order some ice for the mint julep."
As Tom took up the receiver the compressed heat exploded into sound
and we were listening to the portentous chords of Mendelssohn's
Wedding March from the ballroom below.
"Imagine marrying anybody in this heat!" cried Jordan dismally.
"StillI was married in the middle of June," Daisy remembered.
"Louisville in June! Somebody fainted. Who was it fainted, Tom?"
"Biloxi," he answered shortly.
"A man named Biloxi. 'Blocks' Biloxi, and he made boxesthat's a
factand he was from Biloxi, Tennessee."
"They carried him into my house," appended Jordan, "because we lived
just two doors from the church. And he stayed three weeks, until Daddy
told him he had to get out. The day after he left Daddy died." After
a moment she added as if she might have sounded irreverent, "There
wasn't any connection."
"I used to know a Bill Biloxi from Memphis," I remarked.
"That was his cousin. I knew his whole family history before he
left. He gave me an aluminium putter that I use today."
The music had died down as the ceremony began and now a long cheer
floated in at the window, followed by intermittent cries of
"Yeaeaea!" and finally by a burst of jazz as the dancing began.
"We're getting old," said Daisy. "If we were young we'd rise and
dance."
"Remember Biloxi," Jordan warned her. "Where'd you know him, Tom?"
"Biloxi?" He concentrated with an effort. "I didn't know him. He was a
friend of Daisy's."
"He was not," she denied. "I'd never seen him before. He came down in
the private car."
"Well, he said he knew you. He said he was raised in Louisville. Asa
Bird brought him around at the last minute and asked if we had room
for him."
Jordan smiled.
"He was probably bumming his way home. He told me he was president of
your class at Yale."
Tom and I looked at each other blankly.
"Biloxi?"
"First place, we didn't have any president"
Gatsby's foot beat a short, restless tattoo and Tom eyed him suddenly.
"By the way, Mr. Gatsby, I understand you're an Oxford man."
"Not exactly."
"Oh, yes, I understand you went to Oxford."
"YesI went there."
A pause. Then Tom's voice, incredulous and insulting:
"You must have gone there about the time Biloxi went to New Haven."
Another pause. A waiter knocked and came in with crushed mint and ice
but the silence was unbroken by his "thank you" and the soft closing
of the door. This tremendous detail was to be cleared up at last.
"I told you I went there," said Gatsby.
"I heard you, but I'd like to know when."
"It was in nineteen-nineteen, I only stayed five months. That's why I
can't really call myself an Oxford man."
Tom glanced around to see if we mirrored his unbelief. But we were all
looking at Gatsby.
"It was an opportunity they gave to some of the officers after the
armistice," he continued. "We could go to any of the universities in
England or France."
I wanted to get up and slap him on the back. I had one of those
renewals of complete faith in him that I'd experienced before.
Daisy rose, smiling faintly, and went to the table.
"Open the whisky, Tom," she ordered, "and I'll make you a mint julep.
Then you won't seem so stupid to yourself  Look at the mint!"
"Wait a minute," snapped Tom, "I want to ask Mr. Gatsby one more
question."
"Go on," Gatsby said politely.
"What kind of a row are you trying to cause in my house anyhow?"
They were out in the open at last and Gatsby was content.
"He isn't causing a row," Daisy looked desperately from one to the
other. "You're causing a row. Please have a little self-control."
"Self-control!" repeated Tom incredulously. "I suppose the latest
thing is to sit back and let Mr. Nobody from Nowhere make love to your
wife. Well, if that's the idea you can count me out  Nowadays people
begin by sneering at family life and family institutions, and next
they'll throw everything overboard and have intermarriage between
black and white."
Flushed with his impassioned gibberish, he saw himself standing alone
on the last barrier of civilization.
"We're all white here," murmured Jordan.
"I know I'm not very popular. I don't give big parties. I suppose
you've got to make your house into a pigsty in order to have any
friendsin the modern world."
Angry as I was, as we all were, I was tempted to laugh whenever he
opened his mouth. The transition from libertine to prig was so
complete.
"I've got something to tell you, old sport" began Gatsby. But Daisy
guessed at his intention.
"Please don't!" she interrupted helplessly. "Please let's all go
home. Why don't we all go home?"
"That's a good idea," I got up. "Come on, Tom. Nobody wants a drink."
"I want to know what Mr. Gatsby has to tell me."
"Your wife doesn't love you," said Gatsby. "She's never loved you.
She loves me."
"You must be crazy!" exclaimed Tom automatically.
Gatsby sprang to his feet, vivid with excitement.
"She never loved you, do you hear?" he cried. "She only married you
because I was poor and she was tired of waiting for me. It was a
terrible mistake, but in her heart she never loved anyone except me!"
At this point Jordan and I tried to go, but Tom and Gatsby insisted
with competitive firmness that we remainas though neither of them had
anything to conceal and it would be a privilege to partake vicariously
of their emotions.
"Sit down, Daisy," Tom's voice groped unsuccessfully for the paternal
note. "What's been going on? I want to hear all about it."
"I told you what's been going on," said Gatsby. "Going on for five
yearsand you didn't know."
Tom turned to Daisy sharply.
"You've been seeing this fellow for five years?"
"Not seeing," said Gatsby. "No, we couldn't meet. But both of us loved
each other all that time, old sport, and you didn't know. I used to
laugh sometimes"but there was no laughter in his eyes"to think that
you didn't know."
"Ohthat's all." Tom tapped his thick fingers together like a
clergyman and leaned back in his chair.
"You're crazy!" he exploded. "I can't speak about what happened five
years ago, because I didn't know Daisy thenand I'll be damned if I
see how you got within a mile of her unless you brought the groceries
to the back door. But all the rest of that's a God damned lie. Daisy
loved me when she married me and she loves me now."
"No," said Gatsby, shaking his head.
"She does, though. The trouble is that sometimes she gets foolish
ideas in her head and doesn't know what she's doing." He nodded
sagely. "And what's more, I love Daisy too. Once in a while I go off
on a spree and make a fool of myself, but I always come back, and in
my heart I love her all the time."
"You're revolting," said Daisy. She turned to me, and her voice,
dropping an octave lower, filled the room with thrilling scorn: "Do
you know why we left Chicago? I'm surprised that they didn't treat you
to the story of that little spree."
Gatsby walked over and stood beside her.
"Daisy, that's all over now," he said earnestly. "It doesn't matter
any more. Just tell him the truththat you never loved himand it's
all wiped out forever."
She looked at him blindly. "Whyhow could I love himpossibly?"
"You never loved him."
She hesitated. Her eyes fell on Jordan and me with a sort of appeal,
as though she realized at last what she was doingand as though she
had never, all along, intended doing anything at all. But it was done
now. It was too late.
"I never loved him," she said, with perceptible reluctance.
"Not at Kapiolani?" demanded Tom suddenly.
"No."
From the ballroom beneath, muffled and suffocating chords were
drifting up on hot waves of air.
"Not that day I carried you down from the Punch Bowl to keep your
shoes dry?" There was a husky tenderness in his tone  "Daisy?"
"Please don't." Her voice was cold, but the rancour was gone from it.
She looked at Gatsby. "There, Jay," she saidbut her hand as she tried
to light a cigarette was trembling. Suddenly she threw the cigarette
and the burning match on the carpet.
"Oh, you want too much!" she cried to Gatsby. "I love you nowisn't
that enough? I can't help what's past." She began to sob
helplessly. "I did love him oncebut I loved you too."
Gatsby's eyes opened and closed.
"You loved me too?" he repeated.
"Even that's a lie," said Tom savagely. "She didn't know you were
alive. Whythere's things between Daisy and me that you'll never know,
things that neither of us can ever forget."
The words seemed to bite physically into Gatsby.
"I want to speak to Daisy alone," he insisted. "She's all excited
now"
"Even alone I can't say I never loved Tom," she admitted in a pitiful
voice. "It wouldn't be true."
"Of course it wouldn't," agreed Tom.
She turned to her husband.
"As if it mattered to you," she said.
"Of course it matters. I'm going to take better care of you from now
on."
"You don't understand," said Gatsby, with a touch of panic. "You're
not going to take care of her any more."
"I'm not?" Tom opened his eyes wide and laughed. He could afford to
control himself now. "Why's that?"
"Daisy's leaving you."
"Nonsense."
"I am, though," she said with a visible effort.
"She's not leaving me!" Tom's words suddenly leaned down over Gatsby.
"Certainly not for a common swindler who'd have to steal the ring he
put on her finger."
"I won't stand this!" cried Daisy. "Oh, please let's get out."
"Who are you, anyhow?" broke out Tom. "You're one of that bunch that
hangs around with Meyer Wolfshiemthat much I happen to know. I've
made a little investigation into your affairsand I'll carry it
further tomorrow."
"You can suit yourself about that, old sport," said Gatsby steadily.
"I found out what your 'drugstores' were." He turned to us and spoke
rapidly. "He and this Wolfshiem bought up a lot of side-street
drugstores here and in Chicago and sold grain alcohol over the
counter. That's one of his little stunts. I picked him for a
bootlegger the first time I saw him, and I wasn't far wrong."
"What about it?" said Gatsby politely. "I guess your friend Walter
Chase wasn't too proud to come in on it."
"And you left him in the lurch, didn't you? You let him go to jail for
a month over in New Jersey. God! You ought to hear Walter on the
subject of you."
"He came to us dead broke. He was very glad to pick up some money, old
sport."
"Don't you call me 'old sport'!" cried Tom. Gatsby said
nothing. "Walter could have you up on the betting laws too, but
Wolfshiem scared him into shutting his mouth."
That unfamiliar yet recognizable look was back again in Gatsby's face.
"That drugstore business was just small change," continued Tom slowly,
"but you've got something on now that Walter's afraid to tell me
about."
I glanced at Daisy, who was staring terrified between Gatsby and her
husband, and at Jordan, who had begun to balance an invisible but
absorbing object on the tip of her chin. Then I turned back to
Gatsbyand was startled at his expression. He lookedand this is said
in all contempt for the babbled slander of his gardenas if he had
"killed a man." For a moment the set of his face could be described in
just that fantastic way.
It passed, and he began to talk excitedly to Daisy, denying
everything, defending his name against accusations that had not been
made. But with every word she was drawing further and further into
herself, so he gave that up, and only the dead dream fought on as the
afternoon slipped away, trying to touch what was no longer tangible,
struggling unhappily, undespairingly, toward that lost voice across
the room.
The voice begged again to go.
"Please, Tom! I can't stand this any more."
Her frightened eyes told that whatever intentions, whatever courage
she had had, were definitely gone.
"You two start on home, Daisy," said Tom. "In Mr. Gatsby's car."
She looked at Tom, alarmed now, but he insisted with magnanimous
scorn.
"Go on. He won't annoy you. I think he realizes that his presumptuous
little flirtation is over."
They were gone, without a word, snapped out, made accidental,
isolated, like ghosts, even from our pity.
After a moment Tom got up and began wrapping the unopened bottle of
whisky in the towel.
"Want any of this stuff? Jordan?  Nick?"
I didn't answer.
"Nick?" He asked again.
"What?"
"Want any?"
"No  I just remembered that today's my birthday."
I was thirty. Before me stretched the portentous, menacing road of a
new decade.
It was seven o'clock when we got into the coup with him and started
for Long Island. Tom talked incessantly, exulting and laughing, but
his voice was as remote from Jordan and me as the foreign clamour on
the sidewalk or the tumult of the elevated overhead. Human sympathy
has its limits, and we were content to let all their tragic arguments
fade with the city lights behind. Thirtythe promise of a decade of
loneliness, a thinning list of single men to know, a thinning
briefcase of enthusiasm, thinning hair. But there was Jordan beside
me, who, unlike Daisy, was too wise ever to carry well-forgotten
dreams from age to age. As we passed over the dark bridge her wan face
fell lazily against my coat's shoulder and the formidable stroke of
thirty died away with the reassuring pressure of her hand.
So we drove on toward death through the cooling twilight.
------------------------------------------------------------------------
The young Greek, Michaelis, who ran the coffee joint beside the
ash-heaps was the principal witness at the inquest. He had slept
through the heat until after five, when he strolled over to the
garage, and found George Wilson sick in his officereally sick, pale
as his own pale hair and shaking all over. Michaelis advised him to go
to bed, but Wilson refused, saying that he'd miss a lot of business if
he did. While his neighbour was trying to persuade him a violent
racket broke out overhead.
"I've got my wife locked in up there," explained Wilson calmly.
"She's going to stay there till the day after tomorrow, and then we're
going to move away."
Michaelis was astonished; they had been neighbours for four years, and
Wilson had never seemed faintly capable of such a statement.
Generally he was one of these worn-out men: when he wasn't working, he
sat on a chair in the doorway and stared at the people and the cars
that passed along the road. When anyone spoke to him he invariably
laughed in an agreeable, colourless way. He was his wife's man and not
his own.
So naturally Michaelis tried to find out what had happened, but Wilson
wouldn't say a wordinstead he began to throw curious, suspicious
glances at his visitor and ask him what he'd been doing at certain
times on certain days. Just as the latter was getting uneasy, some
workmen came past the door bound for his restaurant, and Michaelis
took the opportunity to get away, intending to come back later. But he
didn't. He supposed he forgot to, that's all. When he came outside
again, a little after seven, he was reminded of the conversation
because he heard Mrs. Wilson's voice, loud and scolding, downstairs in
the garage.
"Beat me!" he heard her cry. "Throw me down and beat me, you dirty
little coward!"
A moment later she rushed out into the dusk, waving her hands and
shoutingbefore he could move from his door the business was over.
The "death car" as the newspapers called it, didn't stop; it came out
of the gathering darkness, wavered tragically for a moment, and then
disappeared around the next bend. Mavro Michaelis wasn't even sure of
its colourhe told the first policeman that it was light green. The
other car, the one going toward New York, came to rest a hundred yards
beyond, and its driver hurried back to where Myrtle Wilson, her life
violently extinguished, knelt in the road and mingled her thick dark
blood with the dust.`,length:20984,num_lines:384,location:"Plaza Hotel",importance:.9,conflict:.8,characters:[{name:"Tom Buchanan",importance:1,importance_exp:"Tom is the main antagonist in this scene.",emotion:"Angry and controlling",sentiment:-.8,quote:"You're causing a row. Please have a little self-control.",fake_quote:"",importance_rank:1},{name:"Jay Gatsby",importance:1,importance_exp:"Gatsby is central to the conflict with Tom.",emotion:"Desperate and hopeful",sentiment:.2,quote:"She never loved you, do you hear?",fake_quote:"",importance_rank:2},{name:"Daisy Buchanan",importance:1,importance_exp:"Daisy's choices drive the emotional conflict.",emotion:"Conflicted and distressed",sentiment:-.5,quote:"I love you nowisn't that enough?",fake_quote:"",importance_rank:3},{name:"Jordan Baker",importance:.5,importance_exp:"Jordan provides commentary and perspective.",emotion:"Observant and detached",sentiment:.1,quote:"It's a swell suite.",fake_quote:"",importance_rank:4},{name:"George Wilson",importance:.3,importance_exp:"George's emotional state reflects the scene's tension.",emotion:"Sick and desperate",sentiment:-.7,quote:"I've got my wife locked in up there.",fake_quote:"",importance_rank:6},{name:"Myrtle Wilson",importance:.4,importance_exp:"Myrtle's actions influence the events leading to conflict.",emotion:"Jealous and angry",sentiment:-.6,quote:"No quote available",fake_quote:"Myrtle's jealousy and anger are fueled by her feelings of betrayal and frustration in her tumultuous relationship, revealing her desperation for validation.",importance_rank:5}],number:7,importance_rank:1,conflict_rank:1},{title:"Return to Buchanans' House",summary:"Tom and Nick return to the Buchanans' house after the accident.",chapter:"VII",first_line:690,last_line:919,explanation:"Transition back to the Buchanans' house.",text:`Michaelis and this man reached her first, but when they had torn open
her shirtwaist, still damp with perspiration, they saw that her left
breast was swinging loose like a flap, and there was no need to listen
for the heart beneath. The mouth was wide open and ripped a little at
the corners, as though she had choked a little in giving up the
tremendous vitality she had stored so long.
------------------------------------------------------------------------
We saw the three or four automobiles and the crowd when we were still
some distance away.
"Wreck!" said Tom. "That's good. Wilson'll have a little business at
last."
He slowed down, but still without any intention of stopping, until, as
we came nearer, the hushed, intent faces of the people at the garage
door made him automatically put on the brakes.
"We'll take a look," he said doubtfully, "just a look."
I became aware now of a hollow, wailing sound which issued incessantly
from the garage, a sound which as we got out of the coup and walked
toward the door resolved itself into the words "Oh, my God!" uttered
over and over in a gasping moan.
"There's some bad trouble here," said Tom excitedly.
He reached up on tiptoes and peered over a circle of heads into the
garage, which was lit only by a yellow light in a swinging metal
basket overhead. Then he made a harsh sound in his throat, and with a
violent thrusting movement of his powerful arms pushed his way
through.
The circle closed up again with a running murmur of expostulation; it
was a minute before I could see anything at all. Then new arrivals
deranged the line, and Jordan and I were pushed suddenly inside.
Myrtle Wilson's body, wrapped in a blanket, and then in another
blanket, as though she suffered from a chill in the hot night, lay on
a worktable by the wall, and Tom, with his back to us, was bending
over it, motionless. Next to him stood a motorcycle policeman taking
down names with much sweat and correction in a little book. At first I
couldn't find the source of the high, groaning words that echoed
clamorously through the bare garagethen I saw Wilson standing on the
raised threshold of his office, swaying back and forth and holding to
the doorposts with both hands. Some man was talking to him in a low
voice and attempting, from time to time, to lay a hand on his
shoulder, but Wilson neither heard nor saw. His eyes would drop slowly
from the swinging light to the laden table by the wall, and then jerk
back to the light again, and he gave out incessantly his high,
horrible call:
"Oh, my Ga-od! Oh, my Ga-od! Oh, Ga-od! Oh, my Ga-od!"
Presently Tom lifted his head with a jerk and, after staring around
the garage with glazed eyes, addressed a mumbled incoherent remark to
the policeman.
"M-a-v" the policeman was saying, "o"
"No, r" corrected the man, "M-a-v-r-o"
"Listen to me!" muttered Tom fiercely.
"r" said the policeman, "o"
"g"
"g" He looked up as Tom's broad hand fell sharply on his shoulder.
"What you want, fella?"
"What happened?that's what I want to know."
"Auto hit her. Ins'antly killed."
"Instantly killed," repeated Tom, staring.
"She ran out ina road. Son-of-a-bitch didn't even stopus car."
"There was two cars," said Michaelis, "one comin', one goin', see?"
"Going where?" asked the policeman keenly.
"One goin' each way. Well, she"his hand rose toward the blankets but
stopped halfway and fell to his side"she ran out there an' the one
comin' from N'York knock right into her, goin' thirty or forty miles
an hour."
"What's the name of this place here?" demanded the officer.
"Hasn't got any name."
A pale well-dressed negro stepped near.
"It was a yellow car," he said, "big yellow car. New."
"See the accident?" asked the policeman.
"No, but the car passed me down the road, going faster'n forty. Going
fifty, sixty."
"Come here and let's have your name. Look out now. I want to get his
name."
Some words of this conversation must have reached Wilson, swaying in
the office door, for suddenly a new theme found voice among his
grasping cries:
"You don't have to tell me what kind of car it was! I know what kind
of car it was!"
Watching Tom, I saw the wad of muscle back of his shoulder tighten
under his coat. He walked quickly over to Wilson and, standing in
front of him, seized him firmly by the upper arms.
"You've got to pull yourself together," he said with soothing
gruffness.
Wilson's eyes fell upon Tom; he started up on his tiptoes and then
would have collapsed to his knees had not Tom held him upright.
"Listen," said Tom, shaking him a little. "I just got here a minute
ago, from New York. I was bringing you that coup we've been talking
about. That yellow car I was driving this afternoon wasn't minedo you
hear? I haven't seen it all afternoon."
Only the negro and I were near enough to hear what he said, but the
policeman caught something in the tone and looked over with truculent
eyes.
"What's all that?" he demanded.
"I'm a friend of his." Tom turned his head but kept his hands firm on
Wilson's body. "He says he knows the car that did it  It was a yellow
car."
Some dim impulse moved the policeman to look suspiciously at Tom.
"And what colour's your car?"
"It's a blue car, a coup."
"We've come straight from New York," I said.
Someone who had been driving a little behind us confirmed this, and
the policeman turned away.
"Now, if you'll let me have that name again correct"
Picking up Wilson like a doll, Tom carried him into the office, set
him down in a chair, and came back.
"If somebody'll come here and sit with him," he snapped
authoritatively. He watched while the two men standing closest glanced
at each other and went unwillingly into the room. Then Tom shut the
door on them and came down the single step, his eyes avoiding the
table. As he passed close to me he whispered: "Let's get out."
Self-consciously, with his authoritative arms breaking the way, we
pushed through the still gathering crowd, passing a hurried doctor,
case in hand, who had been sent for in wild hope half an hour ago.
Tom drove slowly until we were beyond the bendthen his foot came down
hard, and the coup raced along through the night. In a little while I
heard a low husky sob, and saw that the tears were overflowing down
his face.
"The God damned coward!" he whimpered. "He didn't even stop his car."
------------------------------------------------------------------------
The Buchanans' house floated suddenly toward us through the dark
rustling trees. Tom stopped beside the porch and looked up at the
second floor, where two windows bloomed with light among the vines.
"Daisy's home," he said. As we got out of the car he glanced at me and
frowned slightly.
"I ought to have dropped you in West Egg, Nick. There's nothing we can
do tonight."
A change had come over him, and he spoke gravely, and with decision.
As we walked across the moonlight gravel to the porch he disposed of
the situation in a few brisk phrases.
"I'll telephone for a taxi to take you home, and while you're waiting
you and Jordan better go in the kitchen and have them get you some
supperif you want any." He opened the door. "Come in."
"No, thanks. But I'd be glad if you'd order me the taxi. I'll wait
outside."
Jordan put her hand on my arm.
"Won't you come in, Nick?"
"No, thanks."
I was feeling a little sick and I wanted to be alone. But Jordan
lingered for a moment more.
"It's only half-past nine," she said.
I'd be damned if I'd go in; I'd had enough of all of them for one day,
and suddenly that included Jordan too. She must have seen something of
this in my expression, for she turned abruptly away and ran up the
porch steps into the house. I sat down for a few minutes with my head
in my hands, until I heard the phone taken up inside and the butler's
voice calling a taxi. Then I walked slowly down the drive away from
the house, intending to wait by the gate.
I hadn't gone twenty yards when I heard my name and Gatsby stepped
from between two bushes into the path. I must have felt pretty weird
by that time, because I could think of nothing except the luminosity
of his pink suit under the moon.
"What are you doing?" I inquired.
"Just standing here, old sport."
Somehow, that seemed a despicable occupation. For all I knew he was
going to rob the house in a moment; I wouldn't have been surprised to
see sinister faces, the faces of "Wolfshiem's people," behind him in
the dark shrubbery.
"Did you see any trouble on the road?" he asked after a minute.
"Yes."
He hesitated.
"Was she killed?"
"Yes."
"I thought so; I told Daisy I thought so. It's better that the shock
should all come at once. She stood it pretty well."
He spoke as if Daisy's reaction was the only thing that mattered.
"I got to West Egg by a side road," he went on, "and left the car in
my garage. I don't think anybody saw us, but of course I can't be
sure."
I disliked him so much by this time that I didn't find it necessary to
tell him he was wrong.
"Who was the woman?" he inquired.
"Her name was Wilson. Her husband owns the garage. How the devil did
it happen?"
"Well, I tried to swing the wheel" He broke off, and suddenly I
guessed at the truth.
"Was Daisy driving?"
"Yes," he said after a moment, "but of course I'll say I was. You see,
when we left New York she was very nervous and she thought it would
steady her to driveand this woman rushed out at us just as we were
passing a car coming the other way. It all happened in a minute, but
it seemed to me that she wanted to speak to us, thought we were
somebody she knew. Well, first Daisy turned away from the woman toward
the other car, and then she lost her nerve and turned back. The second
my hand reached the wheel I felt the shockit must have killed her
instantly."
"It ripped her open"
"Don't tell me, old sport." He winced. "AnyhowDaisy stepped on it. I
tried to make her stop, but she couldn't, so I pulled on the emergency
brake. Then she fell over into my lap and I drove on.
"She'll be all right tomorrow," he said presently. "I'm just going to
wait here and see if he tries to bother her about that unpleasantness
this afternoon. She's locked herself into her room, and if he tries
any brutality she's going to turn the light out and on again."
"He won't touch her," I said. "He's not thinking about her."
"I don't trust him, old sport."
"How long are you going to wait?"
"All night, if necessary. Anyhow, till they all go to bed."
A new point of view occurred to me. Suppose Tom found out that Daisy
had been driving. He might think he saw a connection in ithe might
think anything. I looked at the house; there were two or three bright
windows downstairs and the pink glow from Daisy's room on the ground
floor.
"You wait here," I said. "I'll see if there's any sign of a
commotion."
I walked back along the border of the lawn, traversed the gravel
softly, and tiptoed up the veranda steps. The drawing-room curtains
were open, and I saw that the room was empty. Crossing the porch where
we had dined that June night three months before, I came to a small
rectangle of light which I guessed was the pantry window. The blind
was drawn, but I found a rift at the sill.
Daisy and Tom were sitting opposite each other at the kitchen table,
with a plate of cold fried chicken between them, and two bottles of
ale. He was talking intently across the table at her, and in his
earnestness his hand had fallen upon and covered her own. Once in a
while she looked up at him and nodded in agreement.
They weren't happy, and neither of them had touched the chicken or the
aleand yet they weren't unhappy either. There was an unmistakable air
of natural intimacy about the picture, and anybody would have said
that they were conspiring together.
As I tiptoed from the porch I heard my taxi feeling its way along the
dark road toward the house. Gatsby was waiting where I had left him in
the drive.
"Is it all quiet up there?" he asked anxiously.
"Yes, it's all quiet." I hesitated. "You'd better come home and get
some sleep."
He shook his head.
"I want to wait here till Daisy goes to bed. Good night, old sport."
He put his hands in his coat pockets and turned back eagerly to his
scrutiny of the house, as though my presence marred the sacredness of
the vigil. So I walked away and left him standing there in the
moonlightwatching over nothing.`,length:12301,num_lines:230,location:"Valley Of Ashes",importance:.9,conflict:.8,characters:[{name:"Tom Buchanan",importance:1,importance_exp:"Tom is central to the scene's conflict.",emotion:"agitated and defensive",sentiment:-.5,quote:`"What happened?that's what I want to know."`,fake_quote:"",importance_rank:1},{name:"Myrtle Wilson",importance:1,importance_exp:"Myrtle's death is the focal point of the scene.",emotion:"tragic and lifeless",sentiment:-1,quote:"No quote available",fake_quote:"Myrtle is found dead, her body is described as lifeless and tragic.",importance_rank:2},{name:"George Wilson",importance:1,importance_exp:"George's grief drives the emotional weight of the scene.",emotion:"devastated and in shock",sentiment:-1,quote:'"Oh, my Ga-od! Oh, my Ga-od! Oh, Ga-od! Oh, my Ga-od!"',fake_quote:"",importance_rank:3},{name:"Jay Gatsby",importance:.7,importance_exp:"Gatsby's involvement complicates the situation.",emotion:"anxious and guilty",sentiment:-.5,quote:`"I thought so; I told Daisy I thought so. It's better that the shock should all come at once."`,fake_quote:"",importance_rank:4},{name:"Nick Carraway",importance:.6,importance_exp:"Nick observes and narrates the unfolding tragedy.",emotion:"sick and overwhelmed",sentiment:-.5,quote:"No quote available",fake_quote:"Nick feels sick and overwhelmed by the events unfolding around him.",importance_rank:5}],number:8,importance_rank:2,conflict_rank:2},{title:"Gatsby's House at Dawn",summary:"Nick visits Gatsby's house early in the morning.",chapter:"VIII",first_line:1,last_line:81,explanation:"Start of chapter.",text:`I couldn't sleep all night; a foghorn was groaning incessantly on the
Sound, and I tossed half-sick between grotesque reality and savage,
frightening dreams. Toward dawn I heard a taxi go up Gatsby's drive,
and immediately I jumped out of bed and began to dressI felt that I
had something to tell him, something to warn him about, and morning
would be too late.
Crossing his lawn, I saw that his front door was still open and he was
leaning against a table in the hall, heavy with dejection or sleep.
"Nothing happened," he said wanly. "I waited, and about four o'clock
she came to the window and stood there for a minute and then turned
out the light."
His house had never seemed so enormous to me as it did that night when
we hunted through the great rooms for cigarettes. We pushed aside
curtains that were like pavilions, and felt over innumerable feet of
dark wall for electric light switchesonce I tumbled with a sort of
splash upon the keys of a ghostly piano. There was an inexplicable
amount of dust everywhere, and the rooms were musty, as though they
hadn't been aired for many days. I found the humidor on an unfamiliar
table, with two stale, dry cigarettes inside. Throwing open the French
windows of the drawing-room, we sat smoking out into the darkness.
"You ought to go away," I said. "It's pretty certain they'll trace
your car."
"Go away now, old sport?"
"Go to Atlantic City for a week, or up to Montreal."
He wouldn't consider it. He couldn't possibly leave Daisy until he
knew what she was going to do. He was clutching at some last hope and
I couldn't bear to shake him free.
It was this night that he told me the strange story of his youth with
Dan Codytold it to me because "Jay Gatsby" had broken up like glass
against Tom's hard malice, and the long secret extravaganza was played
out. I think that he would have acknowledged anything now, without
reserve, but he wanted to talk about Daisy.
She was the first "nice" girl he had ever known. In various unrevealed
capacities he had come in contact with such people, but always with
indiscernible barbed wire between. He found her excitingly
desirable. He went to her house, at first with other officers from
Camp Taylor, then alone. It amazed himhe had never been in such a
beautiful house before. But what gave it an air of breathless
intensity, was that Daisy lived thereit was as casual a thing to her
as his tent out at camp was to him. There was a ripe mystery about it,
a hint of bedrooms upstairs more beautiful and cool than other
bedrooms, of gay and radiant activities taking place through its
corridors, and of romances that were not musty and laid away already
in lavender but fresh and breathing and redolent of this year's
shining motorcars and of dances whose flowers were scarcely
withered. It excited him, too, that many men had already loved
Daisyit increased her value in his eyes. He felt their presence all
about the house, pervading the air with the shades and echoes of still
vibrant emotions.
But he knew that he was in Daisy's house by a colossal
accident. However glorious might be his future as Jay Gatsby, he was
at present a penniless young man without a past, and at any moment the
invisible cloak of his uniform might slip from his shoulders. So he
made the most of his time. He took what he could get, ravenously and
unscrupulouslyeventually he took Daisy one still October night, took
her because he had no real right to touch her hand.
He might have despised himself, for he had certainly taken her under
false pretences. I don't mean that he had traded on his phantom
millions, but he had deliberately given Daisy a sense of security; he
let her believe that he was a person from much the same strata as
herselfthat he was fully able to take care of her. As a matter of
fact, he had no such facilitieshe had no comfortable family standing
behind him, and he was liable at the whim of an impersonal government
to be blown anywhere about the world.
But he didn't despise himself and it didn't turn out as he had
imagined. He had intended, probably, to take what he could and gobut
now he found that he had committed himself to the following of a
grail. He knew that Daisy was extraordinary, but he didn't realize
just how extraordinary a "nice" girl could be. She vanished into her
rich house, into her rich, full life, leaving Gatsbynothing. He felt
married to her, that was all.
When they met again, two days later, it was Gatsby who was breathless,
who was, somehow, betrayed. Her porch was bright with the bought
luxury of star-shine; the wicker of the settee squeaked fashionably as
she turned toward him and he kissed her curious and lovely mouth. She
had caught a cold, and it made her voice huskier and more charming
than ever, and Gatsby was overwhelmingly aware of the youth and
mystery that wealth imprisons and preserves, of the freshness of many
clothes, and of Daisy, gleaming like silver, safe and proud above the
hot struggles of the poor.
------------------------------------------------------------------------`,length:5048,num_lines:81,location:"Gatsby's House",importance:.9,conflict:.7,characters:[{name:"Jay Gatsby",importance:1,importance_exp:"Very important character in this scene",emotion:"heavy with dejection",sentiment:-.5,quote:"Nothing happened.",fake_quote:"",importance_rank:1},{name:"Nick Carraway",importance:.8,importance_exp:"Important character observing Gatsby",emotion:"concerned and anxious",sentiment:-.3,quote:"You ought to go away.",fake_quote:"",importance_rank:2}],number:1,importance_rank:2,conflict_rank:3},{title:"Gatsby's Memories of Daisy",summary:"Gatsby shares his memories of Daisy and their past.",chapter:"VIII",first_line:82,last_line:131,explanation:"Transition to Gatsby's memories.",text:`"I can't describe to you how surprised I was to find out I loved her,
old sport. I even hoped for a while that she'd throw me over, but she
didn't, because she was in love with me too. She thought I knew a lot
because I knew different things from her  Well, there I was, way off
my ambitions, getting deeper in love every minute, and all of a sudden
I didn't care. What was the use of doing great things if I could have
a better time telling her what I was going to do?"
On the last afternoon before he went abroad, he sat with Daisy in his
arms for a long, silent time. It was a cold fall day, with fire in the
room and her cheeks flushed. Now and then she moved and he changed his
arm a little, and once he kissed her dark shining hair. The afternoon
had made them tranquil for a while, as if to give them a deep memory
for the long parting the next day promised. They had never been closer
in their month of love, nor communicated more profoundly one with
another, than when she brushed silent lips against his coat's shoulder
or when he touched the end of her fingers, gently, as though she were
asleep.
------------------------------------------------------------------------
He did extraordinarily well in the war. He was a captain before he
went to the front, and following the Argonne battles he got his
majority and the command of the divisional machine-guns. After the
armistice he tried frantically to get home, but some complication or
misunderstanding sent him to Oxford instead. He was worried nowthere
was a quality of nervous despair in Daisy's letters. She didn't see
why he couldn't come. She was feeling the pressure of the world
outside, and she wanted to see him and feel his presence beside her
and be reassured that she was doing the right thing after all.
For Daisy was young and her artificial world was redolent of orchids
and pleasant, cheerful snobbery and orchestras which set the rhythm of
the year, summing up the sadness and suggestiveness of life in new
tunes. All night the saxophones wailed the hopeless comment of the
"Beale Street Blues" while a hundred pairs of golden and silver
slippers shuffled the shining dust. At the grey tea hour there were
always rooms that throbbed incessantly with this low, sweet fever,
while fresh faces drifted here and there like rose petals blown by the
sad horns around the floor.
Through this twilight universe Daisy began to move again with the
season; suddenly she was again keeping half a dozen dates a day with
half a dozen men, and drowsing asleep at dawn with the beads and
chiffon of an evening-dress tangled among dying orchids on the floor
beside her bed. And all the time something within her was crying for a
decision. She wanted her life shaped now, immediatelyand the decision
must be made by some forceof love, of money, of unquestionable
practicalitythat was close at hand.
That force took shape in the middle of spring with the arrival of Tom
Buchanan. There was a wholesome bulkiness about his person and his
position, and Daisy was flattered. Doubtless there was a certain
struggle and a certain relief. The letter reached Gatsby while he was
still at Oxford.
------------------------------------------------------------------------`,length:3227,num_lines:50,location:"Daisy's House",importance:.9,conflict:.5,characters:[{name:"Jay Gatsby",importance:1,importance_exp:"Very important character in this scene",emotion:"deeply in love and reflective",sentiment:.8,quote:"I can't describe to you how surprised I was to find out I loved her, old sport.",fake_quote:"",importance_rank:1},{name:"Daisy Buchanan",importance:1,importance_exp:"Very important character in this scene",emotion:"yearning and conflicted",sentiment:.5,quote:"She was feeling the pressure of the world outside, and she wanted to see him and feel his presence beside her and be reassured that she was doing the right thing after all.",fake_quote:"",importance_rank:2}],number:2,importance_rank:3,conflict_rank:4},{title:"Daisy's Life After Gatsby",summary:"Daisy's life and choices after Gatsby goes to war.",chapter:"VIII",first_line:132,last_line:181,explanation:"Change in focus to Daisy's life.",text:`It was dawn now on Long Island and we went about opening the rest of
the windows downstairs, filling the house with grey-turning,
gold-turning light. The shadow of a tree fell abruptly across the dew
and ghostly birds began to sing among the blue leaves. There was a
slow, pleasant movement in the air, scarcely a wind, promising a cool,
lovely day.
"I don't think she ever loved him." Gatsby turned around from a window
and looked at me challengingly. "You must remember, old sport, she was
very excited this afternoon. He told her those things in a way that
frightened herthat made it look as if I was some kind of cheap
sharper. And the result was she hardly knew what she was saying."
He sat down gloomily.
"Of course she might have loved him just for a minute, when they were
first marriedand loved me more even then, do you see?"
Suddenly he came out with a curious remark.
"In any case," he said, "it was just personal."
What could you make of that, except to suspect some intensity in his
conception of the affair that couldn't be measured?
He came back from France when Tom and Daisy were still on their
wedding trip, and made a miserable but irresistible journey to
Louisville on the last of his army pay. He stayed there a week,
walking the streets where their footsteps had clicked together through
the November night and revisiting the out-of-the-way places to which
they had driven in her white car. Just as Daisy's house had always
seemed to him more mysterious and gay than other houses, so his idea
of the city itself, even though she was gone from it, was pervaded
with a melancholy beauty.
He left feeling that if he had searched harder, he might have found
herthat he was leaving her behind. The day-coachhe was penniless
nowwas hot. He went out to the open vestibule and sat down on a
folding-chair, and the station slid away and the backs of unfamiliar
buildings moved by. Then out into the spring fields, where a yellow
trolley raced them for a minute with people in it who might once have
seen the pale magic of her face along the casual street.
The track curved and now it was going away from the sun, which, as it
sank lower, seemed to spread itself in benediction over the vanishing
city where she had drawn her breath. He stretched out his hand
desperately as if to snatch only a wisp of air, to save a fragment of
the spot that she had made lovely for him. But it was all going by too
fast now for his blurred eyes and he knew that he had lost that part
of it, the freshest and the best, forever.
It was nine o'clock when we finished breakfast and went out on the
porch. The night had made a sharp difference in the weather and there
was an autumn flavour in the air. The gardener, the last one of
Gatsby's former servants, came to the foot of the steps.
"I'm going to drain the pool today, Mr. Gatsby. Leaves'll start
falling pretty soon, and then there's always trouble with the pipes."
"Don't do it today," Gatsby answered. He turned to me apologetically.
"You know, old sport, I've never used that pool all summer?"
I looked at my watch and stood up.`,length:3088,num_lines:50,location:"Gatsby's House",importance:.8,conflict:.5,characters:[{name:"Jay Gatsby",importance:1,importance_exp:"Very important character in this scene",emotion:"gloomy and reflective",sentiment:-.5,quote:`"I don't think she ever loved him."`,fake_quote:"",importance_rank:1},{name:"Nick Carraway",importance:.7,importance_exp:"Key observer and participant in the scene",emotion:"thoughtful and contemplative",sentiment:.2,quote:"No quote available",fake_quote:"Nick reflects on Gatsby's emotions and the complexity of his feelings about Daisy.",importance_rank:2},{name:"Gardener",importance:.4,importance_exp:"Minor character with a specific task",emotion:"neutral",sentiment:0,quote:"I'm going to drain the pool today, Mr. Gatsby.",fake_quote:"",importance_rank:3}],number:3,importance_rank:6,conflict_rank:5},{title:"Gatsby's Breakfast with Nick",summary:"Gatsby and Nick discuss plans and Daisy's potential call.",chapter:"VIII",first_line:182,last_line:211,explanation:"Shift to breakfast scene.",text:`"Twelve minutes to my train."
I didn't want to go to the city. I wasn't worth a decent stroke of
work, but it was more than thatI didn't want to leave Gatsby. I
missed that train, and then another, before I could get myself away.
"I'll call you up," I said finally.
"Do, old sport."
"I'll call you about noon."
We walked slowly down the steps.
"I suppose Daisy'll call too." He looked at me anxiously, as if he
hoped I'd corroborate this.
"I suppose so."
"Well, goodbye."
We shook hands and I started away. Just before I reached the hedge I
remembered something and turned around.
"They're a rotten crowd," I shouted across the lawn. "You're worth the
whole damn bunch put together."
I've always been glad I said that. It was the only compliment I ever
gave him, because I disapproved of him from beginning to end. First he
nodded politely, and then his face broke into that radiant and
understanding smile, as if we'd been in ecstatic cahoots on that fact
all the time. His gorgeous pink rag of a suit made a bright spot of
colour against the white steps, and I thought of the night when I
first came to his ancestral home, three months before. The lawn and
drive had been crowded with the faces of those who guessed at his
corruptionand he had stood on those steps, concealing his
incorruptible dream, as he waved them goodbye.
I thanked him for his hospitality. We were always thanking him for
thatI and the others.
"Goodbye," I called. "I enjoyed breakfast, Gatsby."
------------------------------------------------------------------------`,length:1546,num_lines:30,location:"Gatsby's House",importance:.9,conflict:.3,characters:[{name:"Nick Carraway",importance:1,importance_exp:"Main character reflecting on Gatsby.",emotion:"Conflicted and nostalgic",sentiment:.5,quote:"You're worth the whole damn bunch put together.",fake_quote:"",importance_rank:1},{name:"Jay Gatsby",importance:1,importance_exp:"Central figure in Nick's farewell.",emotion:"Hopeful and understanding",sentiment:.7,quote:"Do, old sport.",fake_quote:"",importance_rank:2}],number:4,importance_rank:4,conflict_rank:7},{title:"Jordan's Call to Nick",summary:"Nick receives a call from Jordan about Daisy.",chapter:"VIII",first_line:212,last_line:244,explanation:"Change in location to Nick's office.",text:`Up in the city, I tried for a while to list the quotations on an
interminable amount of stock, then I fell asleep in my swivel-chair.
Just before noon the phone woke me, and I started up with sweat
breaking out on my forehead. It was Jordan Baker; she often called me
up at this hour because the uncertainty of her own movements between
hotels and clubs and private houses made her hard to find in any other
way. Usually her voice came over the wire as something fresh and cool,
as if a divot from a green golf-links had come sailing in at the
office window, but this morning it seemed harsh and dry.
"I've left Daisy's house," she said. "I'm at Hempstead, and I'm going
down to Southampton this afternoon."
Probably it had been tactful to leave Daisy's house, but the act
annoyed me, and her next remark made me rigid.
"You weren't so nice to me last night."
"How could it have mattered then?"
Silence for a moment. Then:
"HoweverI want to see you."
"I want to see you, too."
"Suppose I don't go to Southampton, and come into town this
afternoon?"
"NoI don't think this afternoon."
"Very well."
"It's impossible this afternoon. Various"
We talked like that for a while, and then abruptly we weren't talking
any longer. I don't know which of us hung up with a sharp click, but I
know I didn't care. I couldn't have talked to her across a tea-table
that day if I never talked to her again in this world.
I called Gatsby's house a few minutes later, but the line was busy. I
tried four times; finally an exasperated central told me the wire was
being kept open for long distance from Detroit. Taking out my
timetable, I drew a small circle around the three-fifty train. Then I
leaned back in my chair and tried to think. It was just noon.
------------------------------------------------------------------------`,length:1812,num_lines:33,location:"New York City",importance:.7,conflict:.5,characters:[{name:"Jordan Baker",importance:.8,importance_exp:"Key character initiating the conversation",emotion:"Harsh and dry",sentiment:-.5,quote:"I've left Daisy's house.",fake_quote:"",importance_rank:2},{name:"Nick Carraway",importance:.9,importance_exp:"Main character experiencing conflict",emotion:"Annoyed and rigid",sentiment:-.3,quote:"I couldn't have talked to her across a tea-table that day if I never talked to her again in this world.",fake_quote:"",importance_rank:1}],number:5,importance_rank:7,conflict_rank:6},{title:"Wilson's Grief",summary:"Wilson mourns Myrtle and seeks answers.",chapter:"VIII",first_line:245,last_line:366,explanation:"Shift to Wilson's perspective.",text:`When I passed the ash-heaps on the train that morning I had crossed
deliberately to the other side of the car. I supposed there'd be a
curious crowd around there all day with little boys searching for dark
spots in the dust, and some garrulous man telling over and over what
had happened, until it became less and less real even to him and he
could tell it no longer, and Myrtle Wilson's tragic achievement was
forgotten. Now I want to go back a little and tell what happened at
the garage after we left there the night before.
They had difficulty in locating the sister, Catherine. She must have
broken her rule against drinking that night, for when she arrived she
was stupid with liquor and unable to understand that the ambulance had
already gone to Flushing. When they convinced her of this, she
immediately fainted, as if that was the intolerable part of the
affair. Someone, kind or curious, took her in his car and drove her in
the wake of her sister's body.
Until long after midnight a changing crowd lapped up against the front
of the garage, while George Wilson rocked himself back and forth on
the couch inside. For a while the door of the office was open, and
everyone who came into the garage glanced irresistibly through it.
Finally someone said it was a shame, and closed the door. Michaelis
and several other men were with him; first, four or five men, later
two or three men. Still later Michaelis had to ask the last stranger
to wait there fifteen minutes longer, while he went back to his own
place and made a pot of coffee. After that, he stayed there alone with
Wilson until dawn.
About three o'clock the quality of Wilson's incoherent muttering
changedhe grew quieter and began to talk about the yellow car. He
announced that he had a way of finding out whom the yellow car
belonged to, and then he blurted out that a couple of months ago his
wife had come from the city with her face bruised and her nose
swollen.
But when he heard himself say this, he flinched and began to cry "Oh,
my God!" again in his groaning voice. Michaelis made a clumsy attempt
to distract him.
"How long have you been married, George? Come on there, try and sit
still a minute, and answer my question. How long have you been
married?"
"Twelve years."
"Ever had any children? Come on, George, sit stillI asked you a
question. Did you ever have any children?"
The hard brown beetles kept thudding against the dull light, and
whenever Michaelis heard a car go tearing along the road outside it
sounded to him like the car that hadn't stopped a few hours before.
He didn't like to go into the garage, because the work bench was
stained where the body had been lying, so he moved uncomfortably
around the officehe knew every object in it before morningand from
time to time sat down beside Wilson trying to keep him more quiet.
"Have you got a church you go to sometimes, George? Maybe even if you
haven't been there for a long time? Maybe I could call up the church
and get a priest to come over and he could talk to you, see?"
"Don't belong to any."
"You ought to have a church, George, for times like this. You must
have gone to church once. Didn't you get married in a church? Listen,
George, listen to me. Didn't you get married in a church?"
"That was a long time ago."
The effort of answering broke the rhythm of his rockingfor a moment
he was silent. Then the same half-knowing, half-bewildered look came
back into his faded eyes.
"Look in the drawer there," he said, pointing at the desk.
"Which drawer?"
"That drawerthat one."
Michaelis opened the drawer nearest his hand. There was nothing in it
but a small, expensive dog-leash, made of leather and braided
silver. It was apparently new.
"This?" he inquired, holding it up.
Wilson stared and nodded.
"I found it yesterday afternoon. She tried to tell me about it, but I
knew it was something funny."
"You mean your wife bought it?"
"She had it wrapped in tissue paper on her bureau."
Michaelis didn't see anything odd in that, and he gave Wilson a dozen
reasons why his wife might have bought the dog-leash. But conceivably
Wilson had heard some of these same explanations before, from Myrtle,
because he began saying "Oh, my God!" again in a whisperhis comforter
left several explanations in the air.
"Then he killed her," said Wilson. His mouth dropped open suddenly.
"Who did?"
"I have a way of finding out."
"You're morbid, George," said his friend. "This has been a strain to
you and you don't know what you're saying. You'd better try and sit
quiet till morning."
"He murdered her."
"It was an accident, George."
Wilson shook his head. His eyes narrowed and his mouth widened
slightly with the ghost of a superior "Hm!"
"I know," he said definitely. "I'm one of these trusting fellas and I
don't think any harm to nobody, but when I get to know a thing I know
it. It was the man in that car. She ran out to speak to him and he
wouldn't stop."
Michaelis had seen this too, but it hadn't occurred to him that there
was any special significance in it. He believed that Mrs. Wilson had
been running away from her husband, rather than trying to stop any
particular car.
"How could she of been like that?"
"She's a deep one," said Wilson, as if that answered the question.
"Ah-h-h"
He began to rock again, and Michaelis stood twisting the leash in his
hand.
"Maybe you got some friend that I could telephone for, George?"
This was a forlorn hopehe was almost sure that Wilson had no friend:
there was not enough of him for his wife. He was glad a little later
when he noticed a change in the room, a blue quickening by the window,
and realized that dawn wasn't far off. About five o'clock it was blue
enough outside to snap off the light.
Wilson's glazed eyes turned out to the ash-heaps, where small grey
clouds took on fantastic shapes and scurried here and there in the
faint dawn wind.
"I spoke to her," he muttered, after a long silence. "I told her she
might fool me but she couldn't fool God. I took her to the
window"with an effort he got up and walked to the rear window and
leaned with his face pressed against it"and I said 'God knows what
you've been doing, everything you've been doing. You may fool me, but
you can't fool God!'"
Standing behind him, Michaelis saw with a shock that he was looking at
the eyes of Doctor T. J. Eckleburg, which had just emerged, pale and
enormous, from the dissolving night.
"God sees everything," repeated Wilson.
"That's an advertisement," Michaelis assured him. Something made him
turn away from the window and look back into the room. But Wilson
stood there a long time, his face close to the window pane, nodding
into the twilight.
------------------------------------------------------------------------`,length:6724,num_lines:122,location:"Valley Of Ashes",importance:.9,conflict:.8,characters:[{name:"George Wilson",importance:1,importance_exp:"Central character in this scene",emotion:"Distraught and grieving",sentiment:-1,quote:"I told her she might fool me but she couldn't fool God.",fake_quote:"",importance_rank:1},{name:"Michaelis",importance:.5,importance_exp:"Supportive character trying to help",emotion:"Concerned and sympathetic",sentiment:0,quote:"Maybe you got some friend that I could telephone for, George?",fake_quote:"",importance_rank:2}],number:6,importance_rank:5,conflict_rank:2},{title:"Wilson's Search for Gatsby",summary:"Wilson tracks down Gatsby after Myrtle's death.",chapter:"VIII",first_line:367,last_line:428,explanation:"Transition to Wilson's actions leading to the climax.",text:`By six o'clock Michaelis was worn out, and grateful for the sound of a
car stopping outside. It was one of the watchers of the night before
who had promised to come back, so he cooked breakfast for three, which
he and the other man ate together. Wilson was quieter now, and
Michaelis went home to sleep; when he awoke four hours later and
hurried back to the garage, Wilson was gone.
His movementshe was on foot all the timewere afterward traced to
Port Roosevelt and then to Gad's Hill, where he bought a sandwich that
he didn't eat, and a cup of coffee. He must have been tired and
walking slowly, for he didn't reach Gad's Hill until noon. Thus far
there was no difficulty in accounting for his timethere were boys who
had seen a man "acting sort of crazy," and motorists at whom he stared
oddly from the side of the road. Then for three hours he disappeared
from view. The police, on the strength of what he said to Michaelis,
that he "had a way of finding out," supposed that he spent that time
going from garage to garage thereabout, inquiring for a yellow car. On
the other hand, no garage man who had seen him ever came forward, and
perhaps he had an easier, surer way of finding out what he wanted to
know. By half-past two he was in West Egg, where he asked someone the
way to Gatsby's house. So by that time he knew Gatsby's name.
------------------------------------------------------------------------
At two o'clock Gatsby put on his bathing-suit and left word with the
butler that if anyone phoned word was to be brought to him at the
pool. He stopped at the garage for a pneumatic mattress that had
amused his guests during the summer, and the chauffeur helped him to
pump it up. Then he gave instructions that the open car wasn't to be
taken out under any circumstancesand this was strange, because the
front right fender needed repair.
Gatsby shouldered the mattress and started for the pool. Once he
stopped and shifted it a little, and the chauffeur asked him if he
needed help, but he shook his head and in a moment disappeared among
the yellowing trees.
No telephone message arrived, but the butler went without his sleep
and waited for it until four o'clockuntil long after there was anyone
to give it to if it came. I have an idea that Gatsby himself didn't
believe it would come, and perhaps he no longer cared. If that was
true he must have felt that he had lost the old warm world, paid a
high price for living too long with a single dream. He must have
looked up at an unfamiliar sky through frightening leaves and shivered
as he found what a grotesque thing a rose is and how raw the sunlight
was upon the scarcely created grass. A new world, material without
being real, where poor ghosts, breathing dreams like air, drifted
fortuitously about  like that ashen, fantastic figure gliding toward
him through the amorphous trees.
The chauffeurhe was one of Wolfshiem's protgsheard the
shotsafterwards he could only say that he hadn't thought anything
much about them. I drove from the station directly to Gatsby's house
and my rushing anxiously up the front steps was the first thing that
alarmed anyone. But they knew then, I firmly believe. With scarcely a
word said, four of us, the chauffeur, butler, gardener, and I hurried
down to the pool.
There was a faint, barely perceptible movement of the water as the
fresh flow from one end urged its way toward the drain at the other.
With little ripples that were hardly the shadows of waves, the laden
mattress moved irregularly down the pool. A small gust of wind that
scarcely corrugated the surface was enough to disturb its accidental
course with its accidental burden. The touch of a cluster of leaves
revolved it slowly, tracing, like the leg of transit, a thin red
circle in the water.
It was after we started with Gatsby toward the house that the gardener
saw Wilson's body a little way off in the grass, and the holocaust was
complete.`,length:3932,num_lines:62,location:"Gatsby's House",importance:1,conflict:1,characters:[{name:"Jay Gatsby",importance:1,importance_exp:"Central character in the scene",emotion:"Melancholic and resigned",sentiment:-.5,quote:"If that was true he must have felt that he had lost the old warm world, paid a high price for living too long with a single dream.",fake_quote:"",importance_rank:1},{name:"George Wilson",importance:1,importance_exp:"Key character driving the conflict",emotion:"Desperate and confused",sentiment:-.8,quote:"No quote available",fake_quote:"George Wilson is portrayed as desperate and confused, searching for answers and feeling lost.",importance_rank:2},{name:"Michaelis",importance:.5,importance_exp:"Minor but relevant character",emotion:"Worn out and concerned",sentiment:-.3,quote:"No quote available",fake_quote:"Michaelis is depicted as worn out and concerned for Wilson's well-being.",importance_rank:3},{name:"Chauffeur",importance:.5,importance_exp:"Witness to the events",emotion:"Indifferent",sentiment:-.1,quote:"No quote available",fake_quote:"The chauffeur appears indifferent to the events unfolding around him.",importance_rank:4}],number:7,importance_rank:1,conflict_rank:1},{title:"Gatsby's House After the Incident",summary:"The aftermath of Gatsby's death unfolds with police and reporters.",chapter:"IX",first_line:1,last_line:68,explanation:"Start of chapter.",text:`After two years I remember the rest of that day, and that night and
the next day, only as an endless drill of police and photographers and
newspaper men in and out of Gatsby's front door. A rope stretched
across the main gate and a policeman by it kept out the curious, but
little boys soon discovered that they could enter through my yard, and
there were always a few of them clustered open-mouthed about the
pool. Someone with a positive manner, perhaps a detective, used the
expression "madman" as he bent over Wilson's body that afternoon, and
the adventitious authority of his voice set the key for the newspaper
reports next morning.
Most of those reports were a nightmaregrotesque, circumstantial,
eager, and untrue. When Michaelis's testimony at the inquest brought
to light Wilson's suspicions of his wife I thought the whole tale
would shortly be served up in racy pasquinadebut Catherine, who might
have said anything, didn't say a word. She showed a surprising amount
of character about it toolooked at the coroner with determined eyes
under that corrected brow of hers, and swore that her sister had never
seen Gatsby, that her sister was completely happy with her husband,
that her sister had been into no mischief whatever. She convinced
herself of it, and cried into her handkerchief, as if the very
suggestion was more than she could endure. So Wilson was reduced to a
man "deranged by grief" in order that the case might remain in its
simplest form. And it rested there.
But all this part of it seemed remote and unessential. I found myself
on Gatsby's side, and alone. From the moment I telephoned news of the
catastrophe to West Egg village, every surmise about him, and every
practical question, was referred to me. At first I was surprised and
confused; then, as he lay in his house and didn't move or breathe or
speak, hour upon hour, it grew upon me that I was responsible, because
no one else was interestedinterested, I mean, with that intense
personal interest to which everyone has some vague right at the end.
I called up Daisy half an hour after we found him, called her
instinctively and without hesitation. But she and Tom had gone away
early that afternoon, and taken baggage with them.
"Left no address?"
"No."
"Say when they'd be back?"
"No."
"Any idea where they are? How I could reach them?"
"I don't know. Can't say."
I wanted to get somebody for him. I wanted to go into the room where
he lay and reassure him: "I'll get somebody for you, Gatsby. Don't
worry. Just trust me and I'll get somebody for you"
Meyer Wolfshiem's name wasn't in the phone book. The butler gave me
his office address on Broadway, and I called Information, but by the
time I had the number it was long after five, and no one answered the
phone.
"Will you ring again?"
"I've rung three times."
"It's very important."
"Sorry. I'm afraid no one's there."
I went back to the drawing-room and thought for an instant that they
were chance visitors, all these official people who suddenly filled
it. But, though they drew back the sheet and looked at Gatsby with
shocked eyes, his protest continued in my brain:
"Look here, old sport, you've got to get somebody for me. You've got
to try hard. I can't go through this alone."
Someone started to ask me questions, but I broke away and going
upstairs looked hastily through the unlocked parts of his deskhe'd
never told me definitely that his parents were dead. But there was
nothingonly the picture of Dan Cody, a token of forgotten violence,
staring down from the wall.
Next morning I sent the butler to New York with a letter to Wolfshiem,
which asked for information and urged him to come out on the next
train. That request seemed superfluous when I wrote it. I was sure
he'd start when he saw the newspapers, just as I was sure there'd be a
wire from Daisy before noonbut neither a wire nor Mr. Wolfshiem
arrived; no one arrived except more police and photographers and`,length:3937,num_lines:68,location:"Gatsby's House",importance:.9,conflict:.7,characters:[{name:"Nick Carraway",importance:1,importance_exp:"Narrator and key witness to events",emotion:"Despair and responsibility",sentiment:-.5,quote:"I found myself on Gatsby's side, and alone.",fake_quote:"",importance_rank:1},{name:"Catherine Wilson",importance:.6,importance_exp:"Defends her sister's honor",emotion:"Determined and distressed",sentiment:-.3,quote:"She showed a surprising amount of character about it toolooked at the coroner with determined eyes under that corrected brow of hers, and swore that her sister had never seen Gatsby.",fake_quote:"",importance_rank:2},{name:"George Wilson",importance:.5,importance_exp:"Victim of circumstances and grief",emotion:"Deranged by grief",sentiment:-.8,quote:"Someone with a positive manner, perhaps a detective, used the expression 'madman' as he bent over Wilson's body that afternoon.",fake_quote:"",importance_rank:3},{name:"Daisy Buchanan",importance:.4,importance_exp:"Absent but significant to Gatsby",emotion:"Indifferent and evasive",sentiment:-.2,quote:"No.",fake_quote:"Daisy's absence and lack of response to Gatsby's death reflects her emotional detachment.",importance_rank:4},{name:"Tom Buchanan",importance:.4,importance_exp:"Absent but significant to Gatsby",emotion:"Indifferent and evasive",sentiment:-.2,quote:"No.",fake_quote:"Tom's absence during this crisis highlights his lack of concern for Gatsby.",importance_rank:5},{name:"Meyer Wolfshiem",importance:.3,importance_exp:"Potential ally for Gatsby",emotion:"Unreachable and absent",sentiment:-.4,quote:"Meyer Wolfshiem's name wasn't in the phone book.",fake_quote:"",importance_rank:6}],number:1,importance_rank:1,conflict_rank:1},{title:"Gatsby's Father Arrives",summary:"Gatsby's father arrives, distraught over his son's death.",chapter:"IX",first_line:100,last_line:147,explanation:"Change of location to Gatsby's home.",text:`I think it was on the third day that a telegram signed Henry C. Gatz
arrived from a town in Minnesota. It said only that the sender was
leaving immediately and to postpone the funeral until he came.
It was Gatsby's father, a solemn old man, very helpless and dismayed,
bundled up in a long cheap ulster against the warm September day. His
eyes leaked continuously with excitement, and when I took the bag and
umbrella from his hands he began to pull so incessantly at his sparse
grey beard that I had difficulty in getting off his coat. He was on
the point of collapse, so I took him into the music-room and made him
sit down while I sent for something to eat. But he wouldn't eat, and
the glass of milk spilled from his trembling hand.
"I saw it in the Chicago newspaper," he said. "It was all in the
Chicago newspaper. I started right away."
"I didn't know how to reach you."
His eyes, seeing nothing, moved ceaselessly about the room.
"It was a madman," he said. "He must have been mad."
"Wouldn't you like some coffee?" I urged him.
"I don't want anything. I'm all right now, Mr."
"Carraway."
"Well, I'm all right now. Where have they got Jimmy?"
I took him into the drawing-room, where his son lay, and left him
there. Some little boys had come up on the steps and were looking into
the hall; when I told them who had arrived, they went reluctantly
away.
After a little while Mr. Gatz opened the door and came out, his mouth
ajar, his face flushed slightly, his eyes leaking isolated and
unpunctual tears. He had reached an age where death no longer has the
quality of ghastly surprise, and when he looked around him now for the
first time and saw the height and splendour of the hall and the great
rooms opening out from it into other rooms, his grief began to be
mixed with an awed pride. I helped him to a bedroom upstairs; while he
took off his coat and vest I told him that all arrangements had been
deferred until he came.
"I didn't know what you'd want, Mr. Gatsby"
"Gatz is my name."
"Mr. Gatz. I thought you might want to take the body West."
He shook his head.
"Jimmy always liked it better down East. He rose up to his position in
the East. Were you a friend of my boy's, Mr.?"
"We were close friends."
"He had a big future before him, you know. He was only a young man,
but he had a lot of brain power here."
He touched his head impressively, and I nodded.
"If he'd of lived, he'd of been a great man. A man like James J.
Hill. He'd of helped build up the country."
"That's true," I said, uncomfortably.
He fumbled at the embroidered coverlet, trying to take it from the
bed, and lay down stifflywas instantly asleep.`,length:2639,num_lines:48,location:"Gatsby's House",importance:.9,conflict:.5,characters:[{name:"Henry C. Gatz",importance:1,importance_exp:"Very important character as Gatsby's father",emotion:"Helpless and dismayed",sentiment:-.5,quote:'"I saw it in the Chicago newspaper," he said. "It was all in the Chicago newspaper. I started right away."',fake_quote:"",importance_rank:1},{name:"Nick Carraway",importance:.7,importance_exp:"Important character as the narrator and observer",emotion:"Sympathetic and uncomfortable",sentiment:.2,quote:"I didn't know how to reach you.",fake_quote:"",importance_rank:2}],number:2,importance_rank:2,conflict_rank:3},{title:"Meeting with Meyer Wolfshiem",summary:"Nick visits Wolfshiem to inform him of Gatsby's death.",chapter:"IX",first_line:180,last_line:248,explanation:"Change of location to Wolfshiem's office.",text:`The morning of the funeral I went up to New York to see Meyer
Wolfshiem; I couldn't seem to reach him any other way. The door that I
pushed open, on the advice of an elevator boy, was marked "The
Swastika Holding Company," and at first there didn't seem to be anyone
inside. But when I'd shouted "hello" several times in vain, an
argument broke out behind a partition, and presently a lovely Jewess
appeared at an interior door and scrutinized me with black hostile
eyes.
"Nobody's in," she said. "Mr. Wolfshiem's gone to Chicago."
The first part of this was obviously untrue, for someone had begun to
whistle "The Rosary," tunelessly, inside.
"Please say that Mr. Carraway wants to see him."
"I can't get him back from Chicago, can I?"
At this moment a voice, unmistakably Wolfshiem's, called "Stella!"
from the other side of the door.
"Leave your name on the desk," she said quickly. "I'll give it to him
when he gets back."
"But I know he's there."
She took a step toward me and began to slide her hands indignantly up
and down her hips.
"You young men think you can force your way in here any time," she
scolded. "We're getting sickantired of it. When I say he's in Chicago,
he's in Chicago."
I mentioned Gatsby.
"Oh-h!" She looked at me over again. "Will you justWhat was your
name?"
She vanished. In a moment Meyer Wolfshiem stood solemnly in the
doorway, holding out both hands. He drew me into his office, remarking
in a reverent voice that it was a sad time for all of us, and offered
me a cigar.
"My memory goes back to when first I met him," he said. "A young major
just out of the army and covered over with medals he got in the war.
He was so hard up he had to keep on wearing his uniform because he
couldn't buy some regular clothes. First time I saw him was when he
came into Winebrenner's poolroom at Forty-third Street and asked for a
job. He hadn't eat anything for a couple of days. 'Come on have some
lunch with me,' I said. He ate more than four dollars' worth of food
in half an hour."
"Did you start him in business?" I inquired.
"Start him! I made him."
"Oh."
"I raised him up out of nothing, right out of the gutter. I saw right
away he was a fine-appearing, gentlemanly young man, and when he told
me he was at Oggsford I knew I could use him good. I got him to join
the American Legion and he used to stand high there. Right off he did
some work for a client of mine up to Albany. We were so thick like
that in everything"he held up two bulbous fingers"always together."
I wondered if this partnership had included the World's Series
transaction in 1919.
"Now he's dead," I said after a moment. "You were his closest friend,
so I know you'll want to come to his funeral this afternoon."
"I'd like to come."
"Well, come then."
The hair in his nostrils quivered slightly, and as he shook his head
his eyes filled with tears.
"I can't do itI can't get mixed up in it," he said.
"There's nothing to get mixed up in. It's all over now."
"When a man gets killed I never like to get mixed up in it in any
way. I keep out. When I was a young man it was differentif a friend
of mine died, no matter how, I stuck with them to the end. You may
think that's sentimental, but I mean itto the bitter end."
I saw that for some reason of his own he was determined not to come,
so I stood up.
"Are you a college man?" he inquired suddenly.
For a moment I thought he was going to suggest a "gonnegtion," but he
only nodded and shook my hand.
"Let us learn to show our friendship for a man when he is alive and
not after he is dead," he suggested. "After that my own rule is to let
everything alone."`,length:3614,num_lines:69,location:"Meyer Wolfshiem's Office",importance:.8,conflict:.5,characters:[{name:"Meyer Wolfshiem",importance:1,importance_exp:"He is a pivotal character revealing Gatsby's past.",emotion:"Conflicted and regretful",sentiment:-.5,quote:"I can't do itI can't get mixed up in it.",fake_quote:"",importance_rank:1},{name:"Nick Carraway",importance:.8,importance_exp:"He is the narrator and seeks closure for Gatsby.",emotion:"Determined and concerned",sentiment:.2,quote:"You were his closest friend, so I know you'll want to come to his funeral this afternoon.",fake_quote:"",importance_rank:2},{name:"The Jewess",importance:.5,importance_exp:"She serves as a gatekeeper to Wolfshiem.",emotion:"Hostile and defensive",sentiment:-.3,quote:"You young men think you can force your way in here any time.",fake_quote:"",importance_rank:3}],number:3,importance_rank:4,conflict_rank:4},{title:"Mr. Gatz's Pride",summary:"Mr. Gatz shares his pride in Gatsby's achievements.",chapter:"IX",first_line:249,last_line:306,explanation:"Change of location back to Gatsby's home.",text:`When I left his office the sky had turned dark and I got back to West
Egg in a drizzle. After changing my clothes I went next door and found
Mr. Gatz walking up and down excitedly in the hall. His pride in his
son and in his son's possessions was continually increasing and now he
had something to show me.
"Jimmy sent me this picture." He took out his wallet with trembling
fingers. "Look there."
It was a photograph of the house, cracked in the corners and dirty
with many hands. He pointed out every detail to me eagerly. "Look
there!" and then sought admiration from my eyes. He had shown it so
often that I think it was more real to him now than the house itself.
"Jimmy sent it to me. I think it's a very pretty picture. It shows up
well."
"Very well. Had you seen him lately?"
"He come out to see me two years ago and bought me the house I live in
now. Of course we was broke up when he run off from home, but I see
now there was a reason for it. He knew he had a big future in front of
him. And ever since he made a success he was very generous with me."
He seemed reluctant to put away the picture, held it for another
minute, lingeringly, before my eyes. Then he returned the wallet and
pulled from his pocket a ragged old copy of a book called Hopalong
Cassidy.
"Look here, this is a book he had when he was a boy. It just shows
you."
He opened it at the back cover and turned it around for me to see. On
the last flyleaf was printed the word schedule, and the date September
12, 1906. And underneath:
Rise from bed 6:00 a.m.
Dumbell exercise and wall-scaling 6:15-6:30 "
Study electricity, etc. 7:15-8:15 "
Work 8:30-4:30 p.m.
Baseball and sports 4:30-5:00 "
Practise elocution, poise and how to attain it 5:00-6:00 "
Study needed inventions 7:00-9:00 "
General Resolves
* No wasting time at Shafters or [a name, indecipherable]
* No more smokeing or chewing.
* Bath every other day
* Read one improving book or magazine per week
* Save $5.00 [crossed out] $3.00 per week
* Be better to parents
"I came across this book by accident," said the old man. "It just
shows you, don't it?"
"It just shows you."
"Jimmy was bound to get ahead. He always had some resolves like this
or something. Do you notice what he's got about improving his mind? He
was always great for that. He told me I et like a hog once, and I beat
him for it."
He was reluctant to close the book, reading each item aloud and then
looking eagerly at me. I think he rather expected me to copy down the
list for my own use.
A little before three the Lutheran minister arrived from Flushing, and
I began to look involuntarily out the windows for other cars. So did
Gatsby's father. And as the time passed and the servants came in and
stood waiting in the hall, his eyes began to blink anxiously, and he
spoke of the rain in a worried, uncertain way. The minister glanced
several times at his watch, so I took him aside and asked him to wait
for half an hour. But it wasn't any use. Nobody came.`,length:2969,num_lines:58,location:"West Egg",importance:.8,conflict:.5,characters:[{name:"Henry C. Gatz",importance:1,importance_exp:"Very important character in this scene",emotion:"Proud and anxious",sentiment:.7,quote:'"Jimmy sent me this picture."',fake_quote:"",importance_rank:1},{name:"Nick Carraway",importance:.5,importance_exp:"Moderately important character in this scene",emotion:"Observant and sympathetic",sentiment:.5,quote:'"It just shows you."',fake_quote:"",importance_rank:2}],number:4,importance_rank:5,conflict_rank:5},{title:"The Funeral",summary:"The sparse attendance at Gatsby's funeral highlights his isolation.",chapter:"IX",first_line:308,last_line:334,explanation:"Change of location to the cemetery.",text:`About five o'clock our procession of three cars reached the cemetery
and stopped in a thick drizzle beside the gatefirst a motor hearse,
horribly black and wet, then Mr. Gatz and the minister and me in the
limousine, and a little later four or five servants and the postman
from West Egg, in Gatsby's station wagon, all wet to the skin. As we
started through the gate into the cemetery I heard a car stop and then
the sound of someone splashing after us over the soggy ground. I
looked around. It was the man with owl-eyed glasses whom I had found
marvelling over Gatsby's books in the library one night three months
before.
I'd never seen him since then. I don't know how he knew about the
funeral, or even his name. The rain poured down his thick glasses, and
he took them off and wiped them to see the protecting canvas unrolled
from Gatsby's grave.
I tried to think about Gatsby then for a moment, but he was already
too far away, and I could only remember, without resentment, that
Daisy hadn't sent a message or a flower. Dimly I heard someone murmur
"Blessed are the dead that the rain falls on," and then the owl-eyed
man said "Amen to that," in a brave voice.
We straggled down quickly through the rain to the cars. Owl-eyes spoke
to me by the gate.
"I couldn't get to the house," he remarked.
"Neither could anybody else."
"Go on!" He started. "Why, my God! they used to go there by the
hundreds."
He took off his glasses and wiped them again, outside and in.
"The poor son-of-a-bitch," he said.`,length:1506,num_lines:27,location:"Cemetery",importance:.8,conflict:.2,characters:[{name:"Owl-eyed Man",importance:.7,importance_exp:"He plays a significant role in reflecting on Gatsby's life.",emotion:"sadness and reflection",sentiment:-.5,quote:"The poor son-of-a-bitch.",fake_quote:"",importance_rank:1},{name:"Nick Carraway",importance:.6,importance_exp:"He provides perspective on the funeral and Gatsby's legacy.",emotion:"disappointment and nostalgia",sentiment:-.3,quote:"I could only remember, without resentment, that Daisy hadn't sent a message or a flower.",fake_quote:"",importance_rank:2},{name:"Henry C. Gatz",importance:.5,importance_exp:"He is Gatsby's father, representing familial ties and loss.",emotion:"grief",sentiment:-.6,quote:"No quote available",fake_quote:"Mr. Gatz is visibly grieving for his son, reflecting on the loss.",importance_rank:3}],number:5,importance_rank:6,conflict_rank:6},{title:"Reflections on Gatsby",summary:"Nick reflects on Gatsby's life and the emptiness of the East.",chapter:"IX",first_line:336,last_line:498,explanation:"Change of location to Nick's thoughts.",text:`One of my most vivid memories is of coming back West from prep school
and later from college at Christmas time. Those who went farther than
Chicago would gather in the old dim Union Station at six o'clock of a
December evening, with a few Chicago friends, already caught up into
their own holiday gaieties, to bid them a hasty goodbye. I remember
the fur coats of the girls returning from Miss This-or-That's and the
chatter of frozen breath and the hands waving overhead as we caught
sight of old acquaintances, and the matchings of invitations: "Are you
going to the Ordways'? the Herseys'? the Schultzes'?" and the long
green tickets clasped tight in our gloved hands. And last the murky
yellow cars of the Chicago, Milwaukee and St. Paul railroad looking
cheerful as Christmas itself on the tracks beside the gate.
When we pulled out into the winter night and the real snow, our snow,
began to stretch out beside us and twinkle against the windows, and
the dim lights of small Wisconsin stations moved by, a sharp wild
brace came suddenly into the air. We drew in deep breaths of it as we
walked back from dinner through the cold vestibules, unutterably aware
of our identity with this country for one strange hour, before we
melted indistinguishably into it again.
That's my Middle Westnot the wheat or the prairies or the lost Swede
towns, but the thrilling returning trains of my youth, and the street
lamps and sleigh bells in the frosty dark and the shadows of holly
wreaths thrown by lighted windows on the snow. I am part of that, a
little solemn with the feel of those long winters, a little complacent
from growing up in the Carraway house in a city where dwellings are
still called through decades by a family's name. I see now that this
has been a story of the West, after allTom and Gatsby, Daisy and
Jordan and I, were all Westerners, and perhaps we possessed some
deficiency in common which made us subtly unadaptable to Eastern life.
Even when the East excited me most, even when I was most keenly aware
of its superiority to the bored, sprawling, swollen towns beyond the
Ohio, with their interminable inquisitions which spared only the
children and the very oldeven then it had always for me a quality of
distortion. West Egg, especially, still figures in my more fantastic
dreams. I see it as a night scene by El Greco: a hundred houses, at
once conventional and grotesque, crouching under a sullen, overhanging
sky and a lustreless moon. In the foreground four solemn men in dress
suits are walking along the sidewalk with a stretcher on which lies a
drunken woman in a white evening dress. Her hand, which dangles over
the side, sparkles cold with jewels. Gravely the men turn in at a
housethe wrong house. But no one knows the woman's name, and no one
cares.
After Gatsby's death the East was haunted for me like that, distorted
beyond my eyes' power of correction. So when the blue smoke of brittle
leaves was in the air and the wind blew the wet laundry stiff on the
line I decided to come back home.
There was one thing to be done before I left, an awkward, unpleasant
thing that perhaps had better have been let alone. But I wanted to
leave things in order and not just trust that obliging and indifferent
sea to sweep my refuse away. I saw Jordan Baker and talked over and
around what had happened to us together, and what had happened
afterward to me, and she lay perfectly still, listening, in a big
chair.
She was dressed to play golf, and I remember thinking she looked like
a good illustration, her chin raised a little jauntily, her hair the
colour of an autumn leaf, her face the same brown tint as the
fingerless glove on her knee. When I had finished she told me without
comment that she was engaged to another man. I doubted that, though
there were several she could have married at a nod of her head, but I
pretended to be surprised. For just a minute I wondered if I wasn't
making a mistake, then I thought it all over again quickly and got up
to say goodbye.
"Nevertheless you did throw me over," said Jordan suddenly. "You threw
me over on the telephone. I don't give a damn about you now, but it
was a new experience for me, and I felt a little dizzy for a while."
We shook hands.
"Oh, and do you remember"she added"a conversation we had once about
driving a car?"
"Whynot exactly."
"You said a bad driver was only safe until she met another bad driver?
Well, I met another bad driver, didn't I? I mean it was careless of me
to make such a wrong guess. I thought you were rather an honest,
straightforward person. I thought it was your secret pride."
"I'm thirty," I said. "I'm five years too old to lie to myself and
call it honour."
She didn't answer. Angry, and half in love with her, and tremendously
sorry, I turned away.
------------------------------------------------------------------------
One afternoon late in October I saw Tom Buchanan. He was walking ahead
of me along Fifth Avenue in his alert, aggressive way, his hands out a
little from his body as if to fight off interference, his head moving
sharply here and there, adapting itself to his restless eyes. Just as
I slowed up to avoid overtaking him he stopped and began frowning into
the windows of a jewellery store. Suddenly he saw me and walked back,
holding out his hand.
"What's the matter, Nick? Do you object to shaking hands with me?"
"Yes. You know what I think of you."
"You're crazy, Nick," he said quickly. "Crazy as hell. I don't know
what's the matter with you."
"Tom," I inquired, "what did you say to Wilson that afternoon?"
He stared at me without a word, and I knew I had guessed right about
those missing hours. I started to turn away, but he took a step after
me and grabbed my arm.
"I told him the truth," he said. "He came to the door while we were
getting ready to leave, and when I sent down word that we weren't in
he tried to force his way upstairs. He was crazy enough to kill me if
I hadn't told him who owned the car. His hand was on a revolver in his
pocket every minute he was in the house" He broke off defiantly.
"What if I did tell him? That fellow had it coming to him. He threw
dust into your eyes just like he did in Daisy's, but he was a tough
one. He ran over Myrtle like you'd run over a dog and never even
stopped his car."
There was nothing I could say, except the one unutterable fact that it
wasn't true.
"And if you think I didn't have my share of sufferinglook here, when
I went to give up that flat and saw that damn box of dog biscuits
sitting there on the sideboard, I sat down and cried like a baby. By
God it was awful"
I couldn't forgive him or like him, but I saw that what he had done
was, to him, entirely justified. It was all very careless and
confused. They were careless people, Tom and Daisythey smashed up
things and creatures and then retreated back into their money or their
vast carelessness, or whatever it was that kept them together, and let
other people clean up the mess they had made 
I shook hands with him; it seemed silly not to, for I felt suddenly as
though I were talking to a child. Then he went into the jewellery
store to buy a pearl necklaceor perhaps only a pair of cuff
buttonsrid of my provincial squeamishness forever.
------------------------------------------------------------------------
Gatsby's house was still empty when I leftthe grass on his lawn had
grown as long as mine. One of the taxi drivers in the village never
took a fare past the entrance gate without stopping for a minute and
pointing inside; perhaps it was he who drove Daisy and Gatsby over to
East Egg the night of the accident, and perhaps he had made a story
about it all his own. I didn't want to hear it and I avoided him when
I got off the train.
I spent my Saturday nights in New York because those gleaming,
dazzling parties of his were with me so vividly that I could still
hear the music and the laughter, faint and incessant, from his garden,
and the cars going up and down his drive. One night I did hear a
material car there, and saw its lights stop at his front steps. But I
didn't investigate. Probably it was some final guest who had been away
at the ends of the earth and didn't know that the party was over.
On the last night, with my trunk packed and my car sold to the grocer,
I went over and looked at that huge incoherent failure of a house once
more. On the white steps an obscene word, scrawled by some boy with a
piece of brick, stood out clearly in the moonlight, and I erased it,
drawing my shoe raspingly along the stone. Then I wandered down to the
beach and sprawled out on the sand.
Most of the big shore places were closed now and there were hardly any
lights except the shadowy, moving glow of a ferryboat across the
Sound. And as the moon rose higher the inessential houses began to
melt away until gradually I became aware of the old island here that
flowered once for Dutch sailors' eyesa fresh, green breast of the new
world. Its vanished trees, the trees that had made way for Gatsby's
house, had once pandered in whispers to the last and greatest of all
human dreams; for a transitory enchanted moment man must have held his
breath in the presence of this continent, compelled into an aesthetic
contemplation he neither understood nor desired, face to face for the
last time in history with something commensurate to his capacity for
wonder.
And as I sat there brooding on the old, unknown world, I thought of
Gatsby's wonder when he first picked out the green light at the end of
Daisy's dock. He had come a long way to this blue lawn, and his dream
must have seemed so close that he could hardly fail to grasp it. He
did not know that it was already behind him, somewhere back in that
vast obscurity beyond the city, where the dark fields of the republic
rolled on under the night.
Gatsby believed in the green light, the orgastic future that year by
year recedes before us. It eluded us then, but that's no
mattertomorrow we will run faster, stretch out our arms further  And
one fine morning
So we beat on, boats against the current, borne back ceaselessly into`,length:10094,num_lines:163,location:"New York City",importance:.9,conflict:.7,characters:[{name:"Nick Carraway",importance:1,importance_exp:"Narrator and central character",emotion:"nostalgic and reflective",sentiment:.5,quote:"I am part of that, a little solemn with the feel of those long winters, a little complacent from growing up in the Carraway house in a city where dwellings are still called through decades by a family's name.",fake_quote:"",importance_rank:1},{name:"Jordan Baker",importance:.8,importance_exp:"Significant interaction with Nick",emotion:"calm yet assertive",sentiment:.2,quote:"Nevertheless you did throw me over",fake_quote:"",importance_rank:3},{name:"Tom Buchanan",importance:.9,importance_exp:"Key figure in the conflict",emotion:"defensive and aggressive",sentiment:-.5,quote:"What if I did tell him? That fellow had it coming to him.",fake_quote:"",importance_rank:2},{name:"Jay Gatsby",importance:.7,importance_exp:"Symbol of lost dreams",emotion:"hopeful yet tragic",sentiment:.3,quote:"Gatsby believed in the green light, the orgastic future that year by year recedes before us.",fake_quote:"",importance_rank:4}],number:6,importance_rank:3,conflict_rank:2}],e2=[{name:"Nick Carraway",quote:`"Whenever you feel like criticizing anyone," he told me, "just remember that all the people in this world haven't had the advantages that you've had."`,group:"Main Characters",color:"rgb(135, 206, 235)",explanation:"This light blue represents Nick's reflective and observant nature, as well as his connection to the sky and the American Dream."},{name:"Jay Gatsby",quote:'"Gatsby, who represented everything for which I have an unaffected scorn."',group:"Main Characters",color:"rgb(255, 215, 0)",explanation:"Gold symbolizes Gatsby's wealth, ambition, and the allure of his extravagant lifestyle."},{name:"Tom Buchanan",quote:`"I've got a nice place here," he said, his eyes flashing about restlessly.`,group:"Upper Class",color:"rgb(139, 69, 19)",explanation:"Brown signifies Tom's brutish nature and his connection to old money and traditional values."},{name:"Daisy Buchanan",quote:`"I'm p-paralysed with happiness."`,group:"Upper Class",color:"rgb(255, 192, 203)",explanation:"Pink reflects Daisy's charm, femininity, and the superficiality of her character."},{name:"Jordan Baker",quote:`"I'm absolutely in training."`,group:"Upper Class",color:"rgb(128, 0, 128)",explanation:"Purple represents Jordan's sophistication and complexity, as well as her ambiguous morality."},{name:"Doctor T. J. Eckleburg",quote:'"The eyes of Doctor T. J. Eckleburg are blue and gigantictheir retinas are one yard high."',group:"Symbolic Characters",color:"rgb(0, 0, 255)",explanation:"Blue symbolizes the watchful eyes of Doctor Eckleburg, representing the moral decay of society."},{name:"George Wilson",quote:'"Cars bought and sold.and I followed Tom inside."',group:"Lower Class",color:"rgb(169, 169, 169)",explanation:"Gray reflects George's despair and the bleakness of his life in the Valley of Ashes."},{name:"Myrtle Wilson",quote:`"I want to get one of those dogs," she said earnestly. "I want to get one for the apartment. They're nice to havea dog."`,group:"Lower Class",color:"rgb(255, 105, 180)",explanation:"Hot pink symbolizes Myrtle's desire for a glamorous life and her tragic pursuit of wealth."},{name:"Catherine",quote:'"Do you live down on Long Island, too?" she inquired.',group:"Lower Class",color:"rgb(75, 0, 130)",explanation:"Indigo symbolizes Catherine's complexity and her connection to Myrtle's life."},{name:"Mr. Mckee",quote:`"I like your dress," remarked Mrs. McKee, "I think it's adorable."`,group:"Minor Characters",color:"rgb(255, 255, 0)",explanation:"Yellow represents Mr. Mckee's artistic aspirations and his role in the social dynamics."},{name:"Mrs. Mckee",quote:`"I like your dress," remarked Mrs. McKee, "I think it's adorable."`,group:"Minor Characters",color:"rgb(255, 0, 255)",explanation:"Magenta reflects Mrs. Mckee's flamboyant personality and her desire for attention."},{name:"The Gypsy Dancer",quote:'"Suddenly one of these gypsies, in trembling opal, seizes a cocktail out of the air, dumps it down for courage and, moving her hands like Frisco, dances out alone on the canvas platform."',group:"Entertainers",color:"rgb(255, 0, 0)",explanation:"Red symbolizes the vibrant and lively nature of the Gypsy Dancer at Gatsby's parties."},{name:"Young Englishmen",quote:'"I was immediately struck by the number of young Englishmen dotted about; all well dressed, all looking a little hungry, and all talking in low, earnest voices to solid and prosperous Americans."',group:"Upper Class",color:"rgb(0, 255, 255)",explanation:"Cyan represents the youthful energy and ambition of the young Englishmen at Gatsby's gatherings."},{name:"Solid And Prosperous Americans",quote:'"I was immediately struck by the number of young Englishmen dotted about; all well dressed, all looking a little hungry, and all talking in low, earnest voices to solid and prosperous Americans."',group:"Upper Class",color:"",explanation:""},{name:"Lucille",quote:'"I like to come," Lucille said. "I never care what I do, so I always have a good time."',group:"Minor Characters",color:"",explanation:""},{name:"First Girl",quote:`"There's something funny about a fellow that'll do a thing like that," said the other girl eagerly. "He doesn't want any trouble with anybody."`,group:"Minor Characters",color:"",explanation:""},{name:"Mr. Mumble (one Of The Men)",quote:`"I don't think it's so much that," argued Lucille sceptically; "It's more that he was a German spy during the war."`,group:"Minor Characters",color:"",explanation:""},{name:"Undergraduate Escort",quote:'"a persistent undergraduate given to violent innuendo"',group:"Minor Characters",color:"",explanation:""},{name:"Owl-eyed Man",quote:'"What do you think?" he demanded impetuously.',group:"Minor Characters",color:"rgb(0, 255, 127)",explanation:"This bright green represents the Owl-eyed Man's keen perception and his role as an observer of the events."},{name:"Rowdy Little Girl",quote:'"I was enjoying myself now."',group:"Minor Characters",color:"",explanation:""},{name:"Young Ladies",quote:"He's a bootlegger, said the young ladies, moving somewhere between his cocktails and his flowers.",group:"Main Characters",color:"",explanation:""},{name:"Meyer Wolfshiem",quote:"I can't do it I can't get mixed up in it.",group:"Main Characters",color:"rgb(255, 69, 0)",explanation:"Red signifies Wolfshiem's connection to crime and the darker side of the American Dream."},{name:"Mr. Klipspringer",quote:'I was asleep," cried Mr. Klipspringer, in a spasm of embarrassment.',group:"Main Characters",color:"rgb(255, 140, 0)",explanation:"Orange represents Klipspringer's opportunistic nature and his role as a leech in Gatsby's life."},{name:"Dan Cody",quote:"He's dead now. He used to be my best friend years ago.",group:"Main Characters",color:"rgb(0, 128, 0)",explanation:"Green symbolizes Cody's wealth and the influence he had on Gatsby's aspirations."},{name:"The Young Reporter",quote:"Anything to say about what?",group:"Main Characters",color:"",explanation:""},{name:"Ella Kaye",quote:"No quote available",group:"Main Characters",color:"",explanation:""},{name:"Mr. Sloane",quote:"Tell him we couldn't wait, will you?",group:"Main Characters",color:"",explanation:""},{name:"Gatsby's Butler",quote:"Nope.",group:"Main Characters",color:"rgb(192, 192, 192)",explanation:"Silver reflects the understated yet essential role of Gatsby's butler in the lavish lifestyle."},{name:"The Woman",quote:"Oh, my!",group:"Main Characters",color:"",explanation:""},{name:"The Conductor",quote:"Hot!  Hot!  Hot!  Is it hot enough for you? Is it hot? Is it ?",group:"Main Characters",color:"",explanation:""},{name:"Pammy Buchanan",quote:"Aunt Jordan's got on a white dress too.",group:"Main Characters",color:"",explanation:""},{name:"Gardener",quote:"I'm going to drain the pool today, Mr. Gatsby.",group:"Main Characters",color:"",explanation:""},{name:"Michaelis",quote:"Maybe you got some friend that I could telephone for, George?",group:"Main Characters",color:"rgb(255, 20, 147)",explanation:"Deep pink represents Michaelis's emotional involvement and his attempts to help George."},{name:"Chauffeur",quote:"No quote available",group:"Main Characters",color:"",explanation:""},{name:"Catherine Wilson",quote:"No quote available",group:"Main Characters",color:"",explanation:""},{name:"Henry C. Gatz",quote:'I saw it in the Chicago newspaper," he said. "It was all in the Chicago newspaper. I started right away.',group:"Main Characters",color:"rgb(255, 228, 196)",explanation:"Peach reflects Henry's nostalgia and the warmth of his memories of Gatsby."},{name:"The Jewess",quote:`Nobody's in," she said. "Mr. Wolfshiem's gone to Chicago.`,group:"Main Characters",color:"",explanation:""}],t2=[{name:"Narrator's Reflection",quote:`"Whenever you feel like criticizing anyone," he told me, "just remember that all the people in this world haven't had the advantages that you've had."`,emoji:""},{name:"West Egg",quote:"It was on that slender riotous island which extends itself due east of New York.",emoji:""},{name:"Tom Buchanan's Mansion",quote:"His house was even more elaborate than I expected, a cheerful red-and-white Georgian Colonial mansion, overlooking the bay.",emoji:""},{name:"Daisy's House",quote:"Daisy took her face in her hands as if feeling its lovely shape, and her eyes moved gradually out into the velvet dusk.",emoji:""},{name:"Valley Of Ashes",quote:"This is a valley of ashesa fantastic farm where ashes grow like wheat into ridges and hills and grotesque gardens.",emoji:""},{name:"New York City",quote:"We drove over to Fifth Avenue, warm and soft, almost pastoral, on the summer Sunday afternoon.",emoji:""},{name:"Front Door",quote:"The only completely stationary object in the room was an enormous couch on which two young women were buoyed up as though upon an anchored balloon.",emoji:""},{name:"Gatsby's House",quote:"In his blue gardens men and girls came and went like moths among the whisperings and the champagne and the stars.",emoji:""},{name:"Plaza Hotel",quote:"Gatsby invites Nick to lunch, revealing his past and connection to Daisy, while Nick meets Gatsby's shady associate and learns more about their history.",emoji:""},{name:"Lake Superior",quote:"Gatsby reflects on his past with Dan Cody, who played a pivotal role in shaping his ambitions and lifestyle.",emoji:""},{name:"Meyer Wolfshiem's Office",quote:"Wolfshiem shares stories with Nick, giving him a glimpse into Gatsby's world.",emoji:""},{name:"Cemetery",quote:"Mr. Gatz expresses his pride in Gatsby to Nick, sharing memories of his son.",emoji:""}],sd={title:WI,type:zI,author:qI,year:FI,url:VI,image:YI,num_chapters:JI,num_scenes:UI,num_characters:KI,num_locations:XI,chapters:QI,scenes:ZI,characters:e2,locations:t2},z9=Object.freeze(Object.defineProperty({__proto__:null,author:qI,chapters:QI,characters:e2,default:sd,image:YI,locations:t2,num_chapters:JI,num_characters:KI,num_locations:XI,num_scenes:UI,scenes:ZI,title:WI,type:zI,url:VI,year:FI},Symbol.toStringTag,{value:"Module"}));function Gc(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var n2={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,o,a){function i(c,u){if(!o[c]){if(!r[c]){var h=typeof Gc=="function"&&Gc;if(!u&&h)return h(c,!0);if(s)return s(c,!0);var d=new Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var f=o[c]={exports:{}};r[c][0].call(f.exports,function(w){var m=r[c][1][w];return i(m||w)},f,f.exports,n,r,o,a)}return o[c].exports}for(var s=typeof Gc=="function"&&Gc,l=0;l<a.length;l++)i(a[l]);return i}({1:[function(n,r,o){(function(a){var i=a.MutationObserver||a.WebKitMutationObserver,s;if(i){var l=0,c=new i(w),u=a.document.createTextNode("");c.observe(u,{characterData:!0}),s=function(){u.data=l=++l%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var h=new a.MessageChannel;h.port1.onmessage=w,s=function(){h.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?s=function(){var g=a.document.createElement("script");g.onreadystatechange=function(){w(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},a.document.documentElement.appendChild(g)}:s=function(){setTimeout(w,0)};var d,f=[];function w(){d=!0;for(var g,p,y=f.length;y;){for(p=f,f=[],g=-1;++g<y;)p[g]();y=f.length}d=!1}r.exports=m;function m(g){f.push(g)===1&&!d&&s()}}).call(this,typeof Hs<"u"?Hs:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,o){var a=n(1);function i(){}var s={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];r.exports=h;function h(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,x!==i&&m(this,x)}h.prototype.catch=function(x){return this.then(null,x)},h.prototype.then=function(x,C){if(typeof x!="function"&&this.state===c||typeof C!="function"&&this.state===l)return this;var O=new this.constructor(i);if(this.state!==u){var D=this.state===c?x:C;f(O,D,this.outcome)}else this.queue.push(new d(O,x,C));return O};function d(x,C,O){this.promise=x,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(x){s.resolve(this.promise,x)},d.prototype.otherCallFulfilled=function(x){f(this.promise,this.onFulfilled,x)},d.prototype.callRejected=function(x){s.reject(this.promise,x)},d.prototype.otherCallRejected=function(x){f(this.promise,this.onRejected,x)};function f(x,C,O){a(function(){var D;try{D=C(O)}catch(q){return s.reject(x,q)}D===x?s.reject(x,new TypeError("Cannot resolve promise with itself")):s.resolve(x,D)})}s.resolve=function(x,C){var O=g(w,C);if(O.status==="error")return s.reject(x,O.value);var D=O.value;if(D)m(x,D);else{x.state=c,x.outcome=C;for(var q=-1,J=x.queue.length;++q<J;)x.queue[q].callFulfilled(C)}return x},s.reject=function(x,C){x.state=l,x.outcome=C;for(var O=-1,D=x.queue.length;++O<D;)x.queue[O].callRejected(C);return x};function w(x){var C=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof C=="function")return function(){C.apply(x,arguments)}}function m(x,C){var O=!1;function D(B){O||(O=!0,s.reject(x,B))}function q(B){O||(O=!0,s.resolve(x,B))}function J(){C(q,D)}var K=g(J);K.status==="error"&&D(K.value)}function g(x,C){var O={};try{O.value=x(C),O.status="success"}catch(D){O.status="error",O.value=D}return O}h.resolve=p;function p(x){return x instanceof this?x:s.resolve(new this(i),x)}h.reject=y;function y(x){var C=new this(i);return s.reject(C,x)}h.all=b;function b(x){var C=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=x.length,D=!1;if(!O)return this.resolve([]);for(var q=new Array(O),J=0,K=-1,B=new this(i);++K<O;)Z(x[K],K);return B;function Z(M,$){C.resolve(M).then(S,function(H){D||(D=!0,s.reject(B,H))});function S(H){q[$]=H,++J===O&&!D&&(D=!0,s.resolve(B,q))}}}h.race=_;function _(x){var C=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=x.length,D=!1;if(!O)return this.resolve([]);for(var q=-1,J=new this(i);++q<O;)K(x[q]);return J;function K(B){C.resolve(B).then(function(Z){D||(D=!0,s.resolve(J,Z))},function(Z){D||(D=!0,s.reject(J,Z))})}}},{1:1}],3:[function(n,r,o){(function(a){typeof a.Promise!="function"&&(a.Promise=n(2))}).call(this,typeof Hs<"u"?Hs:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,o){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A};function i(A,z){if(!(A instanceof z))throw new TypeError("Cannot call a class as a function")}function s(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=s();function c(){try{if(!l||!l.open)return!1;var A=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),z=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!A||z)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(A,z){A=A||[],z=z||{};try{return new Blob(A,z)}catch(U){if(U.name!=="TypeError")throw U;for(var L=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,X=new L,ee=0;ee<A.length;ee+=1)X.append(A[ee]);return X.getBlob(z.type)}}typeof Promise>"u"&&n(3);var h=Promise;function d(A,z){z&&A.then(function(L){z(null,L)},function(L){z(L)})}function f(A,z,L){typeof z=="function"&&A.then(z),typeof L=="function"&&A.catch(L)}function w(A){return typeof A!="string"&&(console.warn(A+" used as a key, but it is not a string."),A=String(A)),A}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",p=void 0,y={},b=Object.prototype.toString,_="readonly",x="readwrite";function C(A){for(var z=A.length,L=new ArrayBuffer(z),X=new Uint8Array(L),ee=0;ee<z;ee++)X[ee]=A.charCodeAt(ee);return L}function O(A){return new h(function(z){var L=A.transaction(g,x),X=u([""]);L.objectStore(g).put(X,"key"),L.onabort=function(ee){ee.preventDefault(),ee.stopPropagation(),z(!1)},L.oncomplete=function(){var ee=navigator.userAgent.match(/Chrome\/(\d+)/),U=navigator.userAgent.match(/Edge\//);z(U||!ee||parseInt(ee[1],10)>=43)}}).catch(function(){return!1})}function D(A){return typeof p=="boolean"?h.resolve(p):O(A).then(function(z){return p=z,p})}function q(A){var z=y[A.name],L={};L.promise=new h(function(X,ee){L.resolve=X,L.reject=ee}),z.deferredOperations.push(L),z.dbReady?z.dbReady=z.dbReady.then(function(){return L.promise}):z.dbReady=L.promise}function J(A){var z=y[A.name],L=z.deferredOperations.pop();if(L)return L.resolve(),L.promise}function K(A,z){var L=y[A.name],X=L.deferredOperations.pop();if(X)return X.reject(z),X.promise}function B(A,z){return new h(function(L,X){if(y[A.name]=y[A.name]||oe(),A.db)if(z)q(A),A.db.close();else return L(A.db);var ee=[A.name];z&&ee.push(A.version);var U=l.open.apply(l,ee);z&&(U.onupgradeneeded=function(fe){var be=U.result;try{be.createObjectStore(A.storeName),fe.oldVersion<=1&&be.createObjectStore(g)}catch(Ie){if(Ie.name==="ConstraintError")console.warn('The database "'+A.name+'" has been upgraded from version '+fe.oldVersion+" to version "+fe.newVersion+', but the storage "'+A.storeName+'" already exists.');else throw Ie}}),U.onerror=function(fe){fe.preventDefault(),X(U.error)},U.onsuccess=function(){var fe=U.result;fe.onversionchange=function(be){be.target.close()},L(fe),J(A)}})}function Z(A){return B(A,!1)}function M(A){return B(A,!0)}function $(A,z){if(!A.db)return!0;var L=!A.db.objectStoreNames.contains(A.storeName),X=A.version<A.db.version,ee=A.version>A.db.version;if(X&&(A.version!==z&&console.warn('The database "'+A.name+`" can't be downgraded from version `+A.db.version+" to version "+A.version+"."),A.version=A.db.version),ee||L){if(L){var U=A.db.version+1;U>A.version&&(A.version=U)}return!0}return!1}function S(A){return new h(function(z,L){var X=new FileReader;X.onerror=L,X.onloadend=function(ee){var U=btoa(ee.target.result||"");z({__local_forage_encoded_blob:!0,data:U,type:A.type})},X.readAsBinaryString(A)})}function H(A){var z=C(atob(A.data));return u([z],{type:A.type})}function N(A){return A&&A.__local_forage_encoded_blob}function R(A){var z=this,L=z._initReady().then(function(){var X=y[z._dbInfo.name];if(X&&X.dbReady)return X.dbReady});return f(L,A,A),L}function V(A){q(A);for(var z=y[A.name],L=z.forages,X=0;X<L.length;X++){var ee=L[X];ee._dbInfo.db&&(ee._dbInfo.db.close(),ee._dbInfo.db=null)}return A.db=null,Z(A).then(function(U){return A.db=U,$(A)?M(A):U}).then(function(U){A.db=z.db=U;for(var fe=0;fe<L.length;fe++)L[fe]._dbInfo.db=U}).catch(function(U){throw K(A,U),U})}function W(A,z,L,X){X===void 0&&(X=1);try{var ee=A.db.transaction(A.storeName,z);L(null,ee)}catch(U){if(X>0&&(!A.db||U.name==="InvalidStateError"||U.name==="NotFoundError"))return h.resolve().then(function(){if(!A.db||U.name==="NotFoundError"&&!A.db.objectStoreNames.contains(A.storeName)&&A.version<=A.db.version)return A.db&&(A.version=A.db.version+1),M(A)}).then(function(){return V(A).then(function(){W(A,z,L,X-1)})}).catch(L);L(U)}}function oe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function le(A){var z=this,L={db:null};if(A)for(var X in A)L[X]=A[X];var ee=y[L.name];ee||(ee=oe(),y[L.name]=ee),ee.forages.push(z),z._initReady||(z._initReady=z.ready,z.ready=R);var U=[];function fe(){return h.resolve()}for(var be=0;be<ee.forages.length;be++){var Ie=ee.forages[be];Ie!==z&&U.push(Ie._initReady().catch(fe))}var Se=ee.forages.slice(0);return h.all(U).then(function(){return L.db=ee.db,Z(L)}).then(function(Ce){return L.db=Ce,$(L,z._defaultConfig.version)?M(L):Ce}).then(function(Ce){L.db=ee.db=Ce,z._dbInfo=L;for(var Oe=0;Oe<Se.length;Oe++){var Ke=Se[Oe];Ke!==z&&(Ke._dbInfo.db=L.db,Ke._dbInfo.version=L.version)}})}function Q(A,z){var L=this;A=w(A);var X=new h(function(ee,U){L.ready().then(function(){W(L._dbInfo,_,function(fe,be){if(fe)return U(fe);try{var Ie=be.objectStore(L._dbInfo.storeName),Se=Ie.get(A);Se.onsuccess=function(){var Ce=Se.result;Ce===void 0&&(Ce=null),N(Ce)&&(Ce=H(Ce)),ee(Ce)},Se.onerror=function(){U(Se.error)}}catch(Ce){U(Ce)}})}).catch(U)});return d(X,z),X}function ce(A,z){var L=this,X=new h(function(ee,U){L.ready().then(function(){W(L._dbInfo,_,function(fe,be){if(fe)return U(fe);try{var Ie=be.objectStore(L._dbInfo.storeName),Se=Ie.openCursor(),Ce=1;Se.onsuccess=function(){var Oe=Se.result;if(Oe){var Ke=Oe.value;N(Ke)&&(Ke=H(Ke));var ut=A(Ke,Oe.key,Ce++);ut!==void 0?ee(ut):Oe.continue()}else ee()},Se.onerror=function(){U(Se.error)}}catch(Oe){U(Oe)}})}).catch(U)});return d(X,z),X}function ge(A,z,L){var X=this;A=w(A);var ee=new h(function(U,fe){var be;X.ready().then(function(){return be=X._dbInfo,b.call(z)==="[object Blob]"?D(be.db).then(function(Ie){return Ie?z:S(z)}):z}).then(function(Ie){W(X._dbInfo,x,function(Se,Ce){if(Se)return fe(Se);try{var Oe=Ce.objectStore(X._dbInfo.storeName);Ie===null&&(Ie=void 0);var Ke=Oe.put(Ie,A);Ce.oncomplete=function(){Ie===void 0&&(Ie=null),U(Ie)},Ce.onabort=Ce.onerror=function(){var ut=Ke.error?Ke.error:Ke.transaction.error;fe(ut)}}catch(ut){fe(ut)}})}).catch(fe)});return d(ee,L),ee}function Ee(A,z){var L=this;A=w(A);var X=new h(function(ee,U){L.ready().then(function(){W(L._dbInfo,x,function(fe,be){if(fe)return U(fe);try{var Ie=be.objectStore(L._dbInfo.storeName),Se=Ie.delete(A);be.oncomplete=function(){ee()},be.onerror=function(){U(Se.error)},be.onabort=function(){var Ce=Se.error?Se.error:Se.transaction.error;U(Ce)}}catch(Ce){U(Ce)}})}).catch(U)});return d(X,z),X}function Te(A){var z=this,L=new h(function(X,ee){z.ready().then(function(){W(z._dbInfo,x,function(U,fe){if(U)return ee(U);try{var be=fe.objectStore(z._dbInfo.storeName),Ie=be.clear();fe.oncomplete=function(){X()},fe.onabort=fe.onerror=function(){var Se=Ie.error?Ie.error:Ie.transaction.error;ee(Se)}}catch(Se){ee(Se)}})}).catch(ee)});return d(L,A),L}function ue(A){var z=this,L=new h(function(X,ee){z.ready().then(function(){W(z._dbInfo,_,function(U,fe){if(U)return ee(U);try{var be=fe.objectStore(z._dbInfo.storeName),Ie=be.count();Ie.onsuccess=function(){X(Ie.result)},Ie.onerror=function(){ee(Ie.error)}}catch(Se){ee(Se)}})}).catch(ee)});return d(L,A),L}function re(A,z){var L=this,X=new h(function(ee,U){if(A<0){ee(null);return}L.ready().then(function(){W(L._dbInfo,_,function(fe,be){if(fe)return U(fe);try{var Ie=be.objectStore(L._dbInfo.storeName),Se=!1,Ce=Ie.openKeyCursor();Ce.onsuccess=function(){var Oe=Ce.result;if(!Oe){ee(null);return}A===0||Se?ee(Oe.key):(Se=!0,Oe.advance(A))},Ce.onerror=function(){U(Ce.error)}}catch(Oe){U(Oe)}})}).catch(U)});return d(X,z),X}function ae(A){var z=this,L=new h(function(X,ee){z.ready().then(function(){W(z._dbInfo,_,function(U,fe){if(U)return ee(U);try{var be=fe.objectStore(z._dbInfo.storeName),Ie=be.openKeyCursor(),Se=[];Ie.onsuccess=function(){var Ce=Ie.result;if(!Ce){X(Se);return}Se.push(Ce.key),Ce.continue()},Ie.onerror=function(){ee(Ie.error)}}catch(Ce){ee(Ce)}})}).catch(ee)});return d(L,A),L}function pe(A,z){z=m.apply(this,arguments);var L=this.config();A=typeof A!="function"&&A||{},A.name||(A.name=A.name||L.name,A.storeName=A.storeName||L.storeName);var X=this,ee;if(!A.name)ee=h.reject("Invalid arguments");else{var U=A.name===L.name&&X._dbInfo.db,fe=U?h.resolve(X._dbInfo.db):Z(A).then(function(be){var Ie=y[A.name],Se=Ie.forages;Ie.db=be;for(var Ce=0;Ce<Se.length;Ce++)Se[Ce]._dbInfo.db=be;return be});A.storeName?ee=fe.then(function(be){if(be.objectStoreNames.contains(A.storeName)){var Ie=be.version+1;q(A);var Se=y[A.name],Ce=Se.forages;be.close();for(var Oe=0;Oe<Ce.length;Oe++){var Ke=Ce[Oe];Ke._dbInfo.db=null,Ke._dbInfo.version=Ie}var ut=new h(function(ht,Rt){var Et=l.open(A.name,Ie);Et.onerror=function(xn){var ca=Et.result;ca.close(),Rt(xn)},Et.onupgradeneeded=function(){var xn=Et.result;xn.deleteObjectStore(A.storeName)},Et.onsuccess=function(){var xn=Et.result;xn.close(),ht(xn)}});return ut.then(function(ht){Se.db=ht;for(var Rt=0;Rt<Ce.length;Rt++){var Et=Ce[Rt];Et._dbInfo.db=ht,J(Et._dbInfo)}}).catch(function(ht){throw(K(A,ht)||h.resolve()).catch(function(){}),ht})}}):ee=fe.then(function(be){q(A);var Ie=y[A.name],Se=Ie.forages;be.close();for(var Ce=0;Ce<Se.length;Ce++){var Oe=Se[Ce];Oe._dbInfo.db=null}var Ke=new h(function(ut,ht){var Rt=l.deleteDatabase(A.name);Rt.onerror=function(){var Et=Rt.result;Et&&Et.close(),ht(Rt.error)},Rt.onblocked=function(){console.warn('dropInstance blocked for database "'+A.name+'" until all open connections are closed')},Rt.onsuccess=function(){var Et=Rt.result;Et&&Et.close(),ut(Et)}});return Ke.then(function(ut){Ie.db=ut;for(var ht=0;ht<Se.length;ht++){var Rt=Se[ht];J(Rt._dbInfo)}}).catch(function(ut){throw(K(A,ut)||h.resolve()).catch(function(){}),ut})})}return d(ee,z),ee}var he={_driver:"asyncStorage",_initStorage:le,_support:c(),iterate:ce,getItem:Q,setItem:ge,removeItem:Ee,clear:Te,length:ue,key:re,keys:ae,dropInstance:pe};function ie(){return typeof openDatabase=="function"}var ye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",we="~~local_forage_type~",je=/^~~local_forage_type~([^~]+)~/,Me="__lfsc__:",Fe=Me.length,Ve="arbf",Xe="blob",He="si08",Le="ui08",Ct="uic8",Ge="si16",at="si32",Ht="ur16",kn="ui32",Jr="fl32",Ar="fl64",Ur=Fe+Ve.length,_o=Object.prototype.toString;function gt(A){var z=A.length*.75,L=A.length,X,ee=0,U,fe,be,Ie;A[A.length-1]==="="&&(z--,A[A.length-2]==="="&&z--);var Se=new ArrayBuffer(z),Ce=new Uint8Array(Se);for(X=0;X<L;X+=4)U=ye.indexOf(A[X]),fe=ye.indexOf(A[X+1]),be=ye.indexOf(A[X+2]),Ie=ye.indexOf(A[X+3]),Ce[ee++]=U<<2|fe>>4,Ce[ee++]=(fe&15)<<4|be>>2,Ce[ee++]=(be&3)<<6|Ie&63;return Se}function Bt(A){var z=new Uint8Array(A),L="",X;for(X=0;X<z.length;X+=3)L+=ye[z[X]>>2],L+=ye[(z[X]&3)<<4|z[X+1]>>4],L+=ye[(z[X+1]&15)<<2|z[X+2]>>6],L+=ye[z[X+2]&63];return z.length%3===2?L=L.substring(0,L.length-1)+"=":z.length%3===1&&(L=L.substring(0,L.length-2)+"=="),L}function Jn(A,z){var L="";if(A&&(L=_o.call(A)),A&&(L==="[object ArrayBuffer]"||A.buffer&&_o.call(A.buffer)==="[object ArrayBuffer]")){var X,ee=Me;A instanceof ArrayBuffer?(X=A,ee+=Ve):(X=A.buffer,L==="[object Int8Array]"?ee+=He:L==="[object Uint8Array]"?ee+=Le:L==="[object Uint8ClampedArray]"?ee+=Ct:L==="[object Int16Array]"?ee+=Ge:L==="[object Uint16Array]"?ee+=Ht:L==="[object Int32Array]"?ee+=at:L==="[object Uint32Array]"?ee+=kn:L==="[object Float32Array]"?ee+=Jr:L==="[object Float64Array]"?ee+=Ar:z(new Error("Failed to get type for BinaryArray"))),z(ee+Bt(X))}else if(L==="[object Blob]"){var U=new FileReader;U.onload=function(){var fe=we+A.type+"~"+Bt(this.result);z(Me+Xe+fe)},U.readAsArrayBuffer(A)}else try{z(JSON.stringify(A))}catch(fe){console.error("Couldn't convert value into a JSON string: ",A),z(null,fe)}}function us(A){if(A.substring(0,Fe)!==Me)return JSON.parse(A);var z=A.substring(Ur),L=A.substring(Fe,Ur),X;if(L===Xe&&je.test(z)){var ee=z.match(je);X=ee[1],z=z.substring(ee[0].length)}var U=gt(z);switch(L){case Ve:return U;case Xe:return u([U],{type:X});case He:return new Int8Array(U);case Le:return new Uint8Array(U);case Ct:return new Uint8ClampedArray(U);case Ge:return new Int16Array(U);case Ht:return new Uint16Array(U);case at:return new Int32Array(U);case kn:return new Uint32Array(U);case Jr:return new Float32Array(U);case Ar:return new Float64Array(U);default:throw new Error("Unkown type: "+L)}}var Io={serialize:Jn,deserialize:us,stringToBuffer:gt,bufferToString:Bt};function Dr(A,z,L,X){A.executeSql("CREATE TABLE IF NOT EXISTS "+z.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],L,X)}function hs(A){var z=this,L={db:null};if(A)for(var X in A)L[X]=typeof A[X]!="string"?A[X].toString():A[X];var ee=new h(function(U,fe){try{L.db=openDatabase(L.name,String(L.version),L.description,L.size)}catch(be){return fe(be)}L.db.transaction(function(be){Dr(be,L,function(){z._dbInfo=L,U()},function(Ie,Se){fe(Se)})},fe)});return L.serializer=Io,ee}function Un(A,z,L,X,ee,U){A.executeSql(L,X,ee,function(fe,be){be.code===be.SYNTAX_ERR?fe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[z.storeName],function(Ie,Se){Se.rows.length?U(Ie,be):Dr(Ie,z,function(){Ie.executeSql(L,X,ee,U)},U)},U):U(fe,be)},U)}function Ya(A,z){var L=this;A=w(A);var X=new h(function(ee,U){L.ready().then(function(){var fe=L._dbInfo;fe.db.transaction(function(be){Un(be,fe,"SELECT * FROM "+fe.storeName+" WHERE key = ? LIMIT 1",[A],function(Ie,Se){var Ce=Se.rows.length?Se.rows.item(0).value:null;Ce&&(Ce=fe.serializer.deserialize(Ce)),ee(Ce)},function(Ie,Se){U(Se)})})}).catch(U)});return d(X,z),X}function ds(A,z){var L=this,X=new h(function(ee,U){L.ready().then(function(){var fe=L._dbInfo;fe.db.transaction(function(be){Un(be,fe,"SELECT * FROM "+fe.storeName,[],function(Ie,Se){for(var Ce=Se.rows,Oe=Ce.length,Ke=0;Ke<Oe;Ke++){var ut=Ce.item(Ke),ht=ut.value;if(ht&&(ht=fe.serializer.deserialize(ht)),ht=A(ht,ut.key,Ke+1),ht!==void 0){ee(ht);return}}ee()},function(Ie,Se){U(Se)})})}).catch(U)});return d(X,z),X}function Yl(A,z,L,X){var ee=this;A=w(A);var U=new h(function(fe,be){ee.ready().then(function(){z===void 0&&(z=null);var Ie=z,Se=ee._dbInfo;Se.serializer.serialize(z,function(Ce,Oe){Oe?be(Oe):Se.db.transaction(function(Ke){Un(Ke,Se,"INSERT OR REPLACE INTO "+Se.storeName+" (key, value) VALUES (?, ?)",[A,Ce],function(){fe(Ie)},function(ut,ht){be(ht)})},function(Ke){if(Ke.code===Ke.QUOTA_ERR){if(X>0){fe(Yl.apply(ee,[A,Ie,L,X-1]));return}be(Ke)}})})}).catch(be)});return d(U,L),U}function gd(A,z,L){return Yl.apply(this,[A,z,L,1])}function yd(A,z){var L=this;A=w(A);var X=new h(function(ee,U){L.ready().then(function(){var fe=L._dbInfo;fe.db.transaction(function(be){Un(be,fe,"DELETE FROM "+fe.storeName+" WHERE key = ?",[A],function(){ee()},function(Ie,Se){U(Se)})})}).catch(U)});return d(X,z),X}function wd(A){var z=this,L=new h(function(X,ee){z.ready().then(function(){var U=z._dbInfo;U.db.transaction(function(fe){Un(fe,U,"DELETE FROM "+U.storeName,[],function(){X()},function(be,Ie){ee(Ie)})})}).catch(ee)});return d(L,A),L}function vd(A){var z=this,L=new h(function(X,ee){z.ready().then(function(){var U=z._dbInfo;U.db.transaction(function(fe){Un(fe,U,"SELECT COUNT(key) as c FROM "+U.storeName,[],function(be,Ie){var Se=Ie.rows.item(0).c;X(Se)},function(be,Ie){ee(Ie)})})}).catch(ee)});return d(L,A),L}function bd(A,z){var L=this,X=new h(function(ee,U){L.ready().then(function(){var fe=L._dbInfo;fe.db.transaction(function(be){Un(be,fe,"SELECT key FROM "+fe.storeName+" WHERE id = ? LIMIT 1",[A+1],function(Ie,Se){var Ce=Se.rows.length?Se.rows.item(0).key:null;ee(Ce)},function(Ie,Se){U(Se)})})}).catch(U)});return d(X,z),X}function kd(A){var z=this,L=new h(function(X,ee){z.ready().then(function(){var U=z._dbInfo;U.db.transaction(function(fe){Un(fe,U,"SELECT key FROM "+U.storeName,[],function(be,Ie){for(var Se=[],Ce=0;Ce<Ie.rows.length;Ce++)Se.push(Ie.rows.item(Ce).key);X(Se)},function(be,Ie){ee(Ie)})})}).catch(ee)});return d(L,A),L}function xd(A){return new h(function(z,L){A.transaction(function(X){X.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ee,U){for(var fe=[],be=0;be<U.rows.length;be++)fe.push(U.rows.item(be).name);z({db:A,storeNames:fe})},function(ee,U){L(U)})},function(X){L(X)})})}function _d(A,z){z=m.apply(this,arguments);var L=this.config();A=typeof A!="function"&&A||{},A.name||(A.name=A.name||L.name,A.storeName=A.storeName||L.storeName);var X=this,ee;return A.name?ee=new h(function(U){var fe;A.name===L.name?fe=X._dbInfo.db:fe=openDatabase(A.name,"","",0),A.storeName?U({db:fe,storeNames:[A.storeName]}):U(xd(fe))}).then(function(U){return new h(function(fe,be){U.db.transaction(function(Ie){function Se(ut){return new h(function(ht,Rt){Ie.executeSql("DROP TABLE IF EXISTS "+ut,[],function(){ht()},function(Et,xn){Rt(xn)})})}for(var Ce=[],Oe=0,Ke=U.storeNames.length;Oe<Ke;Oe++)Ce.push(Se(U.storeNames[Oe]));h.all(Ce).then(function(){fe()}).catch(function(ut){be(ut)})},function(Ie){be(Ie)})})}):ee=h.reject("Invalid arguments"),d(ee,z),ee}var Jl={_driver:"webSQLStorage",_initStorage:hs,_support:ie(),iterate:ds,getItem:Ya,setItem:gd,removeItem:yd,clear:wd,length:vd,key:bd,keys:kd,dropInstance:_d};function Ul(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Kl(A,z){var L=A.name+"/";return A.storeName!==z.storeName&&(L+=A.storeName+"/"),L}function Id(){var A="_localforage_support_test";try{return localStorage.setItem(A,!0),localStorage.removeItem(A),!1}catch{return!0}}function Sd(){return!Id()||localStorage.length>0}function Ja(A){var z=this,L={};if(A)for(var X in A)L[X]=A[X];return L.keyPrefix=Kl(A,z._defaultConfig),Sd()?(z._dbInfo=L,L.serializer=Io,h.resolve()):h.reject()}function Cd(A){var z=this,L=z.ready().then(function(){for(var X=z._dbInfo.keyPrefix,ee=localStorage.length-1;ee>=0;ee--){var U=localStorage.key(ee);U.indexOf(X)===0&&localStorage.removeItem(U)}});return d(L,A),L}function Xl(A,z){var L=this;A=w(A);var X=L.ready().then(function(){var ee=L._dbInfo,U=localStorage.getItem(ee.keyPrefix+A);return U&&(U=ee.serializer.deserialize(U)),U});return d(X,z),X}function Ed(A,z){var L=this,X=L.ready().then(function(){for(var ee=L._dbInfo,U=ee.keyPrefix,fe=U.length,be=localStorage.length,Ie=1,Se=0;Se<be;Se++){var Ce=localStorage.key(Se);if(Ce.indexOf(U)===0){var Oe=localStorage.getItem(Ce);if(Oe&&(Oe=ee.serializer.deserialize(Oe)),Oe=A(Oe,Ce.substring(fe),Ie++),Oe!==void 0)return Oe}}});return d(X,z),X}function Td(A,z){var L=this,X=L.ready().then(function(){var ee=L._dbInfo,U;try{U=localStorage.key(A)}catch{U=null}return U&&(U=U.substring(ee.keyPrefix.length)),U});return d(X,z),X}function Nd(A){var z=this,L=z.ready().then(function(){for(var X=z._dbInfo,ee=localStorage.length,U=[],fe=0;fe<ee;fe++){var be=localStorage.key(fe);be.indexOf(X.keyPrefix)===0&&U.push(be.substring(X.keyPrefix.length))}return U});return d(L,A),L}function Ql(A){var z=this,L=z.keys().then(function(X){return X.length});return d(L,A),L}function Md(A,z){var L=this;A=w(A);var X=L.ready().then(function(){var ee=L._dbInfo;localStorage.removeItem(ee.keyPrefix+A)});return d(X,z),X}function Zl(A,z,L){var X=this;A=w(A);var ee=X.ready().then(function(){z===void 0&&(z=null);var U=z;return new h(function(fe,be){var Ie=X._dbInfo;Ie.serializer.serialize(z,function(Se,Ce){if(Ce)be(Ce);else try{localStorage.setItem(Ie.keyPrefix+A,Se),fe(U)}catch(Oe){(Oe.name==="QuotaExceededError"||Oe.name==="NS_ERROR_DOM_QUOTA_REACHED")&&be(Oe),be(Oe)}})})});return d(ee,L),ee}function Ad(A,z){if(z=m.apply(this,arguments),A=typeof A!="function"&&A||{},!A.name){var L=this.config();A.name=A.name||L.name,A.storeName=A.storeName||L.storeName}var X=this,ee;return A.name?ee=new h(function(U){A.storeName?U(Kl(A,X._defaultConfig)):U(A.name+"/")}).then(function(U){for(var fe=localStorage.length-1;fe>=0;fe--){var be=localStorage.key(fe);be.indexOf(U)===0&&localStorage.removeItem(be)}}):ee=h.reject("Invalid arguments"),d(ee,z),ee}var ec={_driver:"localStorageWrapper",_initStorage:Ja,_support:Ul(),iterate:Ed,getItem:Xl,setItem:Zl,removeItem:Md,clear:Cd,length:Ql,key:Td,keys:Nd,dropInstance:Ad},Dd=function(z,L){return z===L||typeof z=="number"&&typeof L=="number"&&isNaN(z)&&isNaN(L)},Pd=function(z,L){for(var X=z.length,ee=0;ee<X;){if(Dd(z[ee],L))return!0;ee++}return!1},fs=Array.isArray||function(A){return Object.prototype.toString.call(A)==="[object Array]"},sa={},tc={},So={INDEXEDDB:he,WEBSQL:Jl,LOCALSTORAGE:ec},Rd=[So.INDEXEDDB._driver,So.WEBSQL._driver,So.LOCALSTORAGE._driver],Ua=["dropInstance"],ms=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ua),ps={description:"",driver:Rd.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Co(A,z){A[z]=function(){var L=arguments;return A.ready().then(function(){return A[z].apply(A,L)})}}function la(){for(var A=1;A<arguments.length;A++){var z=arguments[A];if(z)for(var L in z)z.hasOwnProperty(L)&&(fs(z[L])?arguments[0][L]=z[L].slice():arguments[0][L]=z[L])}return arguments[0]}var Eo=function(){function A(z){i(this,A);for(var L in So)if(So.hasOwnProperty(L)){var X=So[L],ee=X._driver;this[L]=ee,sa[ee]||this.defineDriver(X)}this._defaultConfig=la({},ps),this._config=la({},this._defaultConfig,z),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return A.prototype.config=function(L){if((typeof L>"u"?"undefined":a(L))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var X in L){if(X==="storeName"&&(L[X]=L[X].replace(/\W/g,"_")),X==="version"&&typeof L[X]!="number")return new Error("Database version must be a number.");this._config[X]=L[X]}return"driver"in L&&L.driver?this.setDriver(this._config.driver):!0}else return typeof L=="string"?this._config[L]:this._config},A.prototype.defineDriver=function(L,X,ee){var U=new h(function(fe,be){try{var Ie=L._driver,Se=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!L._driver){be(Se);return}for(var Ce=ms.concat("_initStorage"),Oe=0,Ke=Ce.length;Oe<Ke;Oe++){var ut=Ce[Oe],ht=!Pd(Ua,ut);if((ht||L[ut])&&typeof L[ut]!="function"){be(Se);return}}var Rt=function(){for(var ca=function(Hd){return function(){var $d=new Error("Method "+Hd+" is not implemented by the current driver"),ws=h.reject($d);return d(ws,arguments[arguments.length-1]),ws}},gs=0,Od=Ua.length;gs<Od;gs++){var ys=Ua[gs];L[ys]||(L[ys]=ca(ys))}};Rt();var Et=function(ca){sa[Ie]&&console.info("Redefining LocalForage driver: "+Ie),sa[Ie]=L,tc[Ie]=ca,fe()};"_support"in L?L._support&&typeof L._support=="function"?L._support().then(Et,be):Et(!!L._support):Et(!0)}catch(xn){be(xn)}});return f(U,X,ee),U},A.prototype.driver=function(){return this._driver||null},A.prototype.getDriver=function(L,X,ee){var U=sa[L]?h.resolve(sa[L]):h.reject(new Error("Driver not found."));return f(U,X,ee),U},A.prototype.getSerializer=function(L){var X=h.resolve(Io);return f(X,L),X},A.prototype.ready=function(L){var X=this,ee=X._driverSet.then(function(){return X._ready===null&&(X._ready=X._initDriver()),X._ready});return f(ee,L,L),ee},A.prototype.setDriver=function(L,X,ee){var U=this;fs(L)||(L=[L]);var fe=this._getSupportedDrivers(L);function be(){U._config.driver=U.driver()}function Ie(Oe){return U._extend(Oe),be(),U._ready=U._initStorage(U._config),U._ready}function Se(Oe){return function(){var Ke=0;function ut(){for(;Ke<Oe.length;){var ht=Oe[Ke];return Ke++,U._dbInfo=null,U._ready=null,U.getDriver(ht).then(Ie).catch(ut)}be();var Rt=new Error("No available storage method found.");return U._driverSet=h.reject(Rt),U._driverSet}return ut()}}var Ce=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=Ce.then(function(){var Oe=fe[0];return U._dbInfo=null,U._ready=null,U.getDriver(Oe).then(function(Ke){U._driver=Ke._driver,be(),U._wrapLibraryMethodsWithReady(),U._initDriver=Se(fe)})}).catch(function(){be();var Oe=new Error("No available storage method found.");return U._driverSet=h.reject(Oe),U._driverSet}),f(this._driverSet,X,ee),this._driverSet},A.prototype.supports=function(L){return!!tc[L]},A.prototype._extend=function(L){la(this,L)},A.prototype._getSupportedDrivers=function(L){for(var X=[],ee=0,U=L.length;ee<U;ee++){var fe=L[ee];this.supports(fe)&&X.push(fe)}return X},A.prototype._wrapLibraryMethodsWithReady=function(){for(var L=0,X=ms.length;L<X;L++)Co(this,ms[L])},A.prototype.createInstance=function(L){return new A(L)},A}(),Ld=new Eo;r.exports=Ld},{3:3}]},{},[4])(4)})})(n2);var q9=n2.exports;const tn=Sl(q9),Tt=jy(sd,!1),F9={data:sd,scene_data:Tt.scene_data,og_scene_data:Tt.og_scene_data,chapter_data:Tt.chapter_data,location_data:Tt.location_data,character_data:Tt.character_data,locations:Tt.locations,characters:Tt.characters,characterScenes:Tt.characterScenes,sortedCharacters:Tt.sortedCharacters,scenes:Tt.scenes,sceneLocations:Tt.sceneLocations,sceneChunks:Tt.sceneChunks,sceneCharacters:Tt.sceneCharacters,sceneSummaries:Tt.sceneSummaries,minLines:Tt.minLines,maxLines:Tt.maxLines,sceneMin:Tt.sceneMin,sceneMax:Tt.sceneMax,chapterMin:Tt.chapterMin,chapterMax:Tt.chapterMax,chapterDivisions:Tt.chapterDivisions,num_chapters:Tt.num_chapters,activeChapters:[1,Tt.num_chapters],characterColorOptions:nd,customColorDict:{},yAxisOptions:id,customYAxisOptions:[]},pt=Sy(e=>({...F9,setCharacterColorOptions:t=>e({characterColorOptions:t}),setCustomColorDict:(t,n)=>{const r=`colorDict-${n}`;tn.setItem(r,t),e({customColorDict:t}),console.log("Updated custom color dict")},setYAxisOptions:t=>e({yAxisOptions:t}),setCustomYAxisOptions:(t,n)=>{const r=`yAxis-${n}`;tn.setItem(r,t),e({customYAxisOptions:t}),console.log("Updated custom y-axis options")},setSortedCharacters:t=>{e({sortedCharacters:t})},setSceneData:t=>{e({scene_data:t})},setChapterData:t=>{e({chapter_data:t})},setOgSceneData:(t,n)=>{const r=`sceneData-${n}`;e({og_scene_data:t}),tn.setItem(r,t),console.log("Updated og scene data",t)},setCharacterData:(t,n)=>{const r=`characterData-${n}`;tn.setItem(r,t),e({character_data:t}),console.log("Updated character data")},setData:(t,n,r=!1,o="",a=!1)=>{const i=`colorDict-${n}`,s=`yAxis-${n}`,l=tn.getItem(i),c=tn.getItem(s);Promise.all([l,c]).then(([u,h])=>{let d=u||{},f=[...nd];if(u){const y=Object.keys(d);f.push(...y.filter(b=>!f.includes(b))),console.log("Loaded custom color dict from local storage")}else console.log("No custom color dict found");let w=h||[],m=[...id];h?(m.push(...w.filter(y=>!m.includes(y))),console.log("Loaded custom y-axis options from local storage")):console.log("No custom y-axis options found");const g=jy(t,r,o,w),p={data:t,scene_data:g.scene_data,og_scene_data:g.og_scene_data,location_data:g.location_data,character_data:g.character_data,locations:g.locations,characters:g.characters,characterScenes:g.characterScenes,sortedCharacters:g.sortedCharacters,scenes:g.scenes,sceneLocations:g.sceneLocations,sceneChunks:g.sceneChunks,sceneCharacters:g.sceneCharacters,sceneSummaries:g.sceneSummaries,minLines:g.minLines,maxLines:g.maxLines,chapterDivisions:g.chapterDivisions,num_chapters:g.num_chapters,activeChapters:[1,g.num_chapters],customColorDict:d,characterColorOptions:f,customYAxisOptions:w,yAxisOptions:m};(!a||p.sceneMin!==g.sceneMin||p.sceneMax!==g.sceneMax||p.chapterMin!==g.chapterMin||p.chapterMax!==g.chapterMax||w.length>0)&&(console.log("Updating chapter data"),p.chapter_data=g.chapter_data,p.sceneMin=g.sceneMin,p.sceneMax=g.sceneMax,p.chapterMin=g.chapterMin,p.chapterMax=g.chapterMax),e(p)}).catch(u=>{console.error("Error fetching data from local storage",u)})},setActiveChapters:t=>e({activeChapters:t}),resetActiveChapters:t=>e({activeChapters:[1,t]})})),V9=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1];return{length:Math.sqrt(Math.pow(n,2)+Math.pow(r,2)),angle:Math.atan2(r,n/2)}},M0=(e,t,n,r,o,a,i,s,l=.4)=>{const h=V9(t||e,n||e);let d=h.angle+(a?Math.PI:0);s&&a&&e[1]>t[1]&&(d/=2);let f=h.length*l;s&&a&&e[1]>t[1]&&(f*=1.5);let w=e[0]+Math.cos(d)*f,m=e[1]+Math.sin(d)*0;return i&&r&&r!==0&&t&&(e[1]>t[1]&&e[1]-t[1]>qs||t[1]>e[1]&&t[1]-e[1]<2*qs)&&(w+=2*Je),r&&r>0?a?w+=.5*r*Je:w-=.5*r*Je:r&&r<0&&(a||(w+=.5*r*Je)),r&&r===0&&o&&o>0&&n&&n[1]-e[1]>qs?w+=2*o*Je:r&&r===0&&o&&o<0&&n&&e[1]-n[1]>qs&&(a||(w-=2*o*Je)),t&&w<t[0]?w=t[0]:n&&w>n[0]&&(w=n[0]),[w,m]},A0=(e,t,n,r,o=.4)=>{let a=!1,i=!1;n===2?i=!0:n===r.length-2&&(a=!0);const s=M0(r[n-1],r[n-2],e,t[n],t[n-1],!1,i,a,o),l=M0(e,r[n-1],r[n+1],t[n],t[n-1],!0,i,a,o);return`C ${s[0]},${s[1]} ${l[0]},${l[1]} ${e[0]},${e[1]}`},D0=(e,t,n,r=.4)=>e.reduce((a,i,s,l)=>s===0?`M ${i[0]},${i[1]}`:`${a} ${n(i,t,s,l,r)}`,""),Y9=e=>e.map((t,n)=>Xt*n+$t),J9=(e,t,n,r,o,a,i,s)=>{let l=x9;const c=e*(t.length-1),u=n.reduce((w,m,g)=>w+(g===n.length-1?0:m.numLines),0),h=o?e:c/u,d=i.length,f=r.length<=8||s==="location"?Xt*(r.length+.25):Math.max(700,d*(.5*Je+qe));return t.map((w,m)=>{const g=m===0?0:o?1:n[m-1].numLines,p=h*g;return l+=p,{x:l,y:f+(a-2)*qe}})},U9=(e,t,n,r,o,a,i,s,l)=>{const c=e.map(S=>S.scenes.map(H=>{const R=a[H].characters.sort((V,W)=>s.findIndex(oe=>oe.character===V)-s.findIndex(oe=>oe.character===W));return{x:t[H].x-.5*qe,y:n[r.indexOf(o[H])]+$t*.5+Je*R.indexOf(S.character)}})),u=S=>S>24?.5:S>16?.75:S>12?1.25:S>10?1.5:S>6?2.5:S>4?3.5:5,h=e.length,d=u(h),w=h*(d*Je+qe)/h,m=[],g=[];e.forEach(S=>{let H=!1;for(let N of g)if(N.characters.every(V=>{const W=Math.min(...S.scenes),oe=Math.max(...S.scenes),le=Math.min(...V.scenes),Q=Math.max(...V.scenes);return W>Q||oe<le})){m.push(S.scenes.map(V=>({x:t[V].x-.5*qe,y:N.y}))),N.characters.push(S),H=!0;break}if(!H){const R=(2.5*Je+qe+.5*Je)*g.length;m.push(S.scenes.map(V=>({x:t[V].x-.5*qe,y:R}))),g.push({y:R,characters:[S]})}});const p=u(g.length);m.forEach((S,H)=>{const N=g.findIndex(R=>R.characters.includes(e[H]));S.forEach(R=>{R.y=N*(p*Je+qe)+.5*Je})});const y=e.map(S=>{const H=s.findIndex(N=>N.character===S.character);return S.scenes.map(N=>({x:t[N].x-.5*qe,y:w*H+.5*Je}))}),b=Math.max(...a.map(S=>S.characters.length))-1,_=Math.min(...a.map(S=>S.characters.length))-1,x=b-_,C=u(x),D=x*(C*Je+qe)/x,q=e.map(S=>S.scenes.map(H=>{const N=a[H].characters,R=N.length,W=N.sort((oe,le)=>s.findIndex(Q=>Q.character===oe)-s.findIndex(Q=>Q.character===le)).indexOf(S.character);return{x:t[H].x-.5*qe,y:.5*Je+D*(R-_-1)+Je*W}})),J=u(b),K=b*(Je*J+qe),B=K/b,Z=e.map(S=>S.scenes.map(H=>{var oe;const N=i[H],R=(oe=N.characters.find(le=>le.name===S.character))==null?void 0:oe.importance_rank,W=N.characters.filter(le=>le.importance_rank===R).findIndex(le=>le.name===S.character);return{x:t[H].x-.5*qe,y:.5*Je+B*(R-1)+Je*W}})),M=e.map(S=>S.scenes.map(H=>{var oe;const N=i[H],R=(oe=N.characters.find(le=>le.name===S.character))==null?void 0:oe.rating,W=N.characters.filter(le=>le.rating===R).findIndex(le=>le.name===S.character);return{x:t[H].x-.5*qe,y:K*.5+$t*.5-K*R*.5+Je*W}})),$={};return l.forEach(S=>{const H=e.map(N=>N.scenes.map(R=>{var Q;const V=i[R];let W=(Q=V.characters.find(ce=>ce.name===N.character))==null?void 0:Q[S];const le=V.characters.filter(ce=>ce[S]===W).findIndex(ce=>ce.name===N.character);return{x:t[R].x-.5*qe,y:.5*Je+B*(W-1)+Je*le}}));$[S]=H}),{charPos:c,promPos:Z,emotionPos:M,charListPos:y,charStackPos:m,numCharPos:q,charInc:w,customPos:$}},K9=(e,t,n,r)=>e.map((o,a)=>o.scenes.map((i,s)=>{var h;const l=(h=n[i].characters.find(d=>d.name===o.character))==null?void 0:h.importance,c=$y(qe*l);let u=r[a][s].y;return c<qe?u+=qe/2-c/2:c>qe&&(u-=c/2-qe/2),{x:t[i].x-.5*c,y:u,width:c,height:c}}));let X9=(e,t,n)=>e.map((r,o)=>Math.max(...t.map(a=>a.filter(i=>i.x+.5*qe===n[o].x).map(i=>i.y)).flat()));function Q9(e){const t=e.split(" C ");t[0]=t[0].replace("M","").trim();const r=t.join(" ").split(" ").reverse();let o="M "+r[0];return r.shift(),r.forEach((a,i)=>{i%3===0?o+=" C "+a:o+=" "+a}),o}const P0=(e,t,n=[])=>{eH(e,t);const r=D0(e,n,A0),o=Q9(D0(t,n,A0)),[,a]=o.split(" C ")[0].split(","),[,i]=r.split(" C ")[0].split(",");return`${r} V ${a} ${o} V ${i}`},R0=(e,t,n,r,o)=>{let a=[];return n.map((i,s)=>{var f,w;const l=e[i].characters,c=l.map(m=>{const g=r.find(b=>b.character===m),p=r.findIndex(b=>b.character===m),y=g==null?void 0:g.scenes.indexOf(i);return{character:m,coords:o[p][y]&&o[p][y].y}}),h=l.sort((m,g)=>{var p,y;return(((p=c.find(b=>b.character===m))==null?void 0:p.coords)??0)-(((y=c.find(b=>b.character===g))==null?void 0:y.coords)??0)}).indexOf(t),d=(f=c.find(m=>m.character===t))==null?void 0:f.coords;if(s<n.length-1){const p=(w=e[i+1].characters.map(y=>{const b=r.find(C=>C.character===y),_=r.findIndex(C=>C.character===y),x=b==null?void 0:b.scenes.indexOf(i+1);return{character:y,coords:o[_][x]&&o[_][x].y}}).find(y=>y.character===t))==null?void 0:w.coords;Math.abs(d-p)>Je,a.push(0)}else a.push(0)}),a.unshift(0),a.push(0),a},Z9=(e,t,n,r,o)=>({paths:e.map(i=>{const s=[],l=t[e.indexOf(i)];let c=[],u=[],h=null,d=[];if(i.scenes.forEach((m,g)=>{var x;const[p,y]=[l[g].x+qe/2,l[g].y+qe/2],b=(x=o[m].characters.find(C=>C.name===i.character))==null?void 0:x.importance,_=$y(qe*b)/2;if(h!==null&&m-h>1&&c.length){const C=R0(r,i.character,d,e,t);s.push(P0(c,u,C)),c=[],u=[],d=[]}c.push([p,y-_]),u.push([p,y+_]),h=m,d.push(m)}),c.length){const m=R0(r,i.character,d,e,t);s.push(P0(c,u,m))}const f={x:l[0].x,y:l[0].y+qe/2},w={x:l[l.length-1].x,y:l[l.length-1].y+qe/2};return{paths:s,firstPoint:f,lastPoint:w}}),max_y_per_scene:n}),eH=(e,t)=>{e.unshift([e[0][0]-Ii/3,e[0][1]]),t.unshift([t[0][0]-Ii/3,t[0][1]]),e.push([e[e.length-1][0]+Ii/3,e[e.length-1][1]]),t.push([t[t.length-1][0]+Ii/3,t[t.length-1][1]])},tH=(e,t,n)=>(e[0]&&t>=e[0].y-1.25*$t?e.forEach(r=>{r.y=t+1.25*$t}):n&&n.includes("stacked")&&e[0]&&t<e[0].y-1.25*$t&&e.forEach(r=>{r.y=t+.75*Xt}),e),nH=(e,t,n,r)=>e.map((o,a)=>{const i=o.characters,s=i.map(g=>{var _;const y=(((_=r.find(x=>x.character===g))==null?void 0:_.scenes)||[]).indexOf(a),b=r.findIndex(x=>x.character===g);return t[b][y]}),l=s&&s.findIndex(g=>g&&g.y===Math.min(...s.map(p=>p&&p.y))),c=s&&s.findIndex(g=>g&&g.y===Math.max(...s.map(p=>p&&p.y))),u=r.findIndex(g=>g.character===i[l]),h=r[u]&&r[u].scenes.findIndex(g=>g===a),d=r&&r.findIndex(g=>g.character===i[c]),f=r[d]&&r[d].scenes.findIndex(g=>g===a),w=t[u]&&t[u][h]&&t[u][h].y,m=t[d]&&t[d][f]&&t[d][f].y+t[d][f].height;return{x:n[a].x-qe,y:w-.5*qe,width:2*qe,height:m-w+qe}}),r2=(e,t,n,r,o,a,i,s,l="location",c=[])=>{const u=I9(n,t),h=a.map(N=>N.characters.length),d=e.map(N=>N.characters.filter(W=>W.rating===-1).length),f=Math.max(...h),w=f+Math.max(...d),m=l!=="sentiment"?f:w,g=Y9(n);let p=J9(u,t,e,n,s,m,r,l);const y=S9(p),b=U9(r,p,g,n,o,a,e,i,c),_=l==="location"?b.charPos:l==="importance"?b.promPos:l==="sentiment"?b.emotionPos:l==="character"?b.charListPos:l==="# characters"?b.numCharPos:l.includes("stacked")?b.charStackPos:b.customPos[l],x=b.charInc,C=K9(r,p,e,_),O=X9(t,_,p),D=Z9(r,_,O,a,e),q=D.paths,J=q.map(N=>N.paths),K=q.map(N=>N.firstPoint),B=q.map(N=>N.lastPoint),Z=D.max_y_per_scene,M=Math.max(...Z);p=tH(p,M,l);const $=nH(a,C,p,r),S=M+$t;return{sceneWidth:u,plotWidth:y,plotHeight:S,locationPos:g,scenePos:p,characterPos:_,characterSquares:C,characterPaths:J,sceneBoxes:$,minConflictY:qs,charInc:x,firstPoints:K,lastPoints:B,customPaths:{}}},ma=jy(sd,!1),Hn=r2(ma.scene_data,ma.scenes,ma.locations,ma.characterScenes,ma.sceneLocations,ma.sceneCharacters,ma.sortedCharacters,!0),rH={sceneWidth:Hn.sceneWidth,plotWidth:Hn.plotWidth,plotHeight:Hn.plotHeight,locationPos:Hn.locationPos,scenePos:Hn.scenePos,characterPos:Hn.characterPos,characterSquares:Hn.characterSquares,characterPaths:Hn.characterPaths,sceneBoxes:Hn.sceneBoxes,minConflictY:Hn.minConflictY,charInc:Hn.charInc,firstPoints:Hn.firstPoints,lastPoints:Hn.lastPoints},Ln=Sy((e,t)=>({...rH,setPositions:(n,r,o,a,i,s,l,c,u="location",h=[])=>{const d=r2(n,r,o,a,i,s,l,c,u,h),{characterPaths:f}=t();f!==d.characterPaths&&e({sceneWidth:d.sceneWidth,plotWidth:d.plotWidth,plotHeight:d.plotHeight,locationPos:d.locationPos,scenePos:d.scenePos,characterPos:d.characterPos,characterSquares:d.characterSquares,characterPaths:d.characterPaths,sceneBoxes:d.sceneBoxes,minConflictY:d.minConflictY,charInc:d.charInc,firstPoints:d.firstPoints,lastPoints:d.lastPoints})}}));function L0(e){const{minLines:t,maxLines:n,sceneCharacters:r}=pt(),o=Math.max(...r.map(l=>l.characters.length)),a=Math.min(...r.map(l=>l.characters.length)),i=e.barType,s=e.fullWidth||!1;return I.jsx("div",{id:"color-bars",className:i==="default"?"hidden":"",children:I.jsxs("div",{className:"color-bar "+(s?"full-width":""),children:[I.jsxs("div",{className:"inner-bar",children:[I.jsxs("p",{className:"number-label",children:[i==="sentiment"?"negative":i==="length"?"short":i==="numChars"?"few":"low",I.jsx("span",{children:i==="sentiment"?-1:i==="length"?t:i==="numChars"?a:0})]}),I.jsx("div",{className:"gradient "+i}),I.jsxs("p",{className:"number-label",children:[i==="length"?"long":i==="sentiment"?"positive":i==="numChars"?"many":"high",I.jsx("span",{className:"number-label",children:i==="length"?n:i==="numChars"?o:1})]})]}),I.jsx("span",{className:"main-label",children:i==="length"?"length (# lines)":i==="numChars"?"# characters":`${i}`})]})})}function oH(e){const{sortedCharacters:t,chapterDivisions:n,activeChapters:r,characterScenes:o,customColorDict:a,character_data:i}=pt(),{characterColor:s,groupHover:l,setGroupHover:c,characterHover:u,setCharacterHover:h,hidden:d,setHidden:f,customHover:w,setCustomHover:m,setLegendHover:g,linkHover:p}=ct(),y=e.gridType,b=e.fullWidth||!1,_=n&&n.filter((N,R)=>R>=r[0]-1&&R<r[1]),x=_[0],C=x&&x.index,O=_[_.length-1],D=O&&O.index+O.scenes.length,q=o.filter(N=>N.scenes.filter(W=>W>=C&&W<D).length>0),J=t.filter(N=>q.map(R=>R.character).includes(N.character)),K=N=>{const R=d.includes(N)?d.filter(V=>V!==N):[...d,N];f(R)},B=N=>{const R=N.map(W=>W.character),V=d;R.forEach(W=>{V.includes(W)||V.push(W)}),f(V)},Z=N=>{const R=N.map(W=>W.character),V=d.filter(W=>!R.includes(W));f(V)},M=N=>N.map(V=>V.character).every(V=>d.includes(V)),$=Object.keys(a).includes(y)?t.map(N=>{var R;return(R=N[y])==null?void 0:R.val}):t.map(N=>N.group),S=[...new Set($)],H=S.map(N=>Object.keys(a).includes(y)?t.filter(R=>{var V;return((V=R[y])==null?void 0:V.val)===N}):t.filter(R=>R.group===N));return Object.keys(a).includes(y)&&H.sort((N,R)=>{var Q,ce;const V=(Q=N[0][y])==null?void 0:Q.val,W=(ce=R[0][y])==null?void 0:ce.val,oe=a[y].findIndex(ge=>ge.val===V),le=a[y].findIndex(ge=>ge.val===W);return oe-le}),I.jsxs("div",{id:"colorgrid",className:y===""?"hidden":!b&&window&&window.innerWidth<1500&&window.innerWidth>1200?" large":b?" full-width":"",style:{width:b?"100%":y==="group"||Object.keys(a).includes(y)?H.length*12:(y==="default"||y==="llm")&&t.length<(window&&window.innerWidth<1500&&window.innerWidth>1200?40:25)?t.length*12:void 0},children:[(y==="default"||y==="llm")&&t.map(N=>{const R=s==="llm"&&N.color?N.color:xo(N.character,t);return I.jsx("div",{className:"colorgrid-square "+(J.map(V=>V.character).includes(N.character)?"":"faded no-click")+(d.includes(N.character)||u!==""&&u!==N.character||p.length>0&&!p.includes(N.character)||l!==""&&l!==N.group?"faded":""),style:{backgroundColor:R},onClick:()=>K(N.character),onMouseEnter:()=>{h(N.character),g(N.character)},onMouseLeave:()=>{h(""),g("")}},N.character)}),(y==="group"||Object.keys(a).includes(y))&&H.map(N=>{var le;const R=y==="group"?N[0].group:(le=N[0][y])==null?void 0:le.val,V=y==="group"?zr(R,S):tr(a[y],i,N[0].character,y),W=N.map(Q=>Q.character),oe=N.map(Q=>Q.group);return I.jsx("div",{className:"colorgrid-square "+(u!==""&&!W.includes(u)||p.length>0&&!W.some(Q=>p.includes(Q))||l!==""&&!oe.includes(l)||w!==""&&!Uo(W,i,s,w)||M(N)?"faded":""),style:{backgroundColor:V},onMouseEnter:()=>{var Q;y==="group"?(c(R),g(R)):(m(R),g((Q=N[0][y])==null?void 0:Q.val))},onMouseLeave:()=>{y==="group"?c(""):m(""),g("")},onClick:()=>{M(N)?Z(N):B(N)}},R)})]})}var o2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},O0=P.createContext&&P.createContext(o2),aH=["attr","size","title"];function iH(e,t){if(e==null)return{};var n=sH(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sH(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eh.apply(this,arguments)}function H0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function th(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H0(Object(n),!0).forEach(function(r){lH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lH(e,t,n){return t=cH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cH(e){var t=uH(e,"string");return typeof t=="symbol"?t:String(t)}function uH(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a2(e){return e&&e.map((t,n)=>P.createElement(t.tag,th({key:n},t.attr),a2(t.child)))}function Yr(e){return t=>P.createElement(hH,eh({attr:th({},e.attr)},t),a2(e.child))}function hH(e){var t=n=>{var{attr:r,size:o,title:a}=e,i=iH(e,aH),s=o||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),P.createElement("svg",eh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,i,{className:l,style:th(th({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&P.createElement("title",null,a),e.children)};return O0!==void 0?P.createElement(O0.Consumer,null,n=>t(n)):t(o2)}function dH(e){return Yr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(e)}function fH(e){return Yr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function mH(e){return Yr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function pH(e){return Yr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(e)}function gH(e){return Yr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M408 48H104a72.08 72.08 0 0 0-72 72v192a72.08 72.08 0 0 0 72 72h24v64a16 16 0 0 0 26.25 12.29L245.74 384H408a72.08 72.08 0 0 0 72-72V120a72.08 72.08 0 0 0-72-72zM160 248a32 32 0 1 1 32-32 32 32 0 0 1-32 32zm96 0a32 32 0 1 1 32-32 32 32 0 0 1-32 32zm96 0a32 32 0 1 1 32-32 32 32 0 0 1-32 32z"},child:[]}]})(e)}function i2(e){return Yr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M248 64C146.39 64 64 146.39 64 248s82.39 184 184 184 184-82.39 184-184S349.61 64 248 64z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M220 220h32v116"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M208 340h88"},child:[]},{tag:"path",attr:{d:"M248 130a26 26 0 1 0 26 26 26 26 0 0 0-26-26z"},child:[]}]})(e)}function Ot(e){const t=e.type?e.type:"default";return I.jsx(Bl,{className:"info-tooltip "+(e.smaller?"smaller":""),label:I.jsx("span",{style:{fontSize:"x-small",color:"black",fontFamily:"Shantell Sans"},children:e.label}),withArrow:!0,color:"rgb(255,255,255,0.95)",style:{boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)"},children:I.jsx("span",{children:t==="default"?I.jsx(i2,{style:{marginBottom:-2,marginLeft:5,opacity:.7}}):" "})})}function yH(e){const{sortedCharacters:t,chapterDivisions:n,activeChapters:r,characterScenes:o,customColorDict:a,character_data:i}=pt(),{setCharacterHover:s,characterHover:l,groupHover:c,hidden:u,characterColor:h,setHidden:d,showLegend:f,setShowLegend:w,setGroupHover:m,customHover:g,minimized:p,setMinimized:y,linkHover:b,themeView:_}=ct(),x=e.inSidebar||!1,C=t.filter(ue=>(Array.isArray(ue.explanation)?ue.explanation.join(" ").trim():ue.explanation)!=="").map(ue=>ue.character),O=ue=>{const re=u.includes(ue)?u.filter(ae=>ae!==ue):[...u,ue];d(re)},D=ue=>{const re=ue.map(pe=>pe.character),ae=u;re.forEach(pe=>{ae.includes(pe)||ae.push(pe)}),d(ae)},q=ue=>{const re=ue.map(pe=>pe.character),ae=u.filter(pe=>!re.includes(pe));d(ae)},J=()=>{const ue=t.filter(re=>!C.includes(re.character)).map(re=>re.character);d(ue)},K=()=>{const ue=t.filter(re=>!C.includes(re.character)).map(re=>re.character);return u.length===ue.length&&u.every((re,ae)=>re===ue[ae])},B=ue=>ue.map(ae=>ae.character).every(ae=>!u.includes(ae)),Z=ue=>ue.map(ae=>ae.character).every(ae=>u.includes(ae)),M=ue=>{const re=p.includes(ue)?p.filter(ae=>ae!==ue):[...p,ue];y(re)},$=()=>{const ue=t.map(re=>re.group);y(ue)},S=()=>{y([])},H=()=>p.length===t.map(ue=>ue.group).length,N=n&&n.filter((ue,re)=>re>=r[0]-1&&re<r[1]),R=N[0],V=R&&R.index,W=N[N.length-1],oe=W&&W.index+W.scenes.length,le=o.filter(ue=>ue.scenes.filter(pe=>pe>=V&&pe<oe).length>0),Q=t.filter(ue=>le.map(re=>re.character).includes(ue.character)),ce=x?28:18,ge=t.map(ue=>ue.group),Ee=[...new Set(ge)],Te=Ee.map(ue=>t.filter(re=>re.group===ue));return I.jsxs("div",{id:"legend-outer",className:x?"sidebar":"",children:[I.jsxs("div",{id:"buttons",children:[I.jsx(nt,{size:"xs",variant:"transparent",rightSection:I.jsx(dH,{}),className:"show-button reset-button "+(f?"":"rotate"),onClick:()=>w(!f),children:f?"Hide legend":"Show legend"}),I.jsxs("div",{style:{display:"flex",position:"absolute",right:"0.5rem",columnGap:"1rem",alignItems:"center"},children:[I.jsxs(nt,{size:"xs",variant:"transparent",className:"reset-button "+(t.length<=20?"hidden":""),disabled:K()||C.length===0,onClick:()=>J(),children:["View top ",C.length," ",_?"themes":"characters",I.jsx(Ot,{label:`Only show top ${C.length} character or theme ribbons`})]}),I.jsx(nt,{size:"xs",variant:"transparent",leftSection:I.jsx(pH,{}),className:"reset-button",disabled:u.length===0,onClick:()=>d([]),children:"Reset"})]})]}),I.jsxs("div",{id:"character-legend",className:f?"":"hidden",children:[Te.map((ue,re)=>{const ae=ue[0].group,pe=ue.length,he=ue.map(je=>je.character),ie=zr(ae,Ee).replace(")",", 0.5)"),ye=BI(ie),we=x?2:pe<30?Math.ceil(pe/8):Math.ceil(pe/12);return I.jsxs("div",{className:"group-container "+(l!==""&&!he.includes(l)||b.length>0&&!b.some(je=>he.includes(je))||c!==""&&c!==ae||g!==""&&!Uo(he,i,h,g)?"faded":"")+(Z(ue)?" light-faded":""),style:{borderColor:ie,gridColumn:`span ${we}`},children:[I.jsxs("div",{className:"group-header "+(p.includes(ae)?"no-margin":""),style:{backgroundColor:ie,color:ye},onMouseEnter:()=>m(ae),onMouseLeave:()=>m(""),children:[I.jsxs("b",{onClick:()=>M(ae),style:{maxWidth:"260px"},children:[I.jsx("span",{className:"expand-button",children:p.includes(ae)?I.jsx(mH,{}):I.jsx(fH,{})}),ae," (",pe,")"]}),I.jsxs("div",{children:[I.jsx("span",{onClick:()=>D(ue),className:Z(ue)?"faded":"",children:"hide all"}),I.jsx("span",{className:"divider",children:"/"}),I.jsx("span",{onClick:()=>q(ue),className:B(ue)?"faded":"",children:"show all"})]})]}),I.jsx("div",{className:"group-contain-inner "+(p.includes(ae)?"hidden":""),children:ue.map(je=>{const Me=je.character,Fe=Me.length>ce?Me.slice(0,ce)+"...":Me,Ve=zr(ae,Ee),Xe=h==="llm"&&je.color?je.color:h==="group"?Ve:Object.keys(a).includes(h)?tr(a[h],i,Me,h):xo(Me,t);return I.jsxs("div",{className:"legend-item "+(Q.map(He=>He.character).includes(Me)?"":"faded no-click")+(u.includes(Me)?"faded":""),onClick:()=>O(Me),onMouseEnter:()=>s(Me),onMouseLeave:()=>s(""),children:[I.jsx("div",{className:"legend-square",style:{backgroundColor:Xe}}),I.jsx("span",{className:"legend-name",children:Fe})]},Me)})})]},re)}),I.jsx(nt,{variant:"outline",size:"compact-xs",className:"compact-button",fullWidth:!0,disabled:p.length===0,onClick:()=>{S()},style:{marginTop:"0.15rem"},children:"Expand All"}),I.jsx(nt,{variant:"outline",size:"compact-xs",className:"compact-button",fullWidth:!0,disabled:H(),onClick:()=>{$()},style:{marginTop:"0.15rem"},children:"Minimize All"})]})]})}function wH(e){return Yr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405.34 405.332H106.66V106.668H240V64H106.66C83.191 64 64 83.197 64 106.668v298.664C64 428.803 83.191 448 106.66 448h298.68c23.469 0 42.66-19.197 42.66-42.668V272h-42.66v133.332zM288 64v42.668h87.474L159.999 322.133l29.866 29.866 215.476-215.47V224H448V64H288z"},child:[]}]})(e)}function s2(e,t){return function(){return e.apply(t,arguments)}}const{toString:vH}=Object.prototype,{getPrototypeOf:Gy}=Object,ld=(e=>t=>{const n=vH.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Mr=e=>(e=e.toLowerCase(),t=>ld(t)===e),cd=e=>t=>typeof t===e,{isArray:ls}=Array,Il=cd("undefined");function bH(e){return e!==null&&!Il(e)&&e.constructor!==null&&!Il(e.constructor)&&Bn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const l2=Mr("ArrayBuffer");function kH(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&l2(e.buffer),t}const xH=cd("string"),Bn=cd("function"),c2=cd("number"),ud=e=>e!==null&&typeof e=="object",_H=e=>e===!0||e===!1,lu=e=>{if(ld(e)!=="object")return!1;const t=Gy(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},IH=Mr("Date"),SH=Mr("File"),CH=Mr("Blob"),EH=Mr("FileList"),TH=e=>ud(e)&&Bn(e.pipe),NH=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Bn(e.append)&&((t=ld(e))==="formdata"||t==="object"&&Bn(e.toString)&&e.toString()==="[object FormData]"))},MH=Mr("URLSearchParams"),[AH,DH,PH,RH]=["ReadableStream","Request","Response","Headers"].map(Mr),LH=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vl(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),ls(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let s;for(r=0;r<i;r++)s=a[r],t.call(null,e[s],s,e)}}function u2(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const Ia=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,h2=e=>!Il(e)&&e!==Ia;function kp(){const{caseless:e}=h2(this)&&this||{},t={},n=(r,o)=>{const a=e&&u2(t,o)||o;lu(t[a])&&lu(r)?t[a]=kp(t[a],r):lu(r)?t[a]=kp({},r):ls(r)?t[a]=r.slice():t[a]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Vl(arguments[r],n);return t}const OH=(e,t,n,{allOwnKeys:r}={})=>(Vl(t,(o,a)=>{n&&Bn(o)?e[a]=s2(o,n):e[a]=o},{allOwnKeys:r}),e),HH=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),$H=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},jH=(e,t,n,r)=>{let o,a,i;const s={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)i=o[a],(!r||r(i,e,t))&&!s[i]&&(t[i]=e[i],s[i]=!0);e=n!==!1&&Gy(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},GH=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},BH=e=>{if(!e)return null;if(ls(e))return e;let t=e.length;if(!c2(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},WH=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Gy(Uint8Array)),zH=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=r.next())&&!o.done;){const a=o.value;t.call(e,a[0],a[1])}},qH=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},FH=Mr("HTMLFormElement"),VH=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),$0=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),YH=Mr("RegExp"),d2=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Vl(n,(o,a)=>{let i;(i=t(o,a,e))!==!1&&(r[a]=i||o)}),Object.defineProperties(e,r)},JH=e=>{d2(e,(t,n)=>{if(Bn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Bn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},UH=(e,t)=>{const n={},r=o=>{o.forEach(a=>{n[a]=!0})};return ls(e)?r(e):r(String(e).split(t)),n},KH=()=>{},XH=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,rm="abcdefghijklmnopqrstuvwxyz",j0="0123456789",f2={DIGIT:j0,ALPHA:rm,ALPHA_DIGIT:rm+rm.toUpperCase()+j0},QH=(e=16,t=f2.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function ZH(e){return!!(e&&Bn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const e$=e=>{const t=new Array(10),n=(r,o)=>{if(ud(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;const a=ls(r)?[]:{};return Vl(r,(i,s)=>{const l=n(i,o+1);!Il(l)&&(a[s]=l)}),t[o]=void 0,a}}return r};return n(e,0)},t$=Mr("AsyncFunction"),n$=e=>e&&(ud(e)||Bn(e))&&Bn(e.then)&&Bn(e.catch),m2=((e,t)=>e?setImmediate:t?((n,r)=>(Ia.addEventListener("message",({source:o,data:a})=>{o===Ia&&a===n&&r.length&&r.shift()()},!1),o=>{r.push(o),Ia.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Bn(Ia.postMessage)),r$=typeof queueMicrotask<"u"?queueMicrotask.bind(Ia):typeof process<"u"&&process.nextTick||m2,se={isArray:ls,isArrayBuffer:l2,isBuffer:bH,isFormData:NH,isArrayBufferView:kH,isString:xH,isNumber:c2,isBoolean:_H,isObject:ud,isPlainObject:lu,isReadableStream:AH,isRequest:DH,isResponse:PH,isHeaders:RH,isUndefined:Il,isDate:IH,isFile:SH,isBlob:CH,isRegExp:YH,isFunction:Bn,isStream:TH,isURLSearchParams:MH,isTypedArray:WH,isFileList:EH,forEach:Vl,merge:kp,extend:OH,trim:LH,stripBOM:HH,inherits:$H,toFlatObject:jH,kindOf:ld,kindOfTest:Mr,endsWith:GH,toArray:BH,forEachEntry:zH,matchAll:qH,isHTMLForm:FH,hasOwnProperty:$0,hasOwnProp:$0,reduceDescriptors:d2,freezeMethods:JH,toObjectSet:UH,toCamelCase:VH,noop:KH,toFiniteNumber:XH,findKey:u2,global:Ia,isContextDefined:h2,ALPHABET:f2,generateString:QH,isSpecCompliantForm:ZH,toJSONObject:e$,isAsyncFn:t$,isThenable:n$,setImmediate:m2,asap:r$};function Ye(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}se.inherits(Ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const p2=Ye.prototype,g2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{g2[e]={value:e}});Object.defineProperties(Ye,g2);Object.defineProperty(p2,"isAxiosError",{value:!0});Ye.from=(e,t,n,r,o,a)=>{const i=Object.create(p2);return se.toFlatObject(e,i,function(l){return l!==Error.prototype},s=>s!=="isAxiosError"),Ye.call(i,e.message,t,n,r,o),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const o$=null;function xp(e){return se.isPlainObject(e)||se.isArray(e)}function y2(e){return se.endsWith(e,"[]")?e.slice(0,-2):e}function G0(e,t,n){return e?e.concat(t).map(function(o,a){return o=y2(o),!n&&a?"["+o+"]":o}).join(n?".":""):t}function a$(e){return se.isArray(e)&&!e.some(xp)}const i$=se.toFlatObject(se,{},null,function(t){return/^is[A-Z]/.test(t)});function hd(e,t,n){if(!se.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=se.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,g){return!se.isUndefined(g[m])});const r=n.metaTokens,o=n.visitor||u,a=n.dots,i=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(t);if(!se.isFunction(o))throw new TypeError("visitor must be a function");function c(w){if(w===null)return"";if(se.isDate(w))return w.toISOString();if(!l&&se.isBlob(w))throw new Ye("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(w)||se.isTypedArray(w)?l&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function u(w,m,g){let p=w;if(w&&!g&&typeof w=="object"){if(se.endsWith(m,"{}"))m=r?m:m.slice(0,-2),w=JSON.stringify(w);else if(se.isArray(w)&&a$(w)||(se.isFileList(w)||se.endsWith(m,"[]"))&&(p=se.toArray(w)))return m=y2(m),p.forEach(function(b,_){!(se.isUndefined(b)||b===null)&&t.append(i===!0?G0([m],_,a):i===null?m:m+"[]",c(b))}),!1}return xp(w)?!0:(t.append(G0(g,m,a),c(w)),!1)}const h=[],d=Object.assign(i$,{defaultVisitor:u,convertValue:c,isVisitable:xp});function f(w,m){if(!se.isUndefined(w)){if(h.indexOf(w)!==-1)throw Error("Circular reference detected in "+m.join("."));h.push(w),se.forEach(w,function(p,y){(!(se.isUndefined(p)||p===null)&&o.call(t,p,se.isString(y)?y.trim():y,m,d))===!0&&f(p,m?m.concat(y):[y])}),h.pop()}}if(!se.isObject(e))throw new TypeError("data must be an object");return f(e),t}function B0(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function By(e,t){this._pairs=[],e&&hd(e,this,t)}const w2=By.prototype;w2.append=function(t,n){this._pairs.push([t,n])};w2.toString=function(t){const n=t?function(r){return t.call(this,r,B0)}:B0;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function s$(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function v2(e,t,n){if(!t)return e;const r=n&&n.encode||s$;se.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let a;if(o?a=o(t,n):a=se.isURLSearchParams(t)?t.toString():new By(t,n).toString(r),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class W0{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){se.forEach(this.handlers,function(r){r!==null&&t(r)})}}const b2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},l$=typeof URLSearchParams<"u"?URLSearchParams:By,c$=typeof FormData<"u"?FormData:null,u$=typeof Blob<"u"?Blob:null,h$={isBrowser:!0,classes:{URLSearchParams:l$,FormData:c$,Blob:u$},protocols:["http","https","file","blob","url","data"]},Wy=typeof window<"u"&&typeof document<"u",_p=typeof navigator=="object"&&navigator||void 0,d$=Wy&&(!_p||["ReactNative","NativeScript","NS"].indexOf(_p.product)<0),f$=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",m$=Wy&&window.location.href||"http://localhost",p$=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Wy,hasStandardBrowserEnv:d$,hasStandardBrowserWebWorkerEnv:f$,navigator:_p,origin:m$},Symbol.toStringTag,{value:"Module"})),cn={...p$,...h$};function g$(e,t){return hd(e,new cn.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,a){return cn.isNode&&se.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function y$(e){return se.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function w$(e){const t={},n=Object.keys(e);let r;const o=n.length;let a;for(r=0;r<o;r++)a=n[r],t[a]=e[a];return t}function k2(e){function t(n,r,o,a){let i=n[a++];if(i==="__proto__")return!0;const s=Number.isFinite(+i),l=a>=n.length;return i=!i&&se.isArray(o)?o.length:i,l?(se.hasOwnProp(o,i)?o[i]=[o[i],r]:o[i]=r,!s):((!o[i]||!se.isObject(o[i]))&&(o[i]=[]),t(n,r,o[i],a)&&se.isArray(o[i])&&(o[i]=w$(o[i])),!s)}if(se.isFormData(e)&&se.isFunction(e.entries)){const n={};return se.forEachEntry(e,(r,o)=>{t(y$(r),o,n,0)}),n}return null}function v$(e,t,n){if(se.isString(e))try{return(t||JSON.parse)(e),se.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const zy={transitional:b2,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,a=se.isObject(t);if(a&&se.isHTMLForm(t)&&(t=new FormData(t)),se.isFormData(t))return o?JSON.stringify(k2(t)):t;if(se.isArrayBuffer(t)||se.isBuffer(t)||se.isStream(t)||se.isFile(t)||se.isBlob(t)||se.isReadableStream(t))return t;if(se.isArrayBufferView(t))return t.buffer;if(se.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return g$(t,this.formSerializer).toString();if((s=se.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return hd(s?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||o?(n.setContentType("application/json",!1),v$(t)):t}],transformResponse:[function(t){const n=this.transitional||zy.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(se.isResponse(t)||se.isReadableStream(t))return t;if(t&&se.isString(t)&&(r&&!this.responseType||o)){const i=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(s){if(i)throw s.name==="SyntaxError"?Ye.from(s,Ye.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cn.classes.FormData,Blob:cn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],e=>{zy.headers[e]={}});const qy=zy,b$=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),k$=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(i){o=i.indexOf(":"),n=i.substring(0,o).trim().toLowerCase(),r=i.substring(o+1).trim(),!(!n||t[n]&&b$[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},z0=Symbol("internals");function Os(e){return e&&String(e).trim().toLowerCase()}function cu(e){return e===!1||e==null?e:se.isArray(e)?e.map(cu):String(e)}function x$(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const _$=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function om(e,t,n,r,o){if(se.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!se.isString(t)){if(se.isString(r))return t.indexOf(r)!==-1;if(se.isRegExp(r))return r.test(t)}}function I$(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function S$(e,t){const n=se.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,a,i){return this[r].call(this,t,o,a,i)},configurable:!0})})}class dd{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function a(s,l,c){const u=Os(l);if(!u)throw new Error("header name must be a non-empty string");const h=se.findKey(o,u);(!h||o[h]===void 0||c===!0||c===void 0&&o[h]!==!1)&&(o[h||l]=cu(s))}const i=(s,l)=>se.forEach(s,(c,u)=>a(c,u,l));if(se.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(se.isString(t)&&(t=t.trim())&&!_$(t))i(k$(t),n);else if(se.isHeaders(t))for(const[s,l]of t.entries())a(l,s,r);else t!=null&&a(n,t,r);return this}get(t,n){if(t=Os(t),t){const r=se.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return x$(o);if(se.isFunction(n))return n.call(this,o,r);if(se.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Os(t),t){const r=se.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||om(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function a(i){if(i=Os(i),i){const s=se.findKey(r,i);s&&(!n||om(r,r[s],s,n))&&(delete r[s],o=!0)}}return se.isArray(t)?t.forEach(a):a(t),o}clear(t){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const a=n[r];(!t||om(this,this[a],a,t,!0))&&(delete this[a],o=!0)}return o}normalize(t){const n=this,r={};return se.forEach(this,(o,a)=>{const i=se.findKey(r,a);if(i){n[i]=cu(o),delete n[a];return}const s=t?I$(a):String(a).trim();s!==a&&delete n[a],n[s]=cu(o),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return se.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&se.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[z0]=this[z0]={accessors:{}}).accessors,o=this.prototype;function a(i){const s=Os(i);r[s]||(S$(o,i),r[s]=!0)}return se.isArray(t)?t.forEach(a):a(t),this}}dd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(dd.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});se.freezeMethods(dd);const Ir=dd;function am(e,t){const n=this||qy,r=t||n,o=Ir.from(r.headers);let a=r.data;return se.forEach(e,function(s){a=s.call(n,a,o.normalize(),t?t.status:void 0)}),o.normalize(),a}function x2(e){return!!(e&&e.__CANCEL__)}function cs(e,t,n){Ye.call(this,e??"canceled",Ye.ERR_CANCELED,t,n),this.name="CanceledError"}se.inherits(cs,Ye,{__CANCEL__:!0});function _2(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ye("Request failed with status code "+n.status,[Ye.ERR_BAD_REQUEST,Ye.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function C$(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function E$(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,a=0,i;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=r[a];i||(i=c),n[o]=l,r[o]=c;let h=a,d=0;for(;h!==o;)d+=n[h++],h=h%e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),c-i<t)return;const f=u&&c-u;return f?Math.round(d*1e3/f):void 0}}function T$(e,t){let n=0,r=1e3/t,o,a;const i=(c,u=Date.now())=>{n=u,o=null,a&&(clearTimeout(a),a=null),e.apply(null,c)};return[(...c)=>{const u=Date.now(),h=u-n;h>=r?i(c,u):(o=c,a||(a=setTimeout(()=>{a=null,i(o)},r-h)))},()=>o&&i(o)]}const nh=(e,t,n=3)=>{let r=0;const o=E$(50,250);return T$(a=>{const i=a.loaded,s=a.lengthComputable?a.total:void 0,l=i-r,c=o(l),u=i<=s;r=i;const h={loaded:i,total:s,progress:s?i/s:void 0,bytes:l,rate:c||void 0,estimated:c&&s&&u?(s-i)/c:void 0,event:a,lengthComputable:s!=null,[t?"download":"upload"]:!0};e(h)},n)},q0=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},F0=e=>(...t)=>se.asap(()=>e(...t)),N$=cn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,cn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(cn.origin),cn.navigator&&/(msie|trident)/i.test(cn.navigator.userAgent)):()=>!0,M$=cn.hasStandardBrowserEnv?{write(e,t,n,r,o,a){const i=[e+"="+encodeURIComponent(t)];se.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),se.isString(r)&&i.push("path="+r),se.isString(o)&&i.push("domain="+o),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function A$(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function D$(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function I2(e,t){return e&&!A$(t)?D$(e,t):t}const V0=e=>e instanceof Ir?{...e}:e;function Ga(e,t){t=t||{};const n={};function r(c,u,h,d){return se.isPlainObject(c)&&se.isPlainObject(u)?se.merge.call({caseless:d},c,u):se.isPlainObject(u)?se.merge({},u):se.isArray(u)?u.slice():u}function o(c,u,h,d){if(se.isUndefined(u)){if(!se.isUndefined(c))return r(void 0,c,h,d)}else return r(c,u,h,d)}function a(c,u){if(!se.isUndefined(u))return r(void 0,u)}function i(c,u){if(se.isUndefined(u)){if(!se.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function s(c,u,h){if(h in t)return r(c,u);if(h in e)return r(void 0,c)}const l={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s,headers:(c,u,h)=>o(V0(c),V0(u),h,!0)};return se.forEach(Object.keys(Object.assign({},e,t)),function(u){const h=l[u]||o,d=h(e[u],t[u],u);se.isUndefined(d)&&h!==s||(n[u]=d)}),n}const S2=e=>{const t=Ga({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:a,headers:i,auth:s}=t;t.headers=i=Ir.from(i),t.url=v2(I2(t.baseURL,t.url),e.params,e.paramsSerializer),s&&i.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let l;if(se.isFormData(n)){if(cn.hasStandardBrowserEnv||cn.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((l=i.getContentType())!==!1){const[c,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...u].join("; "))}}if(cn.hasStandardBrowserEnv&&(r&&se.isFunction(r)&&(r=r(t)),r||r!==!1&&N$(t.url))){const c=o&&a&&M$.read(a);c&&i.set(o,c)}return t},P$=typeof XMLHttpRequest<"u",R$=P$&&function(e){return new Promise(function(n,r){const o=S2(e);let a=o.data;const i=Ir.from(o.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:c}=o,u,h,d,f,w;function m(){f&&f(),w&&w(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(o.method.toUpperCase(),o.url,!0),g.timeout=o.timeout;function p(){if(!g)return;const b=Ir.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),x={data:!s||s==="text"||s==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:b,config:e,request:g};_2(function(O){n(O),m()},function(O){r(O),m()},x),g=null}"onloadend"in g?g.onloadend=p:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(p)},g.onabort=function(){g&&(r(new Ye("Request aborted",Ye.ECONNABORTED,e,g)),g=null)},g.onerror=function(){r(new Ye("Network Error",Ye.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let _=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const x=o.transitional||b2;o.timeoutErrorMessage&&(_=o.timeoutErrorMessage),r(new Ye(_,x.clarifyTimeoutError?Ye.ETIMEDOUT:Ye.ECONNABORTED,e,g)),g=null},a===void 0&&i.setContentType(null),"setRequestHeader"in g&&se.forEach(i.toJSON(),function(_,x){g.setRequestHeader(x,_)}),se.isUndefined(o.withCredentials)||(g.withCredentials=!!o.withCredentials),s&&s!=="json"&&(g.responseType=o.responseType),c&&([d,w]=nh(c,!0),g.addEventListener("progress",d)),l&&g.upload&&([h,f]=nh(l),g.upload.addEventListener("progress",h),g.upload.addEventListener("loadend",f)),(o.cancelToken||o.signal)&&(u=b=>{g&&(r(!b||b.type?new cs(null,e,g):b),g.abort(),g=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const y=C$(o.url);if(y&&cn.protocols.indexOf(y)===-1){r(new Ye("Unsupported protocol "+y+":",Ye.ERR_BAD_REQUEST,e));return}g.send(a||null)})},L$=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,o;const a=function(c){if(!o){o=!0,s();const u=c instanceof Error?c:this.reason;r.abort(u instanceof Ye?u:new cs(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,a(new Ye(`timeout ${t} of ms exceeded`,Ye.ETIMEDOUT))},t);const s=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),e=null)};e.forEach(c=>c.addEventListener("abort",a));const{signal:l}=r;return l.unsubscribe=()=>se.asap(s),l}},O$=L$,H$=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,o;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},$$=async function*(e,t){for await(const n of j$(e))yield*H$(n,t)},j$=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Y0=(e,t,n,r)=>{const o=$$(e,t);let a=0,i,s=l=>{i||(i=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await o.next();if(c){s(),l.close();return}let h=u.byteLength;if(n){let d=a+=h;n(d)}l.enqueue(new Uint8Array(u))}catch(c){throw s(c),c}},cancel(l){return s(l),o.return()}},{highWaterMark:2})},fd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",C2=fd&&typeof ReadableStream=="function",G$=fd&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),E2=(e,...t)=>{try{return!!e(...t)}catch{return!1}},B$=C2&&E2(()=>{let e=!1;const t=new Request(cn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),J0=64*1024,Ip=C2&&E2(()=>se.isReadableStream(new Response("").body)),rh={stream:Ip&&(e=>e.body)};fd&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!rh[t]&&(rh[t]=se.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Ye(`Response type '${t}' is not supported`,Ye.ERR_NOT_SUPPORT,r)})})})(new Response);const W$=async e=>{if(e==null)return 0;if(se.isBlob(e))return e.size;if(se.isSpecCompliantForm(e))return(await new Request(cn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(se.isArrayBufferView(e)||se.isArrayBuffer(e))return e.byteLength;if(se.isURLSearchParams(e)&&(e=e+""),se.isString(e))return(await G$(e)).byteLength},z$=async(e,t)=>{const n=se.toFiniteNumber(e.getContentLength());return n??W$(t)},q$=fd&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:a,timeout:i,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:d}=S2(e);c=c?(c+"").toLowerCase():"text";let f=O$([o,a&&a.toAbortSignal()],i),w;const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(l&&B$&&n!=="get"&&n!=="head"&&(g=await z$(u,r))!==0){let x=new Request(t,{method:"POST",body:r,duplex:"half"}),C;if(se.isFormData(r)&&(C=x.headers.get("content-type"))&&u.setContentType(C),x.body){const[O,D]=q0(g,nh(F0(l)));r=Y0(x.body,J0,O,D)}}se.isString(h)||(h=h?"include":"omit");const p="credentials"in Request.prototype;w=new Request(t,{...d,signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:p?h:void 0});let y=await fetch(w);const b=Ip&&(c==="stream"||c==="response");if(Ip&&(s||b&&m)){const x={};["status","statusText","headers"].forEach(q=>{x[q]=y[q]});const C=se.toFiniteNumber(y.headers.get("content-length")),[O,D]=s&&q0(C,nh(F0(s),!0))||[];y=new Response(Y0(y.body,J0,O,()=>{D&&D(),m&&m()}),x)}c=c||"text";let _=await rh[se.findKey(rh,c)||"text"](y,e);return!b&&m&&m(),await new Promise((x,C)=>{_2(x,C,{data:_,headers:Ir.from(y.headers),status:y.status,statusText:y.statusText,config:e,request:w})})}catch(p){throw m&&m(),p&&p.name==="TypeError"&&/fetch/i.test(p.message)?Object.assign(new Ye("Network Error",Ye.ERR_NETWORK,e,w),{cause:p.cause||p}):Ye.from(p,p&&p.code,e,w)}}),Sp={http:o$,xhr:R$,fetch:q$};se.forEach(Sp,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const U0=e=>`- ${e}`,F$=e=>se.isFunction(e)||e===null||e===!1,T2={getAdapter:e=>{e=se.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let a=0;a<t;a++){n=e[a];let i;if(r=n,!F$(n)&&(r=Sp[(i=String(n)).toLowerCase()],r===void 0))throw new Ye(`Unknown adapter '${i}'`);if(r)break;o[i||"#"+a]=r}if(!r){const a=Object.entries(o).map(([s,l])=>`adapter ${s} `+(l===!1?"is not supported by the environment":"is not available in the build"));let i=t?a.length>1?`since :
`+a.map(U0).join(`
`):" "+U0(a[0]):"as no adapter specified";throw new Ye("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:Sp};function im(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new cs(null,e)}function K0(e){return im(e),e.headers=Ir.from(e.headers),e.data=am.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),T2.getAdapter(e.adapter||qy.adapter)(e).then(function(r){return im(e),r.data=am.call(e,e.transformResponse,r),r.headers=Ir.from(r.headers),r},function(r){return x2(r)||(im(e),r&&r.response&&(r.response.data=am.call(e,e.transformResponse,r.response),r.response.headers=Ir.from(r.response.headers))),Promise.reject(r)})}const N2="1.7.9",md={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{md[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const X0={};md.transitional=function(t,n,r){function o(a,i){return"[Axios v"+N2+"] Transitional option '"+a+"'"+i+(r?". "+r:"")}return(a,i,s)=>{if(t===!1)throw new Ye(o(i," has been removed"+(n?" in "+n:"")),Ye.ERR_DEPRECATED);return n&&!X0[i]&&(X0[i]=!0,console.warn(o(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,i,s):!0}};md.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function V$(e,t,n){if(typeof e!="object")throw new Ye("options must be an object",Ye.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const a=r[o],i=t[a];if(i){const s=e[a],l=s===void 0||i(s,a,e);if(l!==!0)throw new Ye("option "+a+" must be "+l,Ye.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ye("Unknown option "+a,Ye.ERR_BAD_OPTION)}}const uu={assertOptions:V$,validators:md},Rr=uu.validators;class oh{constructor(t){this.defaults=t,this.interceptors={request:new W0,response:new W0}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ga(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:a}=n;r!==void 0&&uu.assertOptions(r,{silentJSONParsing:Rr.transitional(Rr.boolean),forcedJSONParsing:Rr.transitional(Rr.boolean),clarifyTimeoutError:Rr.transitional(Rr.boolean)},!1),o!=null&&(se.isFunction(o)?n.paramsSerializer={serialize:o}:uu.assertOptions(o,{encode:Rr.function,serialize:Rr.function},!0)),uu.assertOptions(n,{baseUrl:Rr.spelling("baseURL"),withXsrfToken:Rr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=a&&se.merge(a.common,a[n.method]);a&&se.forEach(["delete","get","head","post","put","patch","common"],w=>{delete a[w]}),n.headers=Ir.concat(i,a);const s=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,s.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,h=0,d;if(!l){const w=[K0.bind(this),void 0];for(w.unshift.apply(w,s),w.push.apply(w,c),d=w.length,u=Promise.resolve(n);h<d;)u=u.then(w[h++],w[h++]);return u}d=s.length;let f=n;for(h=0;h<d;){const w=s[h++],m=s[h++];try{f=w(f)}catch(g){m.call(this,g);break}}try{u=K0.call(this,f)}catch(w){return Promise.reject(w)}for(h=0,d=c.length;h<d;)u=u.then(c[h++],c[h++]);return u}getUri(t){t=Ga(this.defaults,t);const n=I2(t.baseURL,t.url);return v2(n,t.params,t.paramsSerializer)}}se.forEach(["delete","get","head","options"],function(t){oh.prototype[t]=function(n,r){return this.request(Ga(r||{},{method:t,url:n,data:(r||{}).data}))}});se.forEach(["post","put","patch"],function(t){function n(r){return function(a,i,s){return this.request(Ga(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}oh.prototype[t]=n(),oh.prototype[t+"Form"]=n(!0)});const hu=oh;class Fy{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(o=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](o);r._listeners=null}),this.promise.then=o=>{let a;const i=new Promise(s=>{r.subscribe(s),a=s}).then(o);return i.cancel=function(){r.unsubscribe(a)},i},t(function(a,i,s){r.reason||(r.reason=new cs(a,i,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Fy(function(o){t=o}),cancel:t}}}const Y$=Fy;function J$(e){return function(n){return e.apply(null,n)}}function U$(e){return se.isObject(e)&&e.isAxiosError===!0}const Cp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cp).forEach(([e,t])=>{Cp[t]=e});const K$=Cp;function M2(e){const t=new hu(e),n=s2(hu.prototype.request,t);return se.extend(n,hu.prototype,t,{allOwnKeys:!0}),se.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return M2(Ga(e,o))},n}const Gt=M2(qy);Gt.Axios=hu;Gt.CanceledError=cs;Gt.CancelToken=Y$;Gt.isCancel=x2;Gt.VERSION=N2;Gt.toFormData=hd;Gt.AxiosError=Ye;Gt.Cancel=Gt.CanceledError;Gt.all=function(t){return Promise.all(t)};Gt.spread=J$;Gt.isAxiosError=U$;Gt.mergeConfig=Ga;Gt.AxiosHeaders=Ir;Gt.formToJSON=e=>k2(se.isHTMLForm(e)?new FormData(e):e);Gt.getAdapter=T2.getAdapter;Gt.HttpStatusCode=K$;Gt.default=Gt;const A2="http://127.0.0.1:5000";function X$(e){return new Promise((t,n)=>{const r=`${A2}/`+e;Gt.get(r).then(o=>{console.log("promise resolve: "+e,o),t(o.data)}).catch(o=>{console.log("promise reject: "+e),n(o)})})}function pd(e,t){return new Promise((n,r)=>{const o=`${A2}/`+e;Gt.post(o,t).then(a=>{console.log("promise resolve: "+e,a),n(a.data)}).catch(a=>{console.log("promise reject: "+e),r(a)})})}async function Q$(e,t,n,r){return pd("new_colors",{data:e,color_desc:t,palette_info:n,story_type:r})}async function Z$(e,t,n){return pd("new_yaxis",{data:e,yaxis_desc:t,story_type:n})}async function ej(e,t){return pd("ask_llm",{question:e,data:t})}async function tj(e,t){return pd("find_chapter_with_llm",{question:e,data:t})}async function nj(){return X$("status")}function rj(){const{themeView:e,characterColor:t,setCharacterColor:n,sidebarOpen:r,setSidebarOpen:o,sizeBy:a,setSizeBy:i,weightBy:s,setWeightBy:l,colorBy:c,setColorBy:u,scaleByLength:h,setScaleByLength:d,resetAll:f,showOverlay:w,setShowOverlay:m,chapterView:g,setModalOpened:p,setModalType:y,isBackendActive:b,setIsBackendActive:_,demoMode:x}=ct(),{resetActiveChapters:C,num_chapters:O,characterColorOptions:D,customColorDict:q}=pt(),J=()=>{o(!0)},K=()=>{o(!1)},B=[{value:"conflict",label:"conflict"},{value:"importance",label:"importance"},{value:"length",label:"length"},{value:"numChars",label:"# characters"},{value:"default",label:"default"}],Z=[{value:"conflict",label:"conflict"},{value:"sentiment",label:"sentiment"},{value:"importance",label:"importance"},{value:"length",label:"length"},{value:"numChars",label:"# characters"},{value:"default",label:"default"}];E.useEffect(()=>{c==="default"&&m(!1)},[c]);const M=(S="addColor")=>{y(S),p(!0)},$=async()=>{try{(await nj()).status==="ok"?(_(!0),console.log("Backend is active")):(_(!1),console.log("Backend is not active"))}catch{_(!1),console.log("Backend is not active")}};return E.useEffect(()=>{$()},[]),I.jsxs("div",{id:"sidebar",children:[I.jsxs(Fr,{position:"right",opened:r,onClose:K,title:(e?"Theme":"Character")+" / "+(g?"Chapter":"Scene")+" Settings",children:[I.jsxs(In,{multiple:!0,variant:"separated",defaultValue:["character","scene"],children:[I.jsxs(In.Item,{value:"character",children:[I.jsx(In.Control,{icon:e?"":"",children:e?"Themes":"Characters"}),I.jsx(In.Panel,{children:I.jsx("div",{className:"sidebar-settings",children:I.jsxs("div",{className:"options-inner "+(t!=="sentiment"&&t!=="importance"?"color":""),children:[I.jsxs("i",{className:"annotation",children:["Ribbon thickness = relative importance of"," ",e?"theme":"character"," in scene. Hover on a ribbon for more info. Click on a color square below to filter."]}),I.jsxs("div",{style:{marginBottom:"0.75rem"},children:[I.jsxs("div",{className:"two-col",style:{alignItems:"end"},children:[I.jsxs("div",{children:[I.jsx("span",{onClick:()=>M("deleteColor"),className:"delete-button "+(Object.keys(q).includes(t)?"":"disabled"),children:"delete"}),I.jsx(ro,{size:"xs",label:I.jsxs("span",{children:["Ribbon color",I.jsx(Ot,{label:`change what the color of each ${e?"theme":"character"} ribbon represents`})]}),data:D,value:t,onChange:S=>{S&&n(S)},searchable:!0})]}),I.jsx(nt,{size:"xs",variant:"gradient",gradient:{from:"#9c85c0",to:"#dd8047",deg:0},title:b?"Categorize by color":"Backend is not connected",disabled:!b,fullWidth:!0,onClick:()=>M(),children:"Categorize by color"})]}),I.jsx(L0,{fullWidth:!0,barType:t==="sentiment"||t==="importance"?t:"default"}),I.jsx(oH,{fullWidth:!0,gridType:t==="default"||t==="llm"||t==="group"||Object.keys(q).includes(t)?t:""})]}),I.jsx(yH,{inSidebar:!0})]})})})]},"character"),I.jsxs(In.Item,{value:"scene",children:[I.jsx(In.Control,{icon:"",children:g?"Chapters":"Scenes"}),I.jsx(In.Panel,{children:I.jsx("div",{className:"sidebar-settings",children:I.jsx("div",{className:"options-contain",children:I.jsxs("div",{className:"options-inner",children:[I.jsxs("i",{className:"annotation",children:["Hover on a ",g?"chapter":"scene"," in the plot for more info."]}),I.jsxs("div",{className:"two-col",style:{marginTop:"0.75rem"},children:[I.jsx(xr,{size:"xs",label:I.jsxs("span",{children:["Scale by length",I.jsx(Ot,{label:`adjust plot spacing based on ${g?"chapter":"scene"} length`})]}),labelPosition:"right",checked:h,onChange:S=>d(S.currentTarget.checked)}),I.jsx(xr,{size:"xs",label:I.jsxs("span",{children:["Show color bands",I.jsx(Ot,{label:`show ${c} bands at the bottom of plot`})]}),labelPosition:"right",disabled:c==="default",checked:w,onChange:S=>m(S.currentTarget.checked)})]}),I.jsxs("div",{className:"two-col margin-bottom margin-top",children:[I.jsx(ro,{size:"xs",label:I.jsxs("span",{children:["Font size",I.jsx(Ot,{label:`change what the size of each ${g?"chapter":"scene"} label represents`})]}),data:B,value:a,onChange:S=>{S&&i(S)}}),I.jsx(ro,{size:"xs",label:I.jsxs("span",{children:["Font weight",I.jsx(Ot,{label:`change what the weight of each ${g?"chapter":"scene"} label represents`})]}),data:B,value:s,onChange:S=>{S&&l(S)}})]}),I.jsx(ro,{size:"xs",label:I.jsxs("span",{children:["Color",I.jsx(Ot,{label:`change what the color of each ${g?"chapter":"scene"} label / band represents`})]}),data:Z,value:c,onChange:S=>{S&&u(S)}}),I.jsx("div",{className:"margin-bottom",children:I.jsx(L0,{barType:c})})]})})})})]},"scene")]}),I.jsx(nt,{size:"xs",fullWidth:!0,onClick:()=>{f(),C(O)},style:{marginTop:"1rem"},children:"Reset All"}),!x&&I.jsx(nt,{size:"xs",fullWidth:!0,onClick:()=>M("deleteStorage"),style:{marginTop:"0.5rem"},children:"Admin: Clear Local Storage"})]}),I.jsxs(nt,{size:"xs",onClick:J,variant:"outline",rightSection:I.jsx(wH,{}),style:{width:210},children:[e?"Theme":"Character"," /"," ",g?"Chapter":"Scene"," Settings"]})]})}function oj(){const{story:e,setStory:t,resetAll:n,setCharacterHover:r,setLocationHover:o,setSceneHover:a,setGroupHover:i,setCustomHover:s,setHidden:l,yAxis:c,setYAxis:u,fullHeight:h,setFullHeight:d,chapterView:f,setChapterView:w,themeView:m,setThemeView:g,setMinimized:p,detailView:y,setDetailView:b,chapterHover:_,setChapterHover:x,characterColor:C,setCharacterColor:O,isBackendActive:D,setModalOpened:q,setModalType:J,isUpdatingData:K,setIsUpdatingData:B,setAboutModalOpened:Z,setLinkHover:M,setNetworkHover:$,demoMode:S}=ct(),{data:H,setData:N,scenes:R,resetActiveChapters:V,num_chapters:W,yAxisOptions:oe,customYAxisOptions:le}=pt(),{plotHeight:Q}=Ln(),ce=["gatsby-new","gatsby-new-themes","alice-new","alice-new-themes","wizard-new","wizard-new-themes","pride-new","pride-new-themes","romeo-new","romeo-new-themes","anne-new","anne-new-themes","frankenstein-new","frankenstein-new-themes","threads-new","threads-new-themes","time-new","time-new-themes","whispers-new","whispers-new-themes","starlight-new","starlight-new-themes","bookstore-new","bookstore-new-themes","color-new","color-new-themes","emma-new","emma-new-themes","greatexp-new","greatexp-new-themes","hamlet-new","hamlet-new-themes","war-new","war-new-themes","trial-new","trial-new-themes","metamorphosis-new","metamorphosis-new-themes","littlewomen-new","littlewomen-new-themes","janeeyre-new","janeeyre-new-themes","pygmalion-new","pygmalion-new-themes"].sort(),Ee=ce.filter(we=>!we.includes("-themes")).map(we=>({label:we.replace("-new",""),value:we})),Te=oe.map(we=>we==="character"?{label:m?"themes":"character",value:we}:we==="character (stacked)"?{label:m?"themes (stacked)":"character (stacked)",value:we}:{label:we,value:we}),[ue,re]=E.useState(e),ae=async we=>{const je=`characterData-${e}`,Me=`sceneData-${e}`;let Fe=await tn.getItem(je).catch(Xe=>(console.error("Error loading character data",Xe),null));Fe&&(console.log("Using cached character data"),we.characters=Fe);let Ve=await tn.getItem(Me).catch(Xe=>(console.error("Error loading scene data",Xe),null));return Ve&&(console.log("Using cached scene data"),we.scenes=Ve),we},pe=async()=>{try{console.log("Loading story data from file");const we=await aM(Object.assign({"../../data/alice-new-themes.json":()=>ze(()=>import("./alice-new-themes-CnUF_l7F.js"),__vite__mapDeps([])),"../../data/alice-new.json":()=>ze(()=>import("./alice-new-Da4A3mjx.js"),__vite__mapDeps([])),"../../data/anne-new-themes.json":()=>ze(()=>import("./anne-new-themes-D45VNM-h.js"),__vite__mapDeps([])),"../../data/anne-new.json":()=>ze(()=>import("./anne-new-jVJTwW_-.js"),__vite__mapDeps([])),"../../data/bookstore-new-themes.json":()=>ze(()=>import("./bookstore-new-themes-BO3ZQeWm.js"),__vite__mapDeps([])),"../../data/bookstore-new.json":()=>ze(()=>import("./bookstore-new-Ba0hLexn.js"),__vite__mapDeps([])),"../../data/color-new-themes.json":()=>ze(()=>import("./color-new-themes-BYuHaFcN.js"),__vite__mapDeps([])),"../../data/color-new.json":()=>ze(()=>import("./color-new-CGr9v25K.js"),__vite__mapDeps([])),"../../data/emma-new-themes.json":()=>ze(()=>import("./emma-new-themes-WC7daH8w.js"),__vite__mapDeps([])),"../../data/emma-new.json":()=>ze(()=>import("./emma-new-Cl5m5ojd.js"),__vite__mapDeps([])),"../../data/frankenstein-new-themes.json":()=>ze(()=>import("./frankenstein-new-themes-BoLWsCBM.js"),__vite__mapDeps([])),"../../data/frankenstein-new.json":()=>ze(()=>import("./frankenstein-new-DMXo5ENy.js"),__vite__mapDeps([])),"../../data/gatsby-new-themes.json":()=>ze(()=>import("./gatsby-new-themes-DUIHSUFE.js"),__vite__mapDeps([])),"../../data/gatsby-new.json":()=>ze(()=>Promise.resolve().then(()=>z9),void 0),"../../data/greatexp-new-themes.json":()=>ze(()=>import("./greatexp-new-themes-x2bbhvwu.js"),__vite__mapDeps([])),"../../data/greatexp-new.json":()=>ze(()=>import("./greatexp-new-DLvNqdEa.js"),__vite__mapDeps([])),"../../data/hamlet-new-themes.json":()=>ze(()=>import("./hamlet-new-themes-Dov46Zeb.js"),__vite__mapDeps([])),"../../data/hamlet-new.json":()=>ze(()=>import("./hamlet-new-CQ-f234A.js"),__vite__mapDeps([])),"../../data/janeeyre-new-themes.json":()=>ze(()=>import("./janeeyre-new-themes-D65WO-S4.js"),__vite__mapDeps([])),"../../data/janeeyre-new.json":()=>ze(()=>import("./janeeyre-new-zjWHsQUm.js"),__vite__mapDeps([])),"../../data/littlewomen-new-themes.json":()=>ze(()=>import("./littlewomen-new-themes-DMlMUT60.js"),__vite__mapDeps([])),"../../data/littlewomen-new.json":()=>ze(()=>import("./littlewomen-new-BxAzwih1.js"),__vite__mapDeps([])),"../../data/metamorphosis-new-themes.json":()=>ze(()=>import("./metamorphosis-new-themes-DsfQN4Ce.js"),__vite__mapDeps([])),"../../data/metamorphosis-new.json":()=>ze(()=>import("./metamorphosis-new-uDHxPuiK.js"),__vite__mapDeps([])),"../../data/pride-new-themes.json":()=>ze(()=>import("./pride-new-themes-D_VSR-U2.js"),__vite__mapDeps([])),"../../data/pride-new.json":()=>ze(()=>import("./pride-new-D9QLu1RE.js"),__vite__mapDeps([])),"../../data/pygmalion-new-themes.json":()=>ze(()=>import("./pygmalion-new-themes-oyrkI9-A.js"),__vite__mapDeps([])),"../../data/pygmalion-new.json":()=>ze(()=>import("./pygmalion-new-Bx4U-SqW.js"),__vite__mapDeps([])),"../../data/romeo-new-themes.json":()=>ze(()=>import("./romeo-new-themes-DEoP-tVE.js"),__vite__mapDeps([])),"../../data/romeo-new.json":()=>ze(()=>import("./romeo-new-Cs2dupXG.js"),__vite__mapDeps([])),"../../data/starlight-new-themes.json":()=>ze(()=>import("./starlight-new-themes-NE_boM02.js"),__vite__mapDeps([])),"../../data/starlight-new.json":()=>ze(()=>import("./starlight-new-dvQ4TLI4.js"),__vite__mapDeps([])),"../../data/threads-new-themes.json":()=>ze(()=>import("./threads-new-themes-BpuqiMgX.js"),__vite__mapDeps([])),"../../data/threads-new.json":()=>ze(()=>import("./threads-new-CqpFOSvW.js"),__vite__mapDeps([])),"../../data/time-new-themes.json":()=>ze(()=>import("./time-new-themes-C4Kxm7mJ.js"),__vite__mapDeps([])),"../../data/time-new.json":()=>ze(()=>import("./time-new-RzP6AOg5.js"),__vite__mapDeps([])),"../../data/trial-new-themes.json":()=>ze(()=>import("./trial-new-themes-DBhpSBdp.js"),__vite__mapDeps([])),"../../data/trial-new.json":()=>ze(()=>import("./trial-new-uLLkZqba.js"),__vite__mapDeps([])),"../../data/war-new-themes.json":()=>ze(()=>import("./war-new-themes-BW6fL8Jy.js"),__vite__mapDeps([])),"../../data/war-new.json":()=>ze(()=>import("./war-new-BpCjMlr5.js"),__vite__mapDeps([])),"../../data/whispers-new-themes.json":()=>ze(()=>import("./whispers-new-themes-BXGDrTjp.js"),__vite__mapDeps([])),"../../data/whispers-new.json":()=>ze(()=>import("./whispers-new-BFU31CCM.js"),__vite__mapDeps([])),"../../data/wizard-new-themes.json":()=>ze(()=>import("./wizard-new-themes-D3Z5MkEQ.js"),__vite__mapDeps([])),"../../data/wizard-new.json":()=>ze(()=>import("./wizard-new-DsBzb2K6.js"),__vite__mapDeps([]))}),`../../data/${e}.json`),je=await ae(we.default);K||await he(je)}catch(we){console.error("Error loading story data",we)}},he=async we=>{if(!K){B(!0);try{let je=!1;const Me=C9(e,ue);we.chapters&&we.chapters.length>0&&(!Me||Me&&f)&&(je=!0),!je&&y&&!Me&&b(!1),m&&!e.includes("-themes")&&!ce.includes(e+"-themes")&&g(!1);let Fe="";_!==""&&(!we.chapters||we.chapters&&!we.chapters.some(at=>at.chapter===_))?x(""):_!==""&&!f&&y&&(Fe=_),N(we,e,je,Fe,Me&&e===ue),w(je),l([]),p([]),o(""),r(""),a(""),i(""),s(""),M([]),$("");const Ve=`colorDict-${e}`;let Xe=await tn.getItem(Ve).catch(at=>(console.error("Error loading colors",at),null)),He=[...nd];if(Xe){const at=Object.keys(Xe).filter(Ht=>!He.includes(Ht));He=[...He,...at]}He.includes(C)||O("llm");const Le=`yAxis-${e}`;let Ct=await tn.getItem(Le).catch(at=>(console.error("Error loading y-axis",at),null)),Ge=[...id];if(Ct){const at=Ct.filter(Ht=>!Ge.includes(Ht));Ge=[...Ge,...at]}Ge.includes(c)||(console.log("Resetting y-axis to default"),u("location")),Me||(x(""),re(e))}finally{B(!1)}}},ie=async we=>{const je=await ae(H);N(je,e,f,we,!0)};E.useEffect(()=>{m&&!e.includes("-themes")&&ce.includes(e+"-themes")&&t(e+"-themes"),K||pe()},[e,f]),E.useEffect(()=>{let we="";y&&_!==""&&!f&&(we=_),K||ie(we)},[f,y,_]),E.useEffect(()=>{t(m?e+"-themes":e.replace("-themes",""))},[m]),E.useEffect(()=>{!y&&_!==""&&x("")},[y]);const ye=(we="addY")=>{J(we),q(!0)};return I.jsx("div",{id:"options",children:I.jsxs("div",{className:"options-contain",children:[I.jsxs("div",{style:{display:S?"none":"flex",justifyContent:"space-between"},children:[I.jsx("b",{children:"Visualization Settings"}),I.jsxs("b",{children:[I.jsx("span",{className:"link",onClick:()=>Z(!0),title:"About Story Ribbons",children:" About Story Ribbons"}),I.jsx(Vi,{orientation:"vertical",style:{display:"inline",margin:"0 0.5rem"}}),I.jsx("a",{href:"https://github.com/catherinesyeh/story-viz",target:"_blank",className:"link",title:"Github Repo",children:" Github Repo"})]})]}),I.jsxs("div",{className:"options-inner",children:[I.jsx(xr,{size:"xs",label:I.jsxs("span",{children:["Full height",I.jsx(Ot,{label:"false = show all scenes at once"})]}),labelPosition:"left",checked:h,disabled:R.length<24&&Q<800||f&&e.includes("-themes")&&(c==="sentiment"||c.includes("stacked")),onChange:we=>d(we.currentTarget.checked)}),I.jsx(xr,{size:"xs",label:I.jsxs("span",{children:[(f?"Chapter":"Scene")+" view",I.jsx(Ot,{label:"explore chapters or scenes"})]}),labelPosition:"left",checked:f,disabled:!e.includes("-new")||y&&_==="",onChange:we=>w(we.currentTarget.checked),style:{width:101}}),I.jsx(xr,{size:"xs",label:I.jsxs("span",{children:[(m?"Theme":"Character")+" view",I.jsx(Ot,{label:"visualize characters or themes"})]}),labelPosition:"left",checked:m,disabled:!e.includes("-themes")&&!ce.includes(e+"-themes"),onChange:we=>g(we.currentTarget.checked),style:{width:112}}),I.jsx(ro,{size:"xs",data:Ee,label:I.jsxs("span",{children:["Story",I.jsx(Ot,{label:"change the story being visualized"})]}),value:e,onChange:we=>{we&&t(we)},searchable:!0}),I.jsxs("div",{style:{position:"relative"},children:[I.jsx("span",{onClick:()=>ye("deleteYAxis"),className:"delete-button y-axis "+(le.includes(c)?"":"disabled"),children:"delete"}),I.jsx(ro,{size:"xs",data:Te,label:I.jsxs("span",{children:["Y-axis",I.jsx(Ot,{label:"change what the y-axis represents"+(f&&c==="importance"?"; importance is determined by # of scenes":"")})]}),value:c,onChange:we=>{we&&u(we)},searchable:!0})]}),I.jsx(nt,{size:"xs",variant:"gradient",gradient:{from:"#9c85c0",to:"#dd8047",deg:0},title:D?"Rank by trait":"Backend is not connected",disabled:!D,onClick:()=>ye(),children:"Rank by trait"}),I.jsx(Vi,{orientation:"vertical"}),I.jsx(nt,{size:"xs",onClick:()=>{n(),V(W)},children:"Reset All"}),I.jsx(rj,{})]})]})})}function aj(){const{characterColor:e}=ct(),{scenePos:t,sceneWidth:n}=Ln(),{characterScenes:r,sortedCharacters:o,scene_data:a,chapterDivisions:i,activeChapters:s,character_data:l,customColorDict:c}=pt(),u=i&&i.filter((p,y)=>y>=s[0]-1&&y<s[1]),h=u[0],d=h&&h.index,f=u[u.length-1],w=f&&f.index+f.scenes.length,m=o.map(p=>p.group),g=[...new Set(m)];return I.jsxs("defs",{children:[I.jsxs("g",{id:"gradients",children:[r.map((p,y)=>{var D;const b=p.scenes,_=(D=o.find(q=>q.character===p.character))==null?void 0:D.group,x=[];let C=[];b.forEach((q,J)=>{C.push(q);const K=b[J+1];(K-q>1||K===void 0)&&(x.push(C),C=[])});const O=x.map(q=>q.filter(J=>J>=d&&J<w));return O.map((q,J)=>{var Xe,He;if(q.length===0)return null;const K=x[J],B=q[0],Z=q[q.length-1],M=K[0],$=K[K.length-1],S=t[$]&&t[M]?t[$].x-t[M].x+n/3*2:0,H=n/S/3,N=H*100,V=(t[B]&&t[M]?(t[B].x-t[M].x)/S+H:0)*100,le=100-(t[Z]&&t[$]?(t[$].x-t[Z].x)/S+H:0)*100,Q=xo(p.character,o),ce=ss(p.character,o)||Q,ge=_?zr(_,g):Q,Ee=a[B]&&a[B].characters.find(Le=>Le.name===p.character),Te=a[Z]&&a[Z].characters.find(Le=>Le.name===p.character),ue=(Xe=a[B])==null?void 0:Xe.characters.length,re=Ee==null?void 0:Ee.rating;let ae=Ee==null?void 0:Ee.importance;ae=su(ae,ue);const pe=Ue(wr(re)).css(),he=Ue(vr(ae)).css(),ie=(He=a[Z])==null?void 0:He.characters.length,ye=Te==null?void 0:Te.rating;let we=Te==null?void 0:Te.importance;we=su(we,ie);const je=Ue(wr(ye)).css(),Me=Ue(vr(we)).css(),Fe=e==="default"?Q:e==="llm"?ce:e==="group"?ge:e==="sentiment"?pe:Object.keys(c).includes(e)?tr(c[e],l,p.character,e):he,Ve=e==="default"?Q:e==="llm"?ce:e==="group"?ge:e==="sentiment"?je:Object.keys(c).includes(e)?tr(c[e],l,p.character,e):Me;return I.jsxs("linearGradient",{id:`linear-${y}-${J}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[q.length>0&&I.jsxs(I.Fragment,{children:[I.jsx("stop",{offset:V-N+"%",stopColor:J===0&&M===B?Fe:"rgb(255,255,255, 1)"}),I.jsx("stop",{offset:V+"%",stopColor:Fe})]}),q.flatMap((Le,Ct)=>{var Bt;const Ge=a[Le].characters.find(Jn=>Jn.name===p.character),at=(Bt=a[Le])==null?void 0:Bt.characters.length,Ht=Ge==null?void 0:Ge.rating;let kn=Ge==null?void 0:Ge.importance;kn=su(kn,at);const Jr=Ue(wr(Ht)).css(),Ar=Ue(vr(kn)).css(),Ur=e==="default"?Q:e==="llm"?ce:e==="group"?ge:e==="sentiment"?Jr:Object.keys(c).includes(e)?tr(c[e],l,p.character,e):Ar,gt=(t[Le]&&t[B]?(t[Le].x-t[M].x+.75*n)/S:0)*100;return[I.jsx("stop",{offset:`${gt-N}%`,stopColor:Ur},`segment-stop-start-${y}-${Ct}`)]}),q.length>0&&I.jsxs(I.Fragment,{children:[I.jsx("stop",{offset:le+"%",stopColor:Ve}),I.jsx("stop",{offset:le+N+"%",stopColor:J===O.length-1&&$===Z?Ve:"rgb(255,255,255,1)"})]})]},`linear-${y}-${J}`)})}),Object.keys(N0).map((p,y)=>{const b=N0[p],_=p==="sentiment"?wr:p==="conflict"?rd:p==="importance"?vr:p==="numChars"?ad:od,x=b[0],C=b[b.length-1],O=b.map(J=>(J-x)/(C-x)*100);let D;(p==="sentiment"||p==="importance")&&(D=I.jsx("linearGradient",{id:"vert-legend"+p,x1:"0%",y1:"100%",x2:"0%",y2:"0%",children:b.map((J,K)=>I.jsx("stop",{offset:`${O[K]}%`,stopColor:Ue(_(J)).css()},"vert-legend stop"+p+K))},"vert-legend"+p));const q=I.jsx("linearGradient",{id:"legend"+p,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:b.map((J,K)=>I.jsx("stop",{offset:`${O[K]}%`,stopColor:Ue(_(J)).css()},"legend stop"+p+K))},"legend"+p);return D?[D,q]:[q]})]}),I.jsx("marker",{id:"head",orient:"auto",markerWidth:"6",markerHeight:"6",refX:"0.1",refY:"3",children:I.jsx("path",{d:"M0,0 V6 L4.5,3 Z",fill:"#000000"})})]})}function ij(){const{sceneHover:e,setSceneHover:t,locationHover:n,characterHover:r,setCharacterHover:o,characterColor:a,hidden:i,yAxis:s,showChapters:l,fullHeight:c,story:u,groupHover:h,customHover:d,chapterView:f,detailView:w,chapterHover:m,setChapterHover:g,setDetailView:p,linkHover:y,verboseMode:b,setVerboseMode:_}=ct(),{sceneBoxes:x,characterPaths:C,characterPos:O,characterSquares:D,firstPoints:q,lastPoints:J,scenePos:K,plotHeight:B}=Ln(),{scene_data:Z,sceneCharacters:M,sceneLocations:$,characterScenes:S,scenes:H,sortedCharacters:N,activeChapters:R,chapterDivisions:V,customColorDict:W,character_data:oe,customYAxisOptions:le}=pt(),Q=V.filter((ie,ye)=>ye>=R[0]-1&&ye<R[1]),ce=Q[Q.length-1],ge=Q[0],Ee=ge&&ge.index,Te=ce&&ce.index+ce.scenes.length,ue=M.filter((ie,ye)=>ye>=Ee&&ye<Te&&x[ye]),re=x.filter((ie,ye)=>ye>=Ee&&ye<Te),ae=N.map(ie=>ie.group),pe=[...new Set(ae)],he=ie=>{if(f){const ye=Z.find(we=>we.name===ie);ye&&(m===""&&!w&&p(!0),ye.name!==m?g(ye.name):(g(""),w&&p(!1)))}else _(!b)};return I.jsxs("g",{id:"main-plot",children:[I.jsx("g",{id:"scene-box-fills",children:M.map((ie,ye)=>x[ye]&&I.jsx("rect",{className:"scene-box-fill "+(n===$[ye]||e===ie.scene||ie.characters.includes(r)||ie.groups.includes(h)||d!==""&&Uo(ie.characters,oe,a,d)?"highlight":""),x:x[ye].x,y:x[ye].y,width:x[ye].width,height:x[ye].height,fillOpacity:0,fill:"white"},"scenegroup fill"+ye))}),I.jsx("g",{id:"character-paths",children:S.map((ie,ye)=>{var Ar,Ur,_o;const we=ie.scenes,je=(Ar=N.find(gt=>gt.character===ie.character))==null?void 0:Ar.group,Me=we&&we.filter(gt=>gt>=Ee&&gt<Te),Fe=Me.map(gt=>we.indexOf(gt)),Ve=Me[0],Xe=Me[Me.length-1],He=Fe&&D[ye]&&Fe.map(gt=>D[ye][gt]),Le=Fe&&D[ye]&&Fe.map(gt=>O[ye][gt]),Ct=xo(ie.character,N),Ge=ss(ie.character,N)||Ct,at=je?zr(je,pe):Ct,Ht={x:K[Ve]&&K[Ve].x,y:q[ye]&&q[ye].y},kn={x:K[Xe]&&K[Xe].x,y:J[ye]&&J[ye].y},Jr=a==="llm"?Ge:a==="default"?Ct:a==="group"?at:Object.keys(W).includes(a)?tr(W[a],oe,ie.character,a):"gray";return I.jsxs("g",{className:"character-path "+ie.character+" "+(i.includes(ie.character)?"hidden":"")+" "+(r!==""&&r!==ie.character||y.length>0&&!y.includes(ie.character)||h!==""&&h!==je||d!==""&&!tl(oe,ie.character,a,d)?"faded":""),children:[s.includes("character")&&!s.includes("#")&&!le.includes(s)&&C.length>1&&I.jsx("line",{x1:Ht&&Ht.x,x2:kn&&kn.x,y1:Ht&&Ht.y,y2:kn&&kn.y,strokeOpacity:.1,stroke:Jr,strokeWidth:"4",strokeDasharray:"12",className:"dashed-lines "+(i.includes(ie.character)?"hidden ":"")+(n!==""||e!==""||r!==""&&r!==ie.character||y.length>0&&!y.includes(ie.character)||h!==""&&h!==je||d!==""&&!tl(oe,ie.character,a,d)?"faded":"")}),I.jsx("g",{fillOpacity:.7,strokeOpacity:.5,className:"path-group "+(n!==""||e!==""||r!==""&&r!==ie.character||y.length>0&&!y.includes(ie.character)||h!==""&&h!==je||d!==""&&!tl(oe,ie.character,a,d)?"faded":""),children:C[ye]&&C[ye].map((gt,Bt)=>I.jsx("path",{d:gt,fill:"url(#linear-"+ye+"-"+Bt+")",stroke:"url(#linear-"+ye+"-"+Bt+")",strokeWidth:1.5,paintOrder:"stroke",onMouseEnter:()=>o(ie.character),onMouseLeave:()=>o("")},"charpath"+Bt))}),I.jsx("g",{className:"character-squares",children:He&&Me.map((gt,Bt)=>{var Ya;const Jn=Z[gt].characters.find(ds=>ds.name===ie.character),us=(Ya=Z[gt])==null?void 0:Ya.characters.length,Io=Jn==null?void 0:Jn.rating;let Dr=Jn==null?void 0:Jn.importance;Dr=su(Dr,us);const hs=Ue(wr(Io)).css(),Un=Ue(vr(Dr)).css();return He[Bt]&&I.jsx("rect",{x:He[Bt].x,y:He[Bt].y,width:He[Bt].width,height:He[Bt].height,stroke:"white",strokeWidth:$y(Dr*qe)/2.5,paintOrder:"stroke",fill:a==="default"?Ct:a==="llm"?Ge:a==="group"?at:a==="sentiment"?hs:Object.keys(W).includes(a)?tr(W[a],oe,ie.character,a):Un,className:"character-square "+(n===""&&e===""||n===$[gt]||H.indexOf(e)===gt?"":"faded")},"charsq"+Bt)})}),I.jsx("g",{className:"char-name-label "+(e!==""&&!ie.scenes.includes(H.indexOf(e))||n!==""&&!ie.locations.includes(n)?"faded":""),onMouseEnter:()=>o(ie.character),onMouseLeave:()=>o(""),children:Le&&Le[0]&&I.jsx("text",{x:Ve===0?Le[0].x+1.5*qe:Le[0].x-qe/2,y:Ve===0?Le[0].y+.9*qe:Le[0].y+.8*qe,textAnchor:Ve===0?"start":"end",fill:a==="llm"?Ge:a==="group"?at:Object.keys(W).includes(a)?tr(W[a],oe,ie.character,a):Ct,paintOrder:"stroke",stroke:"rgb(255,255,255,0.8)",strokeWidth:4,className:"character-name",children:(Ur=N.find(gt=>gt.character===ie.character))!=null&&Ur.short?(_o=N.find(gt=>gt.character===ie.character))==null?void 0:_o.short:ie.character})})]},"chargroup"+ye)})}),I.jsx("g",{id:"scene-boxes",children:ue.map((ie,ye)=>re[ye]&&I.jsx("rect",{className:"scene-box "+(n===$[ye]||e===ie.scene||ie.characters.includes(r)||ie.groups.includes(h)||d!==""&&Uo(ie.characters,oe,a,d)?"highlight":"")+(m===ie.scene?" frozen":""),x:re[ye].x,y:re[ye].y,width:re[ye].width,height:re[ye].height,fillOpacity:0,strokeOpacity:0,strokeDasharray:m===ie.scene?"4":"0",stroke:"rgb(0,0,0,0.7)",strokeWidth:2,onMouseEnter:()=>t(ie.scene),onMouseLeave:()=>t(""),onClick:()=>he(ie.scene)},"scenegroup"+ye))}),I.jsx("g",{id:"chapter-lines",children:Q&&Q.length>0&&Q[0].chapter&&Q.map((ie,ye)=>{const we=K[ie.index],je=we&&we.x-Je;return I.jsx("line",{x1:je,x2:je,y1:0,y2:B,stroke:"rgb(0,0,0,0.7)",strokeWidth:2,strokeDasharray:u.includes("-new")&&!c?"4":"8",className:"chapterline "+(l?"":"hidden ")+(n===""&&e===""&&r===""&&y.length===0&&h===""&&d===""||ie.locations.includes(n)||ie.scenes.includes(e)||ie.characters.includes(r)||ie.characters.some(Me=>y.includes(Me))||ie.groups.includes(h)||d!==""&&Uo(ie.characters,oe,a,d)?"":"faded")},"chapterline"+ye)})})]})}function sj(){const{showOverlay:e,sceneHover:t,locationHover:n,characterHover:r,colorBy:o,groupHover:a,customHover:i,characterColor:s,setSceneHover:l,linkHover:c,chapterHover:u,setChapterHover:h,detailView:d,chapterView:f,setDetailView:w,verboseMode:m,setVerboseMode:g}=ct(),{scenePos:p}=Ln(),{scene_data:y,minLines:b,maxLines:_,sceneCharacters:x,character_data:C,activeChapters:O,chapterDivisions:D}=pt(),q=Math.max(...x.map(S=>S.characters.length)),J=Math.min(...x.map(S=>S.characters.length)),K=D&&D.filter((S,H)=>H>=O[0]-1&&H<O[1]),B=K[K.length-1],Z=B&&B.scenes&&B.scenes.length,M=y.slice(K[0]&&K[0].index,K[K.length-1]&&K[K.length-1].index+Z),$=S=>{if(f){const H=y.find(N=>N.name===S);H&&(u===""&&!d&&w(!0),H.name!==u?h(H.name):(h(""),d&&w(!1)))}else g(!m)};return I.jsx("g",{id:"conflict-container",children:I.jsx("g",{id:"conflict-curve",className:e?"highlight":"",children:M.map((S,H)=>{const N=S.ratings,R=zt(S.numLines,b,_,0,1),V=zt(S.characters.length,J,q,0,1),W=y.indexOf(S),oe=o==="default"?"black":o==="sentiment"?Ue(wr(N==null?void 0:N.sentiment)).css():o==="conflict"?Ue(rd(N==null?void 0:N.conflict)).css():o==="importance"?Ue(vr(N==null?void 0:N.importance)).css():o==="numChars"?Ue(ad(V)).css():Ue(od(R)).css();let le=p[W]&&p[W].x;le-=W==0?1.25*Je:.5*(p[W]&&p[W-1]&&p[W].x-p[W-1].x);let Q=p[W]&&p[W].x;return Q+=W==p.length-1?1.25*Je:.5*(p[W+1]&&p[W]&&p[W+1].x-p[W].x),I.jsx("rect",{className:"conflict-rect "+(e?"":"hide ")+(n===""&&t===""&&r===""&&c.length===0&&a===""&&i===""||n===S.location||t===S.name||x[H].characters.includes(r)||x[H].characters.filter(ce=>c.includes(ce)).length>0||x[H].groups.includes(a)||Uo(x[H].characters,C,s,i)?"":"faded"),x:le,y:Je-.5*qe,width:Q-le,height:Je,fill:o==="default"?"#ddd":oe,onMouseEnter:()=>{l(S.name)},onMouseLeave:()=>{l("")},onClick:()=>{$(S.name)}},H)})})})}function lj(){var ge,Ee,Te;const{scenes:e,sceneLocations:t,sceneCharacters:n,scene_data:r,sceneChunks:o,minLines:a,maxLines:i,chapterDivisions:s,activeChapters:l,character_data:c}=pt(),{locationHover:u,sceneHover:h,characterHover:d,setSceneHover:f,sizeBy:w,colorBy:m,weightBy:g,showOverlay:p,showChapters:y,groupHover:b,customHover:_,chapterHover:x,setChapterHover:C,chapterView:O,detailView:D,setDetailView:q,characterColor:J,linkHover:K,verboseMode:B,setVerboseMode:Z}=ct(),{scenePos:M}=Ln(),$=s&&s.filter((ue,re)=>re>=l[0]-1&&re<l[1]),S=$[$.length-1],H=S&&S.scenes&&S.scenes.length,N=e.slice($[0]&&$[0].index,$[$.length-1]&&$[$.length-1].index+H),R=M.slice($[0]&&$[0].index,$[$.length-1]&&$[$.length-1].index+H),V=o.slice($[0]&&$[0].index,$[$.length-1]&&$[$.length-1].index+H),W=r.slice($[0]&&$[0].index,$[$.length-1]&&$[$.length-1].index+H),oe=24,le=Math.max(...n.map(ue=>ue.characters.length)),Q=Math.min(...n.map(ue=>ue.characters.length)),ce=ue=>{if(O){const re=r.find(ae=>ae.name===ue);re&&(x===""&&!D&&q(!0),re.name!==x?C(re.name):(C(""),D&&q(!1)))}else Z(!B)};return I.jsxs("g",{id:"x-axis",transform:"translate(0 "+.25*Je+")",children:[I.jsxs("g",{id:"scenes",children:[$&&$.length>0&&$.map((ue,re)=>{let ae=ue.chapter;ae&&(ae=_r(ae));const pe=M[ue.index],he=w==="default"?40:60;return pe&&ae&&I.jsxs("g",{transform:"rotate(45,"+(pe.x-2*Je)+", "+$t*2+")",className:"chapter-line-group "+(y?"":"hidden ")+(u===""&&h===""&&d===""&&K.length===0&&b===""&&_===""||ue.locations.includes(u)||ue.scenes.includes(h)||ue.characters.includes(d)||ue.characters.filter(ie=>K.includes(ie)).length>0||ue.groups.includes(b)||_!==""&&Uo(ue.characters,c,J,_)?"":"faded"),children:[I.jsx("line",{x1:pe.x-2*Je,x2:pe.x-2*Je,y1:$t*2-$t,y2:$t*2+he,stroke:"black",strokeWidth:"2",className:"chapter-line"}),I.jsx("text",{x:pe.x-1.75*Je,y:$t*2+he+5,textAnchor:"end",fill:"black",fontWeight:"bold",className:"chapter-label",transform:"rotate(-90,"+(pe.x-1.75*Je)+", "+($t*2+he+5)+")",fontSize:"smaller",children:Zu(ae)?ae.length>oe?ae.slice(0,oe)+"...":ae:"Ch. "+(ae.length>oe?ae.slice(0,oe-4)+"...":ae)})]},"chapter"+re)}),N.map((ue,re)=>I.jsx("g",{className:"scene-name "+(u===""&&h===""&&d===""&&K.length===0&&b===""&&_===""||u===t[re]||h===ue||n[re].characters.includes(d)||n[re].characters.filter(ae=>K.includes(ae)).length>0||n[re].groups.includes(b)||_!==""&&Uo(n[re].characters,c,J,_)?"":"faded"),children:V[re].map((ae,pe)=>{const he=W[re].ratings,ie=zt(W[re].numLines,a,i,0,1),ye=zt(W[re].characters.length,Q,le,0,1),we=w==="default"?1.5:$c(w==="conflict"?he==null?void 0:he.conflict:w==="importance"?he==null?void 0:he.importance:w==="numChars"?ye:ie);let je=w==="default"?.8:w==="conflict"?Hc(he==null?void 0:he.conflict)+((he==null?void 0:he.conflict)>=.66?.2:0):w==="importance"?Hc(he==null?void 0:he.importance)+((he==null?void 0:he.conflict)>=.66?.2:0):w==="numChars"?Hc(ye)+((he==null?void 0:he.conflict)>=.66?.2:0):Hc(ie)+((he==null?void 0:he.conflict)>=.66?.2:0);y&&(je=je/2);let Me=m==="default"?"black":m==="sentiment"?Ue(wr(he==null?void 0:he.sentiment)).css():m==="conflict"?Ue(rd(he==null?void 0:he.conflict)).css():m==="importance"?Ue(vr(he==null?void 0:he.importance)).css():m==="numChars"?Ue(ad(ye)).css():Ue(od(ie)).css();y&&(Me=Me.replace(")",", 0.5)"));const Fe=g==="importance"?jc(he==null?void 0:he.importance):g==="conflict"?jc(he==null?void 0:he.conflict):g==="length"?jc(ie):g==="numChars"?jc(ye):500;return R[re]&&I.jsxs("text",{x:R[re].x+pe*Je*we*(y?.6:1),y:$t*2+.25*qe,textAnchor:"end",fill:Me,className:"scene-name-text "+(x===ue?"frozen":""),fontSize:"calc("+je+"rem + 0.1vw)",fontWeight:Fe,fontFamily:b9,transform:"rotate(-45,"+(R[re].x+pe*Je*we*(y?.6:1))+", "+($t*2+.25*qe)+")",onMouseEnter:()=>f(ue),onMouseLeave:()=>f(""),onClick:()=>ce(ue),children:[x===ue&&" ",ae]},"scene"+re+pe)})},"scene-group"+re))]}),I.jsxs("g",{id:"time-arrow",children:[I.jsx("path",{id:"arrow-line",markerEnd:"url(#head)",strokeWidth:"2",stroke:"black",d:`M${M[0]&&M[0].x-1.25*Je},${$t*2-.75*$t}, ${M[M.length-1]&&M[M.length-1].x+1.25*Je},${$t*2-.75*$t}`}),I.jsx("text",{x:M[0]&&M[0].x-.75*Je,y:$t,textAnchor:"start",fill:!p||m==="default"||l[0]>1?"black":m==="conflict"?Ls((ge=r[0].ratings)==null?void 0:ge.conflict,!1):m==="sentiment"?Ls((Ee=r[0].ratings)==null?void 0:Ee.sentiment,!0):Ls(m==="importance"?(Te=r[0].ratings)==null?void 0:Te.importance:m==="# characters"?zt(r[0].characters.length,Q,le,0,1):zt(r[0].numLines,a,i,0,1),!1),className:"time-label ",children:"Time"})]})]})}function cj(){const{plotWidth:e,plotHeight:t}=Ln(),{story:n,yAxis:r,fullHeight:o,yAxisHeight:a,storyScrollX:i,setStoryScrollX:s,chapterView:l,storyMarginTop:c,detailView:u}=ct(),h=t<Xt?1:a/t,d=n.includes("-new")&&!o&&!l&&(r==="location"||r==="character")?160*h:r==="location"||r==="character"?140:20;E.useEffect(()=>{if(document){const w=document.getElementById("x-axis-outer");w&&w.scrollTo({left:i})}},[i]),E.useEffect(()=>{if(document){const w=document.getElementById("x-axis-outer");w&&(w.style.setProperty("--extra-left-width",`calc(${d}px + 1rem)`),w.classList.add("extra-left"))}},[d]);const f=w=>{const m=w.scrollLeft;s(m)};return I.jsx("div",{id:"x-axis-outer",className:u?"extra-left":"",style:{paddingLeft:`calc(${d}px - 1rem)`,width:`calc(100% - 3rem - ${u?Jo:0}px)`,bottom:o||window&&t*h>window.innerHeight-c-(n.includes("-new")&&!l?150:250)?$t*2.5-qe+(n.includes("-new")&&!l?40:0):void 0},onScroll:w=>{f(w.currentTarget)},children:I.jsxs("svg",{id:"story",width:u&&!o?e<Jo?e:`calc(100% + ${Jo}px)`:o?e*h:"100%",viewBox:`0 0 ${e} ${Xt*2.5-qe+Je}`,preserveAspectRatio:"xMidYMid meet",children:[I.jsx(sj,{}),I.jsx(lj,{})]})})}function uj(){const{plotWidth:e,plotHeight:t,scenePos:n}=Ln(),{locations:r,scene_data:o}=pt(),{fullHeight:a,yAxis:i,setYAxisHeight:s,setXAxisWidth:l,setStoryScroll:c,storyScroll:u,setStoryScrollX:h,detailView:d}=ct(),f=E.useRef(null),w=()=>{if(f.current){const g=f.current.getBoundingClientRect().height,p=f.current.getBoundingClientRect().width;s(g),l(p),c(0),h(0)}},m=()=>{if(window){const g=window.scrollY;c(g)}};return E.useEffect(()=>{window&&window.scrollTo(0,u)},[u]),E.useEffect(()=>(window.addEventListener("resize",w),window.addEventListener("scroll",m),()=>{window.removeEventListener("resize",w),window.removeEventListener("scroll",m)}),[]),E.useEffect(()=>{o&&n&&w()},[o,n,a]),I.jsxs("div",{children:[I.jsxs("svg",{id:"story",ref:f,height:d&&t<Xt?Xt:a?i==="location"&&t>800?`${800+(r.length-8)*50}px`:i==="character"&&t>800?`${t}px`:500:void 0,width:d&&!a?e<Jo?e:`calc(100% + ${Jo}px)`:a?void 0:"100%",viewBox:`0 0 ${e} ${t}`,preserveAspectRatio:"xMidYMid meet",children:[I.jsx(aj,{}),I.jsx(ij,{})]}),I.jsx(cj,{})]})}function hj(){const{locations:e,sceneLocations:t,scenes:n,characterScenes:r}=pt(),{plotHeight:o}=Ln(),{yAxisHeight:a,locationHover:i,sceneHover:s,characterHover:l,setLocationHover:c,fullHeight:u,chapterView:h,story:d,linkHover:f}=ct(),w=o<Xt?1:a/o,m=Xt*w;return I.jsxs(I.Fragment,{children:[I.jsxs("b",{style:{textAlign:"right",display:"block"},children:["Locations",(!d.includes("-new")||u||h)&&I.jsx(Ot,{label:"hover on a location for more info; listed in order of appearance"})]}),e.map(g=>I.jsx("div",{style:{height:m},className:"location-box "+(i===""&&s===""&&l===""&&f.length===0||i===g||t[n.indexOf(s)]===g||r.find(p=>p.locations.includes(g)&&(p.character===l||f.includes(p.character)))?"":"faded"),onMouseEnter:()=>c(g),onMouseLeave:()=>c(""),children:I.jsx("p",{children:g})},g))]})}function dj(){const{sceneCharacters:e,customYAxisOptions:t}=pt(),{plotHeight:n}=Ln(),{yAxis:r,yAxisHeight:o,fullHeight:a,story:i,chapterView:s,themeView:l}=ct(),c=Math.max(...e.map(f=>f.characters.length)),u=Math.min(...e.map(f=>f.characters.length)),h=n<Xt?1:o/n,d=r==="importance"||r.includes("#")?1.6:1.5;return I.jsxs("div",{id:"color-axis-outer",children:[I.jsx("p",{style:{width:"max-content"},children:r.includes("stacked")?l?"themes":"character":r}),I.jsxs("div",{id:"color-axis",className:r.includes("stacked")?"hidden":r.includes("#")?"numChars":t.includes(r)?"custom":r,style:{marginLeft:i.includes("-new")&&!a&&!s?Math.min(d*h,d)+"rem":d+"rem",width:i.includes("-new")&&!a&&!s?Math.min(h,1)+"rem":"1rem"},children:[I.jsx("span",{style:{color:r.includes("#")?"black":"white",marginBottom:"-1rem"},children:r.includes("#")?u:1}),I.jsx("span",{style:{color:r==="importance"||t.includes(r)?"black":"white",marginBottom:"-1rem"},children:r==="sentiment"?-1:c})]})]})}function fj(){const{yAxisHeight:e,characterHover:t,setCharacterHover:n,hidden:r,setHidden:o,story:a,fullHeight:i,groupHover:s,customHover:l,chapterView:c,characterColor:u,linkHover:h}=ct(),{sortedCharacters:d,character_data:f}=pt(),{plotHeight:w,charInc:m}=Ln(),g=w<Xt?1:e/w,p=16,y=x=>{const C=r.includes(x)?r.filter(O=>O!==x):[...r,x];o(C)},b=d.map(x=>x.group),_=[...new Set(b)];return I.jsx("div",{id:"character-axis",style:{paddingTop:i?10:5},children:d.map(x=>I.jsx("p",{className:"character-name "+(r.includes(x.character)||s!==""&&s!==x.group||t!==""&&t!==x.character||h.length>0&&!h.includes(x.character)||l!==""&&!tl(f,x.character,u,l)?"faded":""),style:{height:m*g,borderColor:zr(x.group,_),borderWidth:a.includes("-new")&&!i&&!c?2:4},onMouseEnter:()=>n(x.character),onMouseLeave:()=>n(""),onClick:()=>y(x.character),children:x&&x.short?x.short:x.character.length>p?x.character.slice(0,p)+"...":x.character},x.character))})}function mj(){const{plotHeight:e}=Ln(),{customYAxisOptions:t}=pt(),{yAxisHeight:n,storyMarginTop:r,storyScroll:o,setStoryScroll:a,fullHeight:i,story:s,yAxis:l,chapterView:c}=ct(),u=e<Xt?1:n/e;E.useEffect(()=>{if(document){const d=document.getElementById("y-axis-div");d&&d.scrollTo({top:o})}},[o]);const h=d=>{const f=d.scrollTop;a(f)};return I.jsx("div",{id:"y-axis-div",style:{height:"calc(100% - "+(r+70)+"px",width:s.includes("-new")&&!i&&!c&&(l==="location"||l==="character")?160*u:l==="location"||l==="character"&&!i?160:"auto"},onScroll:d=>{h(d.currentTarget)},children:I.jsxs("div",{id:"y-axis-inner",style:{height:e*u,marginBottom:i||window&&e*u>window.innerHeight-r-(s.includes("-new")&&!c?150:250)?Xt*2.5*u+5+(s.includes("-new")&&!c?30:0):void 0,fontSize:s.includes("-new")&&!i&&!c?12*u:l==="character"?Math.min(11,14*u):10},children:[l==="location"&&I.jsx(hj,{}),(l==="importance"||l==="sentiment"||l.includes("#")||l.includes("stacked")||t.includes(l))&&I.jsx(dj,{}),l==="character"&&I.jsx(fj,{})]})})}function pj(e){const{sceneHover:t,characterColor:n,chapterHover:r,detailView:o,chapterView:a,setCharacterHover:i,setLinkHover:s,cumulativeMode:l,linkHover:c,characterHover:u,setNetworkHover:h}=ct(),{scene_data:d,character_data:f,sortedCharacters:w,chapter_data:m,customColorDict:g}=pt(),p=E.useRef(null),y=E.useRef(null),b=10,_=6,x=e.inSidebar||!1;let C,O=[];x&&o&&(!a||t==="")&&r!==""?(C=m.find(B=>B.name===r),C&&(O=m.slice(0,m.indexOf(C)))):(C=d.find(B=>B.name===t),C&&(O=d.slice(0,d.indexOf(C))));const D=w.map(B=>B.group),q=[...new Set(D)],J=(B,Z,M)=>{const $=f.find(le=>le.character===B),S=$==null?void 0:$.group,H=xo(B,w),N=ss(B,w)||H,R=S?zr(S,q):H,V=Ue(wr(Z)).css(),W=Ue(vr(M)).css();return n==="llm"?N:n==="group"?R:n==="sentiment"?V:n==="importance"?W:Object.keys(g).includes(n)?tr(g[n],f,B,n):H};E.useEffect(()=>{if(!C)return;let B=[...(C==null?void 0:C.characters)||[]],Z=[...(C==null?void 0:C.links)||[]];if(x&&l){let re=[...O.flatMap(ye=>ye.characters.map(we=>({...we})))];const ae=new Set,pe=B.map(ye=>ye.name);let he=re.filter(ye=>ae.has(ye.name)?!1:(ae.add(ye.name),!pe.includes(ye.name)));he=he.map(ye=>({...ye,importance:0})),B=[...B,...he];const ie=O?O.flatMap(ye=>ye.links?ye.links.map(we=>({...we})):[]):[];ie&&ie.length>0&&ie.forEach(ye=>{const we=ye.source,je=ye.target,Me=ye.value,Fe=Z.find(Ve=>Ve.source===we&&Ve.target===je||Ve.source===je&&Ve.target===we);Fe?Fe.value+=Me:Z=[...Z,ye]})}const M=B.map(re=>{const ae=re,pe=(ae==null?void 0:ae.rating)||0,he=(ae==null?void 0:ae.importance)||0,ie=(ae==null?void 0:ae.numScenes)||0;return{id:re.name,group:re.group,emotion:pe,importance:he,numScenes:ie}}),$=Z.filter(re=>B.some(ae=>ae.name===re.source)&&B.some(ae=>ae.name===re.target)).map(re=>{var ae,pe;return(!M.find(he=>he.id===re.source)||!M.find(he=>he.id===re.target))&&console.error("Link references a non-existent node",re),{source:M.find(he=>he.id===re.source),target:M.find(he=>he.id===re.target),interaction:re.interaction,lighter:((ae=M.find(he=>he.id===re.source))==null?void 0:ae.importance)===0||((pe=M.find(he=>he.id===re.target))==null?void 0:pe.importance)===0,value:re.value}});if(M.length===0)return;const S=r0($,re=>re.value)||0,H=kR($,re=>re.value)||1;let N=r0(M,re=>re.importance)||0;N=N===1?0:N;const R=p.current;if(!R)return;const V=R.parentElement;if(!V)return;const W=V.offsetWidth,oe=300,le=b,Q=pr(p.current).attr("width",W).attr("height",oe);Q.selectAll("*").remove();const ce=Q.append("g").attr("class","zoom-layer"),ge=SO(M).force("link",yO($).id(re=>re.id).strength(.1)).force("charge",CO().strength(-200)).force("center",ZL(W/2,oe/2)).on("tick",()=>{const re=n0(M,pe=>pe.x||0),ae=n0(M,pe=>pe.y||0);M.forEach(pe=>{pe.x=zt(pe.x||0,re[0],re[1],le,W-le),Number.isNaN(pe.x)&&(pe.x=W/2),pe.y=zt(pe.y||0,ae[0],ae[1],le,oe-le),Number.isNaN(pe.y)&&(pe.y=oe/2)}),Ee.attr("x1",pe=>pe.source.x||0).attr("y1",pe=>pe.source.y||0).attr("x2",pe=>pe.target.x||0).attr("y2",pe=>pe.target.y||0),Te.attr("cx",pe=>pe.x).attr("cy",pe=>pe.y),ue.attr("x",pe=>{const he=pe.x,ie=_,ye=zt(pe.importance,N,1,6,10);return he+ie*pe.id.length>W-le?he-le-ye:he}).attr("y",pe=>pe.y).attr("text-anchor",pe=>{const he=pe.x,ie=_;return he+ie*pe.id.length>W-le?"end":(he-ie*pe.id.length<le,"start")})}),Ee=ce.append("g").selectAll("line").data($).join("line").attr("stroke","#ddd").attr("stroke-width",re=>zt(re.value,S,H,1,8)).attr("stroke-opacity",re=>re.lighter?.2:.75).on("mouseover",(re,ae)=>{!ae.source||!ae.target||ae.source.importance===0||ae.target.importance===0||(s([ae.source.id,ae.target.id]),h(`<p><b>${ae.source.id}</b> and <b>${ae.target.id}</b> appear <b>${ae.value}</b> time${ae.value===1?"":"s"} together in this chapter</p>${ae.interaction?`<p class='desc'> ${ae.interaction}</p>`:""}`))}).on("mouseout",()=>{s([]),h("")}),Te=ce.append("g").selectAll("circle").data(M).join("circle").attr("r",re=>zt(re.importance,N,1,2,8)).attr("fill",re=>J(re.id,re.emotion,re.importance)).attr("fill-opacity",re=>re.importance===0?.25:1).on("mouseover",(re,ae)=>{ae.importance!==0&&(i(ae.id),h(`<b>${ae.id}</b> appears <b>${ae.numScenes}</b> time${ae.numScenes===1?"":"s"} in this chapter`))}).on("mouseout",()=>{i(""),h("")}),ue=ce.append("g").selectAll("text").data(M).join("text").text(re=>re.id).attr("font-size",re=>zt(re.importance,N,1,6,10)).attr("dx",re=>zt(re.importance,N,1,6,10)).attr("dy",".35em").attr("fill-opacity",re=>re.importance===0?.25:1).on("mouseover",(re,ae)=>{ae.importance!==0&&(i(ae.id),h(`<b>${ae.id}</b> appears <b>${ae.numScenes}</b> time${ae.numScenes===1?"":"s"} in this chapter`))}).on("mouseout",()=>{i(""),h("")});return y.current=s9().scaleExtent([.5,5]).on("zoom",re=>{ce.attr("transform",re.transform)}),Q.call(y.current),()=>{ge.stop(),Q.on(".zoom",null)}},[C,l]);const K=()=>{p.current&&y.current&&pr(p.current).transition().duration(500).call(y.current.transform,Hy)};return E.useEffect(()=>{const B=pr(p.current);let Z=new Set;u!==""&&B.selectAll("line").data().forEach($=>{$.lighter||($.source.id===u?Z.add($.target.id):$.target.id===u&&Z.add($.source.id))}),B.selectAll("circle").transition().duration(200).attr("fill-opacity",M=>c.length==0&&u===""&&M.importance!==0||c.includes(M.id)||u===M.id?1:Z.has(M.id)?.75:.25),B.selectAll("text").transition().duration(200).attr("fill-opacity",M=>c.length==0&&u===""&&M.importance!==0||c.includes(M.id)||u===M.id?1:Z.has(M.id)?.75:.25).attr("font-weight",M=>u===M.id||c.includes(M.id)?"600":"normal"),B.selectAll("line").transition().duration(200).attr("stroke",M=>c.includes(M.source.id)&&c.includes(M.target.id)?"#222":(u===M.source.id||u===M.target.id)&&!M.lighter?"#777":"#ddd").attr("stroke-opacity",M=>c.length==0&&u===""&&!M.lighter||c.includes(M.source.id)&&c.includes(M.target.id)||(u===M.source.id||u===M.target.id)&&!M.lighter?.75:.2)},[c,u]),E.useEffect(()=>{pr(p.current).selectAll("circle").transition().duration(200).attr("fill",B=>{const Z=B.id,M=B.emotion,$=B.importance;return J(Z,M,$)})},[n]),I.jsxs("div",{style:{position:"relative"},children:[I.jsx("svg",{ref:p,style:{maxWidth:"100%"}}),I.jsx(nt,{className:"reset",onClick:K,size:"xs",children:"Reset Network"})]})}function gj(e){const{scene_data:t,location_data:n,chapter_data:r}=pt(),{sceneHover:o,chapterHover:a,detailView:i,chapterView:s,setLocationHover:l}=ct(),c=e.inSidebar||!1;let u;c&&i&&(!s||o==="")&&a!==""?u=r.find(x=>x.chapter===a):u=t.find(x=>x.name===o);const h=(u==null?void 0:u.allLocations)||{},d=Math.max(...Object.values(h),0),f=12,w=2,m=9,g=26,p={width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",transition:"0.5s"},y={marginBottom:`${w}px`,width:"100%",transition:"0.5s"},b=x=>({width:`${x/d*100}%`,height:`${f}px`,backgroundColor:"#000",transition:"0.5s",display:"flex",paddingLeft:"2px",alignItems:"center"}),_={fontSize:`${m}px`,marginBottom:"0px",transition:"0.5s"};return I.jsxs("div",{style:p,children:[Object.entries(h).map(([x,C])=>I.jsxs("div",{style:y,children:[I.jsxs("div",{className:"loc-label",style:_,onMouseEnter:()=>l(x),onMouseLeave:()=>l(""),children:[(()=>{var D;const O=(D=n.find(q=>q.name===x))==null?void 0:D.emoji;return O?O+" ":""})(),x.length>g?x.slice(0,g)+"...":x]}),I.jsx("div",{style:b(C),children:I.jsx("div",{style:{color:"white",fontSize:m-1,fontWeight:600},children:C})})]},x)),I.jsxs("div",{style:{marginTop:`${w}px`,width:"100%",borderWidth:"1px",borderTopStyle:"solid",borderTopColor:"rgb(0,0,0, 0.7)",opacity:.7,display:"flex",justifyContent:"space-between",fontSize:`${m}px`},children:[I.jsx("div",{children:"0"}),I.jsx("div",{style:{fontWeight:500},children:"# scenes"}),I.jsx("div",{children:d})]})]})}function yj(e){const{chapterView:t,modalLoading:n,setModalLoading:r,story:o,isBackendActive:a}=ct(),{scene_data:i}=pt(),[s,l]=E.useState(""),[c,u]=E.useState(""),h=e.sceneName,d=async()=>{r(!0),u("");try{let f,w;try{const m=Ma(o.split("-")[0]);let g;if(t)g=h.replace("?","");else{const b=i.find(_=>_.name===h);g=b==null?void 0:b.chapter.replace("?","")}const p=await fetch(`chapters/${m}/${g}.txt`);if(!p.ok)throw new Error(`Failed to load chapter ${h}`);let y=await p.text();y.includes("<!DOCTYPE html>")&&(g=Ma(g),y=await(await fetch(`chapters/${m}/${Ma(g)}.txt`)).text()),f=y}catch(m){console.error("Error loading chapter text:",m)}if(t)w=f;else{const m=i.find(b=>b.name===h),g=m==null?void 0:m.firstLine,p=m==null?void 0:m.lastLine;w=f==null?void 0:f.split(`
`).slice(g&&g-1,p).join(`
`)}if(!w)console.error("Invalid text to send to LLM",w);else{const m=await ej(s,w);if(m.answer){const g=m.answer;u(g)}else u("No response from LLM")}}catch(f){console.error("Error asking LLM question:",f),l("Error")}r(!1)};return I.jsxs(Dn,{width:320,position:"bottom",withArrow:!0,children:[I.jsx(Dn.Target,{children:I.jsxs(nt,{className:"ask-llm",size:"compact-xs",variant:"gradient",gradient:{from:"#9c85c0",to:"#dd8047",deg:0},leftSection:I.jsx(gH,{}),disabled:!a,title:a?"Ask LLM":"Backend is not connected",children:["ask about this ",t?"chapter":"scene"]})}),I.jsxs(Dn.Dropdown,{children:[I.jsx(Ta,{className:"ask-llm-textarea",size:"xs",rows:2,value:s,onChange:f=>{l(f.currentTarget.value)},placeholder:`Enter your question here (e.g., why is Nick the most important character in this ${t?"chapter":"scene"}?)`,spellCheck:!1}),I.jsx(nt,{fullWidth:!0,size:"compact-xs",disabled:n||s.length===0,onClick:d,children:I.jsx("span",{className:n?"loading":"",children:n?"Loading...":"Submit"})}),I.jsxs("div",{style:{fontSize:"x-small",marginTop:"0.5rem",background:"#eee",borderRadius:"0.2rem",padding:"0.5rem"},className:"ask-llm-answer"+(c?"":" hidden"),children:[I.jsx("b",{style:{fontWeight:500},children:" Answer from LLM: "}),I.jsx("span",{children:c})]})]})]})}function wj(){const[e,t]=E.useState([]),[n,r]=E.useState(!1),o=E.useRef(null),a=E.useRef(null),{chapterHover:i,story:s,setChapterHover:l,chapterView:c,setCurScrollScene:u,curScrollScene:h,scrollSource:d,setScrollSource:f,setStoryScrollX:w,characterColor:m,setCharacterHover:g,setLocationHover:p,setSceneHover:y,verboseMode:b,setVerboseMode:_}=ct(),{chapter_data:x,scene_data:C,sortedCharacters:O,character_data:D,customColorDict:q}=pt(),J=O.map(S=>S.group),K=[...new Set(J)],B=async S=>{try{const H=Ma(s.split("-")[0]);let N=S;const V=N.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[?#]/g,"").trim();console.log("cleaned",V),console.log("fetching",`chapters/${H}/${V}.txt`);const W=await fetch(`chapters/${H}/${V}.txt`);if(!W.ok)throw new Error(`Failed to load chapter ${S}`);let oe=await W.text();oe.includes("<!DOCTYPE html>")&&(N=Ma(N),oe=await(await fetch(`chapters/${H}/${Ma(N)}.txt`)).text());const le=oe.split(`
`).map(Q=>{const ce=Q.split(": ");return ce.length>1?ce[1]:Q});t(le),r(!1)}catch(H){console.error("Error fetching chapter text:",H),t([])}},Z=()=>{o.current&&(o.current.disconnect(),o.current=null);const S={root:null,rootMargin:"-50% 0px",threshold:0};o.current=new IntersectionObserver(H=>{const V=H.filter(W=>W.isIntersecting).sort((W,oe)=>W.boundingClientRect.top-oe.boundingClientRect.top).find(W=>{const oe=W.target.getAttribute("data-scene-name");return oe&&oe!=="filler"});if(V){const W=V.target.getAttribute("data-scene-name");W&&W!=="filler"&&W!==h&&u(W),n||r(!0)}},S),setTimeout(()=>{const H=document.querySelectorAll(".scene-text-group");H.length===0?console.warn("No scene elements found to observe!"):H.forEach(N=>{var R;return(R=o.current)==null?void 0:R.observe(N)})},100)};E.useEffect(()=>(a.current!==c&&(a.current=c,r(!1),Z()),()=>{var S;(S=o.current)==null||S.disconnect()}),[c]),E.useEffect(()=>{e.length>0&&(r(!1),Z())},[e]),E.useEffect(()=>{i&&i!==""&&(x.some(S=>S.chapter===i)?B(i):l(""))},[i]);const M=E.useMemo(()=>{if(!i||e.length===0)return[];const S=[],H=C.filter(R=>R.chapter===i);let N=0;return H.forEach(R=>{N+1<R.firstLine&&S.push({name:"filler",number:0,lines:[N+1,R.firstLine-1],explanation:""}),S.push({name:R.name,number:R.number,lines:[R.firstLine,R.lastLine],explanation:R.explanation||""}),N=R.lastLine}),N<e.length&&S.push({name:"filler",number:0,lines:[N+1,e.length],explanation:""}),S},[i,e,C]);E.useEffect(()=>{if(h&&d){const S=document.querySelector(`.scene-text-group[data-scene-name="${h}"]`);S&&(S.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{f(!1)},300))}},[h]);const $=()=>{const S=document.getElementById("chapter-text");if(c||!S)return;const{scrollTop:H,scrollHeight:N,clientHeight:R}=S,V=H/(N-R),W=document.getElementById("story-contain");if(W){const oe=W.scrollWidth*V;w(oe)}};return E.useEffect(()=>{const S=document.getElementById("chapter-text"),H=()=>{$(),f(!1)};return S==null||S.addEventListener("scroll",H),setTimeout(()=>{$(),f(!1)},100),()=>{S==null||S.removeEventListener("scroll",H)}},[c]),I.jsx("div",{id:"chapter-text",children:M.map((S,H)=>{const N=S.lines[0],R=S.lines[1],V=e.slice(N-1,R),W=C.find(Q=>Q.chapter===i&&Q.name===S.name),oe=W==null?void 0:W.location,le=W==null?void 0:W.characters;return I.jsxs("div",{className:"scene-text-group","data-scene-name":S.name,children:[I.jsx("div",{className:"scene-text "+(S.name==="filler"?"filler":""),children:V.map((Q,ce)=>I.jsxs("p",{className:"text",children:[I.jsx("span",{className:"line-num",children:ce+N}),Q]},ce))}),I.jsxs("div",{className:"scene-info "+(S.name==="filler"?"filler":""),children:[I.jsxs("b",{children:[I.jsxs("span",{className:"scene-name",onMouseEnter:()=>y(S.name),onMouseLeave:()=>y(""),onClick:()=>{c||_(!b)},children:[c?"":`Scene ${S.number}: `,c&&S.name.length>60?_r(S.name):S.name]}),!c&&S.explanation!==""&&I.jsx(Ot,{type:"exp",label:S.explanation})]}),I.jsx("p",{className:"loc",onMouseEnter:()=>p(oe),onMouseLeave:()=>p(""),children:oe}),le&&le.map((Q,ce)=>{var ye;const ge=Q.name,Ee=Q.rating,Te=Q.importance,ue=(ye=O.find(we=>we.character===ge))==null?void 0:ye.group,re=xo(ge,O),ae=ss(ge,O)||re,pe=ue?zr(ue,K):re,he=Ue(wr(Ee)).css(),ie=Ue(vr(Te)).css();return I.jsxs("p",{className:"character",onMouseEnter:()=>g(ge),onMouseLeave:()=>g(""),children:[I.jsx("span",{className:"square",style:{backgroundColor:m==="llm"?ae:m==="group"?pe:m==="sentiment"?he:m==="importance"?ie:Object.keys(q).includes(m)?tr(q[m],D,ge,m):re}}),ge]},ce)}),I.jsx(yj,{sceneName:S.name},S.name)]})]},H)})})}function D2(e){const{scene_data:t,sceneSummaries:n,sortedCharacters:r,chapter_data:o,chapterMin:a,chapterMax:i,sceneMin:s,sceneMax:l,character_data:c,customColorDict:u,customYAxisOptions:h}=pt(),{sceneHover:d,chapterView:f,setChapterView:w,themeView:m,characterColor:g,detailView:p,chapterHover:y,showChapterText:b,setShowChapterText:_,curScrollScene:x,setCurScrollScene:C,setScrollSource:O,cumulativeMode:D,setCumulativeMode:q,yAxis:J,verboseMode:K}=ct();let B;const Z=e.inSidebar||!1;Z&&p&&(!f||d==="")&&y!==""?B=o.find(Q=>Q.name===y):B=t.find(Q=>Q.name===d);const M=t.findIndex(Q=>Q.name===d),$=B?B.numLines:0;let S=s,H=l;(f||Z&&p&&(!f||d==="")&&y!=="")&&(S=a,H=i);const N=zt($,S,H,0,1),R=n[M],V=16,W=r.map(Q=>Q.group),oe=[...new Set(W)],le=t.filter(Q=>Q.chapter===y).map(Q=>Q.name);return I.jsxs(I.Fragment,{children:[(B||p)&&I.jsxs("div",{id:"scene-info",className:p&&d===""&&y===""?"transparent":"",children:[I.jsxs("div",{id:"scene-header",children:[B&&B.chapter&&I.jsx("b",{children:f||Z?Zu(B.chapter)?B.chapter.length>60?_r(B.chapter):B.chapter:"Chapter "+B.chapter:`Scene ${B.number}: ${B.name}`}),B&&!f&&!Z&&B.chapter&&I.jsx("b",{style:{fontWeight:600},children:Zu(B.chapter)?B.chapter.length>60?_r(B.chapter):B.chapter:"Chapter "+B.chapter}),(f||Z)&&B&&B.numScenes&&I.jsx("b",{style:{fontWeight:600},children:"Total Scenes: "+B.numScenes}),p&&Z&&d===""&&y===""&&I.jsx("p",{children:"Hover on a chapter to see more details! Click to lock it."})]}),I.jsx("p",{children:B&&B.summary}),!f&&!Z&&I.jsxs("p",{children:[I.jsxs("b",{style:{fontWeight:600},children:[f&&"Main ","Location:"]})," ",B&&B.location," ",f&&B&&B.allLocations&&I.jsx("span",{style:{opacity:.7},children:"("+B.allLocations[B.location]+(B.allLocations[B.location]>1?" scenes)":" scene)")})]}),I.jsxs("div",{id:"scene-ratings",children:[(y!==""||d!=="")&&I.jsxs("div",{className:"rating-outer",children:[I.jsxs("div",{className:"rating-colorbar",children:[I.jsx("span",{className:"min",children:S}),I.jsx("div",{className:"bar ",children:I.jsx("div",{className:"tip",style:{left:`${N*100}%`}})}),I.jsx("span",{className:"max",children:H})]}),I.jsxs("div",{className:"rating-box",style:{},children:[I.jsx("b",{children:"length: "}),N<.4?"short":N>.6?"long":"med"," ",I.jsxs("span",{style:{opacity:.7},children:["(",$," lines)"]})]})]}),B&&B.ratings&&Object.keys(B.ratings).sort().map(Q=>{const ce=B.ratings[Q],ge=Q==="sentiment"?zt(ce,-1,1,0,1):ce;return I.jsxs("div",{className:"rating-outer",children:[I.jsxs("div",{className:"rating-colorbar ",children:[I.jsx("span",{className:"min",children:Q==="sentiment"?-1:0}),I.jsx("div",{className:"bar "+Q,children:I.jsx("div",{className:"tip",style:{left:`${ge*100}%`}})}),I.jsx("span",{className:"max",children:1})]}),I.jsxs("div",{className:"rating-box",style:{},children:[I.jsxs("b",{children:[Q,":"]})," ",Q==="sentiment"?ce<-.2?"neg":ce>.2?"pos":"neutral":ce<.4?"low":ce>.6?"high":"med"," ",I.jsxs("span",{style:{opacity:.7},children:["(",ce!==void 0&&ce.toFixed(2),")"]})]})]},Q)})]})]}),p&&Z&&B&&I.jsxs("div",{className:"text-header",children:[I.jsxs(nt.Group,{className:"scene-toggle-buttons",children:[I.jsxs(nt,{variant:"default",size:"xs",className:b?"":"active",onClick:()=>_(!1),children:[m?"Themes":"Characters"," / Location Info"]}),I.jsx(nt,{variant:"default",size:"xs",className:b?"active":"",onClick:()=>_(!0),children:"Chapter Text"})]}),I.jsxs("div",{className:"scene-select ",children:[I.jsxs("b",{children:[f?"Chapter":"Scene"," view",I.jsx(Ot,{label:"explore chapters or scenes"})]}),I.jsx(xr,{size:"xs",checked:f,onChange:Q=>w(Q.currentTarget.checked)}),I.jsxs("b",{style:{marginLeft:"0.5rem"},className:b?"hidden":"",children:["Cumulative mode",I.jsx(Ot,{label:"show isolated or cumulative character network for this chapter"})]}),I.jsx(xr,{className:b?"hidden":"",size:"xs",checked:D,onChange:Q=>q(Q.currentTarget.checked)}),I.jsxs("div",{style:{marginLeft:"0.5rem"},className:"scene-select "+(b?"":"hidden"),children:[I.jsxs("b",{children:["Scroll to",I.jsx(Ot,{label:"scroll to a specific scene in this chapter"+(f?"":"; hover on a scene name or  below for more info")})]}),I.jsx(ro,{size:"xs",data:le,value:x,onChange:Q=>{Q&&(O(!0),C(Q))}})]})]})]}),(y!==""||d!=="")&&I.jsxs("div",{id:"scene-characters",children:[I.jsxs("div",{id:"scene-header",className:"split",children:[(!b||!Z)&&I.jsxs("div",{className:"character-header",children:[I.jsxs("b",{children:[m?"Themes":"Characters",":"," ",B&&B.characters&&B.characters.length,B&&B.characters&&B.characters.length>V&&!f&&!Z&&I.jsx("span",{children:" (top "+V+" shown)"}),(f||Z)&&I.jsx(Ot,{label:`zoom / pan to explore the ${m?"theme":"character"} network for this chapter; hover on a node / edge for more info`})]}),(f||Z)&&I.jsx("span",{className:"key-text",children:"circle size = # of scenes, line thickness = # of mutual scenes"})]}),!f&&!Z&&I.jsxs("span",{className:"quote-key",children:[I.jsx("span",{className:"lighter",children:" = "}),I.jsx("b",{className:"grad",children:"LLM-generated"}),I.jsxs("span",{className:"lighter",children:[" ","explanation if no verified direct quote found"]})]}),!D&&(f||Z)&&(!b||!Z)&&I.jsxs("b",{children:["Locations:"," ",B&&B.allLocations&&Object.keys(B.allLocations).length,I.jsx(Ot,{label:"# of scenes taking place at each location in this chapter"})]})]}),I.jsx("div",{id:"scene-char-inner",className:!D&&(f||Z)?"split":!D&&B&&B.characters&&B.characters.length>8?"two-col":"",children:B&&!f&&!Z&&R?R.emotions.slice(0,V).map(Q=>{var je;const ce=B.characters.find(Me=>Me.name===Q.character);let ge=ce.emotion;ge=ge.charAt(0).toUpperCase()+ge.slice(1);const Ee=ce.rating,Te=zt(Ee,-1,1,0,1),ue=ce.importance,re=(je=r.find(Me=>Me.character===Q.character))==null?void 0:je.group,ae=xo(Q.character,r),pe=ss(Q.character,r)||ae,he=re?zr(re,oe):ae,ie=Ue(wr(Ee)).css(),ye=Ue(vr(ue)).css(),we=g==="llm"?pe:g==="group"?he:g==="sentiment"?ie:g==="importance"?ye:Object.keys(u).includes(g)?tr(u[g],c,Q.character,g):ae;return I.jsxs("div",{className:"character-info",children:[I.jsxs("div",{className:"char-header",children:[I.jsxs("b",{className:"char-name",children:[I.jsx("div",{className:"square",style:{backgroundColor:we}}),I.jsxs("div",{children:[Q.character," ",I.jsxs("span",{className:(K?"":"hidden")+" char-meta",style:{fontWeight:400,opacity:.7,fontFamily:"var(--mantine-font-family)"},children:["(",h.includes(J)?`${J}: ${ce[J]}`:`importance: ${ce.importance_rank}`,")"]})]})]}),I.jsxs("div",{className:"emotion-box",children:[I.jsx("b",{children:ge}),I.jsx("div",{className:"rating-outer",children:I.jsxs("div",{className:"rating-colorbar mini",children:[I.jsx("span",{className:"min",children:-1}),I.jsx("div",{className:"bar sentiment ",children:I.jsx("div",{className:"tip",style:{left:`${Te*100}%`}})}),I.jsx("span",{className:"max",children:1})]})})]})]}),I.jsx("div",{className:"char-quote "+(ce.fake_quote?"fake":""),children:ce.fake_quote?" "+ce.fake_quote:ce.quote}),ce.importance_rank===1&&ce.importance_exp&&I.jsx("div",{className:"char-importance "+(K?"":"hidden"),children:I.jsxs("span",{children:[I.jsx("b",{children:" Most important because: "}),ce.importance_exp]})})]},Q.character+Q.emotion_quote)}):b&&Z?I.jsx(wj,{}):I.jsxs(I.Fragment,{children:[I.jsx("div",{children:I.jsx(pj,{inSidebar:Z})}),!D&&I.jsx(gj,{inSidebar:Z})]})})]})]})}function vj(){const{scene_data:e}=pt(),{sceneHover:t,chapterView:n,detailView:r,verboseMode:o}=ct(),a=e.find(c=>c.name===t),[i,s]=E.useState({x:0,y:0}),l=30;return E.useEffect(()=>{const c=u=>{u.preventDefault(),u.stopPropagation();const h=window.innerWidth;let d=u.clientX,f=document.getElementById("scene-overlay"),w=f?f.clientHeight:0;const g=(a&&a.characters&&a.characters.length>8&&!n?k9:Jo)+2*l;d+g>h&&(d=d-g);const p=window.innerHeight;let y=u.clientY;y+w+l>p&&(y=p-w-l),s({x:d,y})};return window.addEventListener("mousemove",c),()=>{window.removeEventListener("mousemove",c)}},[t]),I.jsx("div",{id:"scene-overlay",className:t===""||n&&r?"hidden":"show-msg"+(a&&a.characters&&a.characters.length>8&&!n?" wide":"")+(!o&&!n?" verbose-off":n?"":" verbose-on"),style:{left:i.x+l+"px",top:i.y-l+"px"},children:I.jsx(D2,{})})}function bj(){const{modalLoading:e,setModalLoading:t,isBackendActive:n,chapterHover:r,detailView:o,setDetailView:a,setChapterHover:i,story:s,demoMode:l}=ct(),{chapter_data:c}=pt(),[u,h]=E.useState(""),[d,f]=E.useState(""),[w,m]=E.useState(""),g=async()=>{t(!0),f(""),m("");try{const y=JSON.stringify(c);if(!y)console.error("Invalid text to send to LLM",y);else{const b=await tj(u,y);if(b.chapter){const _=b.chapter;m(_==="N/A"?"":_);const x=b.explanation;f(x)}else m(""),f("No chapter found.")}}catch(y){console.error("Error asking LLM question:",y),h("Error")}t(!1)},p=()=>{w!==""&&(o||a(!0),w!==r&&i(w))};return E.useEffect(()=>{h(""),m(""),f("")},[s]),I.jsxs(Dn,{width:400,position:"bottom",withArrow:!0,children:[I.jsx(Dn.Target,{children:I.jsx(nt,{className:"find-chapter",style:{marginBottom:l?"1rem":""},size:"xs",variant:"gradient",gradient:{from:"#9c85c0",to:"#dd8047",deg:0},disabled:!n,title:n?"Find chapter":"Backend is not connected",children:"Ask a question to start exploring"})}),I.jsxs(Dn.Dropdown,{children:[I.jsx(Ta,{className:"find-chapter-textarea",size:"xs",rows:2,value:u,onChange:y=>{h(y.currentTarget.value)},placeholder:"Enter your question here (e.g., When does Nick first meet Jordan?)",spellCheck:!1}),I.jsx(nt,{fullWidth:!0,className:"find-chapter-button",size:"compact-xs",disabled:e||u.length===0,onClick:g,children:I.jsx("span",{className:e?"loading":"",children:e?"Loading...":"Submit"})}),I.jsxs("div",{style:{fontSize:"10px",marginTop:"0.5rem",background:"#eee",borderRadius:"0.2rem",padding:"0.5rem"},className:"find-chapter-answer"+(d?"":" hidden"),children:[I.jsx("b",{style:{fontWeight:500},children:" Answer from LLM: "}),I.jsx("span",{children:d})]}),I.jsxs(nt,{className:"find-chapter-button "+(w?"":"hidden"),size:"compact-xs",variant:"transparent",style:{float:"right"},onClick:p,children:["Go to"," ",Zu(w)?w.length>60?_r(w):w:"Chapter "+w," >"]})]})]})}function kj(){const{num_chapters:e,activeChapters:t,setActiveChapters:n,resetActiveChapters:r,chapterDivisions:o}=pt(),{demoMode:a}=ct();let i=o&&o[0]?o[0].chapter:"";i=_r(i);let s=o&&o[o.length-1]?o[o.length-1].chapter:"";s=_r(s);const l=20,c=u=>{if(!o||u<1||u>o.length)return"";const h=o[u-1].chapter,d=_r(h);return d&&d.length>l?d.slice(0,l)+"...":d};return I.jsxs("div",{id:"slider-outer",className:i&&s?"":"hidden",children:[I.jsx(bj,{}),I.jsxs("div",{id:"chapter-slider",className:!a&&i&&s?"":"hidden",children:[I.jsxs("span",{className:"label",children:["Filter by chapter",I.jsx(Ot,{label:"drag slider to filter plot by chapters"})]}),I.jsx("span",{children:i&&i.length>l?i.slice(0,l)+"...":i}),I.jsx(_y,{min:1,max:e,minRange:0,value:t,onChange:n,size:"sm",label:u=>c(u)}),I.jsx("span",{children:s&&s.length>l?s.slice(0,l)+"...":s}),I.jsx(nt,{size:"xs",onClick:()=>r(e),children:"Reset"})]})]})}function xj(){const{showChapters:e,setShowChapters:t,yAxis:n,setFullHeight:r,themeView:o,chapterView:a,scaleByLength:i,isUpdatingData:s,modalLoading:l,demoMode:c,story:u}=ct(),{scene_data:h,scenes:d,locations:f,characterScenes:w,sceneLocations:m,sceneCharacters:g,sortedCharacters:p,chapterDivisions:y,customYAxisOptions:b,character_data:_,og_scene_data:x}=pt(),{setPositions:C,plotHeight:O}=Ln();let D=y&&y[0]?y[0].chapter:"";D=_r(D);let q=y&&y[y.length-1]?y[y.length-1].chapter:"";q=_r(q);const J=async()=>{const B=`characterData-${u}`,Z=`sceneData-${u}`;let M=await tn.getItem(B).catch(S=>(console.error("Error loading character data",S),null));!M&&_&&(console.log("Saving character data to cache"),M=_,tn.setItem(B,M));let $=await tn.getItem(Z).catch(S=>(console.error("Error loading scene data",S),null));!$&&x&&(console.log("Saving scene data to cache"),$=x,tn.setItem(Z,$))},K=()=>{h&&(J(),C(h,d,f,w,m,g,p,!i,n,b))};return E.useEffect(()=>{s||l||(K(),(d.length<24&&O<800||a&&o&&(n==="sentiment"||n.includes("stacked")))&&r(!1))},[h,O,i,n,s,l]),I.jsx("div",{id:"slider-contain",className:D&&q?"":"hidden",children:I.jsx("div",{id:"options",className:D&&q?"slider":"",children:I.jsxs("div",{className:"options-contain",children:[I.jsx("span",{style:{display:c?"none":""},children:I.jsx("b",{children:"Chapters"})}),I.jsxs("div",{className:"options-inner "+(D&&q?"slider":""),children:[I.jsx(xr,{size:"xs",label:I.jsxs("span",{children:["Show labels",I.jsx(Ot,{label:"show chapter divisions + labels in scene view"})]}),labelPosition:"left",checked:e,disabled:a,onChange:B=>t(B.currentTarget.checked),className:!c&&D&&q?"":"hidden"}),I.jsx(kj,{})]})]})})})}function _j(e){return Yr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288 480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 73.4-73.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-128 128z"},child:[]}]})(e)}function Ij(e){return Yr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"},child:[]}]})(e)}function Sj(){const{chapter_data:e}=pt(),{storyMarginTop:t,detailView:n,chapterHover:r,setChapterHover:o,setDetailView:a,chapterView:i,setChapterView:s,story:l}=ct(),c=e&&e[0]&&r===e[0].name,u=e&&e[e.length-1]&&r===e[e.length-1].name,h=()=>{if(e){const w=e.findIndex(m=>m.name===r);if(w>0){const m=e[w-1];o(m.name)}}},d=()=>{if(e){const w=e.findIndex(m=>m.name===r);if(w<e.length-1){const m=e[w+1];o(m.name)}}},f=()=>{a(!1),!i&&l.includes("-new")&&s(!0)};return E.useEffect(()=>{const w=m=>{if(!(!n||m.target.tagName==="TEXTAREA"))switch(m.stopPropagation(),m.preventDefault(),m.key){case"Escape":f();break;case"ArrowLeft":r!==""&&!c&&h();break;case"ArrowRight":r!==""&&!u&&d();break}};return window.addEventListener("keydown",w),()=>{window.removeEventListener("keydown",w)}},[n,r,e]),I.jsxs("div",{id:"chapter-sidebar",className:n?"":"hidden",style:{top:`calc(${t}px +  1rem)`},children:[I.jsx("div",{className:"close",children:I.jsxs(nt,{size:"xs compact",variant:"transparent",onClick:f,style:{fontWeight:"400",fontFamily:"Shantell Sans"},children:["[x] close detail view"," ",I.jsx(Ot,{label:"keyboard controls: esc = exit, left/right arrow = prev/next chapter"})]})}),I.jsxs("div",{className:"buttons",children:[I.jsx(nt,{size:"xs",variant:"transparent",disabled:r===""||c,leftSection:I.jsx(_j,{}),onClick:h,children:"prev chapter"}),I.jsx(nt,{size:"xs",variant:"transparent",disabled:r===""||u,rightSection:I.jsx(Ij,{}),onClick:d,children:"next chapter"})]}),I.jsx("div",{id:"scene-overlay",children:I.jsx(D2,{inSidebar:!0})})]})}function Cj(e){return Yr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function Ej(){const{data:e}=pt();return I.jsxs("div",{id:"story-header",children:[I.jsx("a",{href:e.url,target:"_blank",title:e.title,children:I.jsx("img",{src:e.image,alt:e.title,className:"story-image"})}),I.jsxs("div",{id:"story-info",children:[I.jsx("h1",{children:e.title}),I.jsxs("span",{children:[e.author?e.author:e.director," ",I.jsx(Vi,{orientation:"vertical"})," ",e.year," ",e.url&&I.jsxs(I.Fragment,{children:[I.jsx(Vi,{orientation:"vertical"})," ",I.jsx("a",{href:e.url,target:"_blank",title:e.title,children:I.jsxs(nt,{size:"xs compact",variant:"light",id:"info-button",leftSection:I.jsx(Cj,{}),children:["Full ",e.type==="Movie"?"Script":"Text"]})})]})]})]})]})}function Tj(){const{sceneHover:e,chapterView:t,detailView:n}=ct(),[r,o]=E.useState({x:0,y:0}),[a,i]=E.useState(!1),[s,l]=E.useState(!1),c=20;return E.useEffect(()=>{const u=h=>{var g;h.preventDefault(),h.stopPropagation();const d=h.target,f=(g=d.parentElement)==null?void 0:g.parentElement;f&&f.classList.contains("scene-info")?l(!0):l(!1),d.classList.contains("frozen")?i(!0):i(!1);let w=h.clientX,m=h.clientY;o({x:w,y:m})};if(t&&n)return window.addEventListener("mousemove",u),()=>{window.removeEventListener("mousemove",u)}},[e,t,n]),I.jsxs("div",{id:"click-msg",className:e===""||!t||!n||s?"hidden":"",style:{left:r.x+c+"px",top:r.y+"px"},children:["Click to ",a&&"un","lock!"]})}function Nj(){const{character_data:e,setCharacterData:t,setCustomColorDict:n,customColorDict:r,characterColorOptions:o,setCharacterColorOptions:a,sortedCharacters:i,setSortedCharacters:s,customYAxisOptions:l,yAxisOptions:c,setCustomYAxisOptions:u,setYAxisOptions:h,setSceneData:d,chapter_data:f,setChapterData:w,setOgSceneData:m,og_scene_data:g}=pt(),{story:p,modalOpened:y,setModalOpened:b,themeView:_,modalLoading:x,setModalLoading:C,setCharacterColor:O,modalType:D,characterColor:q,yAxis:J,setYAxis:K,chapterView:B}=ct(),[Z,M]=E.useState(""),[$,S]=E.useState(""),H=()=>{x||b(!1)},N=async()=>{C(!0);try{const oe=`characterData-${p}`;let le;try{le=await tn.getItem(oe),le?le=JSON.stringify(le):le=JSON.stringify(e)}catch(ae){console.error("Error retrieving character data from local storage:",ae),le=JSON.stringify(e)}const ce=await Q$(le,Z,$,_?"theme":"character"),ge=ce.char_attrs,Ee=ce.color_assignments,Te=Z.toLowerCase(),ue=e.map(ae=>{const pe=ge.find(we=>we.character===ae.character);let he=pe==null?void 0:pe.val,ie=pe==null?void 0:pe.exp;he||(he="n/a"),ie||(ie="No explanation provided.");const ye={[Te]:{val:he,exp:ie}};return{...ae,...ye}});t(ue,p);const re=i.map(ae=>{const pe=ge.find(we=>we.character===ae.character);let he=pe==null?void 0:pe.val,ie=pe==null?void 0:pe.exp;he||(he="n/a"),ie||(ie="No explanation provided.");const ye={[Te]:{val:he,exp:ie}};return{...ae,...ye}});s(re),a([...o,Te]),n({...r,[Te]:Ee},p),M(""),S(""),O(Te)}catch(oe){console.error("Error fetching new colors:",oe),M("Error")}C(!1),H()},R=()=>{C(!0);const oe={...r};delete oe[q],n(oe,p);const le=o.filter(ge=>ge!==q);a(le);const Q=[...e];Q.forEach(ge=>{delete ge[q]});const ce=[...i];ce.forEach(ge=>{delete ge[q]}),t(Q,p),s(ce),O("llm"),C(!1),H()},V=async()=>{C(!0);try{const oe=`sceneData-${p}`;let le;try{le=await tn.getItem(oe),le?(console.log("SceneView: Using og scene data from local storage",le),le=JSON.stringify(le)):(le=JSON.stringify(g),console.log("SceneView: Using og_scene_data as fallback",g))}catch(ue){console.error("Error retrieving scene data from local storage:",ue),le=JSON.stringify(g)}const ge=(await Z$(le,Z,_?"theme":"character")).new_data,Ee=Z.toLowerCase(),Te=[...f];Te.forEach(ue=>{const re=ge.filter(he=>he.chapter===ue.chapter),ae=ue.characters;ae.forEach(he=>{const ie=he.name,we=re.filter(Me=>Me.characters.map(Fe=>Fe.name).includes(ie)).map(Me=>{var Fe;return(Fe=Me.characters.find(Ve=>Ve.name===ie))==null?void 0:Fe[Ee]}),je=we.reduce((Me,Fe)=>Me+Fe,0)/we.length;he[Ee]=je});const pe=ae.map(he=>({name:he.name,rating:he[Ee]})).sort((he,ie)=>he.rating-ie.rating);ae.forEach(he=>{const ie=pe.findIndex(ye=>ye.name===he.name);he[Ee]=ie+1})}),w(Te),d(B?Te:ge),m(ge,p),h([...c,Ee]),u([...l,Ee],p),M(""),K(Ee)}catch(oe){console.error("Error fetching new colors:",oe),M("Error")}C(!1),H()},W=()=>{C(!0);const oe=l.filter(ge=>ge!==J);u(oe,p);const le=c.filter(ge=>ge!==J);h(le);const Q=[...g];Q.forEach(ge=>{ge.characters.forEach(Te=>{delete Te[J]})});const ce=[...f];ce.forEach(ge=>{ge.characters.forEach(Te=>{delete Te[J]})}),w(ce),d(B?ce:Q),m(Q,p),K("location"),C(!1),H()};return I.jsx(Tr,{opened:y,onClose:()=>H(),title:D==="deleteColor"?" Delete custom color scheme":D==="deleteYAxis"?" Delete custom y-axis":D==="addColor"?" Categorize by color (add custom color scheme)":D==="addY"?" Rank by trait (add custom y-axis)":" Clear local storage",centered:!0,size:"lg",id:"prompt-modal",children:D.includes("delete")?I.jsxs(I.Fragment,{children:[D==="deleteColor"?I.jsxs("p",{children:["Are you sure you want to delete the color: ",I.jsx("b",{children:q}),"?"]}):D==="deleteYAxis"?I.jsxs("p",{children:["Are you sure you want to delete the y-axis: ",I.jsx("b",{children:J}),"?"]}):I.jsx("p",{children:"Are you sure you want to clear your local storage?"}),I.jsxs("div",{style:{display:"flex",columnGap:"0.5rem",paddingTop:"0.75rem"},children:[I.jsx(nt,{size:"xs",onClick:()=>H(),variant:"outline",disabled:x,children:I.jsx("span",{children:"Cancel"})}),I.jsx(nt,{size:"xs",onClick:()=>{if(D==="deleteColor")R();else if(D==="deleteYAxis")W();else{if(x)return;C(!0),tn.clear().then(()=>{C(!1),H(),window.location.reload()})}},disabled:x,children:I.jsx("span",{className:x?"loading":"",children:x?"Loading...":"Confirm"})})]})]}):D==="addColor"?I.jsxs(I.Fragment,{children:[I.jsx(Ta,{size:"xs",label:`I would like to color the ${_?"themes":"characters"} by...`,rows:2,value:Z,onChange:oe=>M(oe.currentTarget.value),placeholder:"Enter description here (e.g., gender, age, etc.)",spellCheck:!1}),I.jsx(Ta,{size:"xs",label:"(Optional) Any color palette preferences? ",rows:1,value:$,onChange:oe=>S(oe.currentTarget.value),placeholder:"Enter preferences here (e.g., pastels, green for low / purple for high, etc.)",style:{marginTop:"0.25rem"},spellCheck:!1}),I.jsx(nt,{size:"xs",fullWidth:!0,disabled:x||Z===""||Object.keys(r).includes(Z.toLowerCase())||nd.includes(Z.toLowerCase()),onClick:()=>N(),style:{marginTop:"0.75rem"},children:I.jsx("span",{className:x?"loading":"",children:x?"Loading...":"Go"})})]}):I.jsxs(I.Fragment,{children:[I.jsx(Ta,{size:"xs",label:`I would like to rank the ${_?"themes":"characters"} in each scene by...`,rows:2,value:Z,onChange:oe=>M(oe.currentTarget.value),placeholder:"Enter description here (e.g., conflict level, presence, etc.)",spellCheck:!1}),I.jsx(nt,{size:"xs",fullWidth:!0,disabled:x||Z===""||l.includes(Z.toLowerCase())||id.includes(Z.toLowerCase()),onClick:()=>V(),style:{marginTop:"0.75rem"},children:I.jsx("span",{className:x?"loading":"",children:x?"Loading...":"Go"})})]})})}var Mj={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function Aj(e){if(typeof e=="number")return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();n.includes(".")?t=parseFloat(n):t=parseInt(n,10);var r=(e.match(/[^0-9]*$/)||"").toString();return Mj[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function Q0(e){var t=Aj(e);return"".concat(t.value).concat(t.unit)}var Dj=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if(typeof window>"u"||!window.document)return r;var o=document.createElement("style");document.head.appendChild(o);var a=o.sheet,i=`
    @keyframes `.concat(r,` {
      `).concat(t,`
    }
  `);return a&&a.insertRule(i,0),r},ah=function(){return ah=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ah.apply(this,arguments)},Pj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},Rj=Dj("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function Lj(e){var t=e.loading,n=t===void 0?!0:t,r=e.color,o=r===void 0?"#000000":r,a=e.speedMultiplier,i=a===void 0?1:a,s=e.cssOverride,l=s===void 0?{}:s,c=e.size,u=c===void 0?35:c,h=Pj(e,["loading","color","speedMultiplier","cssOverride","size"]),d=ah({background:"transparent !important",width:Q0(u),height:Q0(u),borderRadius:"100%",border:"2px solid",borderTopColor:o,borderBottomColor:"transparent",borderLeftColor:o,borderRightColor:o,display:"inline-block",animation:"".concat(Rj," ").concat(.75/i,"s 0s infinite linear"),animationFillMode:"both"},l);return n?E.createElement("span",ah({style:d},h)):null}function Oj(){const{isUpdatingData:e}=ct();return I.jsx("div",{id:"spinner",className:e?"":"hidden",children:I.jsx(Lj,{size:80,speedMultiplier:.75})})}function Hj(){const{aboutModalOpened:e,setAboutModalOpened:t,themeView:n,chapterView:r,yAxis:o,isBackendActive:a}=ct(),{data:i}=pt(),s=()=>{t(!1)};return I.jsxs(Tr,{opened:e,onClose:()=>s(),title:" About Story Ribbons",centered:!0,size:"lg",id:"about-modal",children:[!a&&I.jsx("p",{className:"disclaimer",children:I.jsxs("b",{children:["Note: Backend is not active. Please"," ",I.jsx("a",{href:"https://github.com/catherinesyeh/story-viz/",target:"_blank",title:"Github repo",children:"run locally"})," ","to try out LLM-powered features!"]})}),I.jsxs("p",{children:[I.jsx("b",{className:"grad",children:"Story Ribbons"})," is an interactive literary analysis tool that visualizes story interactions over time. You are currently exploring the story: ",I.jsx("b",{children:i.title}),". All insights were generated by a large language model."]}),I.jsxs("p",{children:[' Each "ribbon" represents a ',I.jsx("b",{children:n?"theme":"character"})," ","in the current story (configurable in the ",I.jsx("i",{children:"Visualization Settings"})," ","toolbar). You can customize the unit of time along the"," ",I.jsx("span",{className:"emph",children:"x-axis"})," (current:"," ",I.jsx("b",{children:r?"chapters":"scenes"}),") and choose what the"," ",I.jsx("span",{className:"emph",children:"y-axis"})," represents (current: ",I.jsx("b",{children:o}),"). Hovering on a character/theme, location, or scene will bring up an overlay with additional information."]}),I.jsxs("p",{children:[" Our storyline visualizations are further customizable with the by opening the"," ",I.jsxs("i",{children:[n?"Theme":"Character"," /"," ",r?"Chapter":"Scene"," Settings"]})," ","on the right. Here, you can choose what the"," ",I.jsx("span",{className:"emph",children:"color"})," of each ribbon represents, and change the ",I.jsx("span",{className:"emph",children:"color"})," /"," ",I.jsx("span",{className:"emph",children:"size"})," /"," ",I.jsx("span",{className:"emph",children:"weight"})," encodings of each"," ",r?"chapter":"scene"," label."]}),I.jsxs("p",{children:[" If you need help at any time, click the"," ",I.jsx(i2,{style:{marginBottom:-2}})," tooltip icons around the interface. Thanks for checking out"," ",I.jsx("b",{className:"grad",children:"Story Ribbons!"})]}),I.jsxs(Xg,{gap:"xs",mt:"md",children:[I.jsx(nt,{size:"xs",onClick:()=>s(),children:"Start exploring"}),I.jsx(nt,{size:"xs",onClick:()=>window.open("https://catherinesyeh.github.io/story-docs","_blank"),children:"Documentation"}),I.jsx(nt,{size:"xs",onClick:()=>window.open("https://arxiv.org/abs/2508.06772","_blank"),children:"Paper"}),I.jsx(nt,{size:"xs",onClick:()=>window.open("https://github.com/catherinesyeh/story-viz","_blank"),children:"Code"})]})]})}function $j({...e}){const[t,n]=E.useState(e.src);E.useEffect(()=>{n(e.src)},[e.src]);const r=()=>{n(e.placeholder)};return I.jsx("img",{...e,src:t,onError:r})}function jj(){var J,K,B,Z,M,$;const{characterHover:e,characterColor:t,story:n,storyMarginTop:r,sidebarOpen:o,detailView:a}=ct(),{character_data:i,sortedCharacters:s,customColorDict:l}=pt(),[c,u]=E.useState("rgb(0, 0, 0)"),[h,d]=E.useState(!0),[f,w]=E.useState(""),[m,g]=E.useState(""),[p,y]=E.useState(""),[b,_]=E.useState(""),[x,C]=E.useState(0),O=10;E.useEffect(()=>{const S=H=>{if(!h)return;H.preventDefault(),H.stopPropagation();let N=H.clientX,R=H.clientY;const W=document.getElementById("character-info").getBoundingClientRect();R+O>=W.top&&R-O<=W.bottom&&N+O>=W.left&&N-O<=W.right?C(R-r+O):C(0)};return window.addEventListener("mousemove",S),()=>{window.removeEventListener("mousemove",S)}},[]);const D=s.map(S=>S.group),q=[...new Set(D)];return E.useEffect(()=>{if(e!==""){const S=i.find(H=>H.character===e);if(S){const H=xo(S.character,s),N=ss(S.character,s)||H,R=zr(S.group,q);if(t==="llm")u(N);else if(t==="group")u(R);else if(Object.keys(l).includes(t)){const W=tr(l[t],i,S.character,t);u(W)}else u(H);w(S.character),g(S.group),y(S.quote);const V=Array.isArray(S.explanation)?S.explanation.join(" ").trim():S.explanation;_(V)}}},[e,t]),I.jsxs("div",{id:"character-info",style:{borderColor:c.split(")")[0]+", 0.3)",marginTop:"calc("+x+"px + 1rem)",top:r,right:`calc(${o&&!a?"440px":a?Jo+"px + 1rem":"0px"} + 1rem)`},className:e!==""?"":"hidden",onMouseEnter:S=>{S.preventDefault(),S.stopPropagation(),d(!1)},onMouseLeave:S=>{S.preventDefault(),S.stopPropagation(),d(!0)},children:[I.jsxs("div",{className:"character-inner grid",children:[I.jsx($j,{className:"character-image",src:"characters/"+Ma(n.replace("-mov",""))+"/"+((J=i.find(S=>S.character===e))==null?void 0:J.key)+".png",placeholder:"characters/placeholder.png"}),I.jsxs("div",{children:[I.jsxs("b",{style:{color:c},children:[f||"Character"," (",Object.keys(l).includes(t)&&((K=i.find(S=>S.character===e))!=null&&K[t])?`${t}: ${(Z=(B=i.find(S=>S.character===e))==null?void 0:B[t])==null?void 0:Z.val}`:m||"Group",")"]}),I.jsx("p",{children:p||"Quote"})]})]}),I.jsx("div",{className:"character-inner explanation "+(b&&t==="llm"||Object.keys(l).includes(t)?"":"hidden"),style:{background:c.split(")")[0]+", 0.6)"},children:I.jsx("p",{style:{color:BI(c)},children:Object.keys(l).includes(t)?($=(M=i.find(S=>S.character===e))==null?void 0:M[t])==null?void 0:$.exp:b})})]})}function Gj(){const{locationHover:e,yAxisHeight:t,yAxis:n,story:r,fullHeight:o,chapterView:a,storyMarginTop:i}=ct(),{location_data:s}=pt(),{plotHeight:l}=Ln(),[c,u]=E.useState(""),[h,d]=E.useState(""),[f,w]=E.useState(""),m=l<Xt?1:t/l;return E.useEffect(()=>{if(e!==""){const g=s.find(p=>p.name===e);g&&(u(g.name),d(g.quote),g.emoji?w(g.emoji):w(""))}},[e]),I.jsxs("div",{id:"location-overlay",className:n=="location"&&e!==""?"":"hidden",style:{left:r.includes("-new")&&!o&&!a&&(n==="location"||n==="character")?"calc("+160*m+"px + 2rem)":"calc(160px + 2rem)",top:i},children:[I.jsxs("b",{children:[c||"Location"," ",f&&f!==""&&f]}),I.jsx("p",{children:h||"Quote"})]})}function Bj(){const{legendHover:e}=ct(),[t,n]=E.useState({x:0,y:0}),r=10;return E.useEffect(()=>{const o=a=>{a.preventDefault(),a.stopPropagation();let i=a.clientX,s=a.clientY,l=window.innerWidth-80;i>l&&(i=l),n({x:i,y:s})};return e!==""&&window.addEventListener("mousemove",o),()=>{window.removeEventListener("mousemove",o)}},[e]),I.jsx("div",{id:"legend-hover-msg",className:e===""?"hidden":"",style:{left:t.x+"px",top:t.y+r+"px"},children:e})}function Wj(){const{networkHover:e}=ct(),[t,n]=E.useState({x:0,y:0}),r=10;return E.useEffect(()=>{const o=a=>{a.preventDefault(),a.stopPropagation();let i=a.clientX,s=a.clientY;n({x:i,y:s})};return e!==""&&window.addEventListener("mousemove",o),()=>{window.removeEventListener("mousemove",o)}},[e]),I.jsx("div",{id:"network-hover-msg",className:e===""?"hidden":"",style:{left:t.x+"px",top:t.y+r+"px"},dangerouslySetInnerHTML:{__html:e}})}function zj(){const{scene_data:e}=pt(),{plotHeight:t}=Ln(),{setStoryMarginTop:n,storyMarginTop:r,story:o,fullHeight:a,yAxisHeight:i,yAxis:s,setStoryScrollX:l,storyScrollX:c,showLegend:u,chapterView:h,detailView:d,isUpdatingData:f,demoMode:w}=ct(),m=E.useRef(null),g=t<Xt?1:i/t,p=o.includes("-new")&&!a&&!h&&(s==="location"||s==="character")?160*g:s==="location"||s==="character"?140:20,y=()=>{if(m.current){const _=m.current.clientHeight-5;n(_)}};E.useEffect(()=>(window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)}),[]),E.useEffect(()=>{if(document){const _=document.getElementById("story-contain");_&&_.scrollTo({left:c})}},[c]);const b=_=>{const x=_.scrollLeft;l(x)};return E.useEffect(()=>{e&&y()},[e,u,m.current]),I.jsxs(I.Fragment,{children:[I.jsxs("div",{id:"app",children:[I.jsx("div",{id:"header-container",ref:m,children:I.jsxs("header",{style:{alignItems:w?"center":""},children:[I.jsx(Ej,{}),I.jsx(oj,{})]})}),I.jsxs("div",{id:"story-contain",className:f?"loading":"",style:{marginTop:r,width:`calc(100% - ${p+(d?Jo:0)}px)`,marginLeft:`calc(${p}px - 1rem`,marginBottom:a||window&&t*g>window.innerHeight-r-(o.includes("-new")&&!h?150:250)?`${Xt*2.5*g+40+(o.includes("-new")&&!h?40:0)}px`:"40px"},onScroll:_=>{b(_.currentTarget)},children:[I.jsx(Oj,{}),I.jsx(mj,{}),I.jsx(uj,{})]}),I.jsx(Sj,{}),I.jsx(xj,{}),I.jsx(vj,{}),I.jsx(jj,{}),I.jsx(Gj,{}),I.jsx(Tj,{}),I.jsx(Wj,{}),I.jsx(Bj,{})]}),I.jsx(Nj,{}),I.jsx(Hj,{})]})}const qj={primaryColor:"dark"};sm.createRoot(document.getElementById("root")).render(I.jsx(Lx,{theme:qj,children:I.jsx(zj,{})}));
